/**
 *	8.4.0
 *	Generation date: 2021-11-18T06:25:04.836Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-12-18"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/** ************************************* DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */

/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
e8ll[384318]=(function(){var Z=2;for(;Z !== 9;){switch(Z){case 1:return globalThis;break;case 2:Z=typeof globalThis === '\u006f\x62\x6a\x65\u0063\u0074'?1:5;break;case 5:var D;try{var c=2;for(;c !== 6;){switch(c){case 2:Object['\x64\x65\x66\u0069\u006e\x65\u0050\x72\x6f\x70\x65\x72\x74\x79'](Object['\x70\u0072\u006f\x74\u006f\x74\u0079\x70\u0065'],'\x4c\x6d\x72\u004a\u0078',{'\x67\x65\x74':function(){var x=2;for(;x !== 1;){switch(x){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});D=LmrJx;D['\u0068\x38\u007a\u0059\u0053']=D;c=4;break;case 9:delete D['\x68\u0038\u007a\x59\x53'];var T=Object['\x70\u0072\x6f\x74\x6f\u0074\x79\u0070\u0065'];delete T['\u004c\x6d\u0072\u004a\x78'];c=6;break;case 4:c=typeof h8zYS === '\x75\u006e\u0064\u0065\u0066\x69\u006e\x65\x64'?3:9;break;case 3:throw "";c=9;break;}}}catch(r){D=window;}return D;break;}}})();e8ll[381627]=s6mm(e8ll[384318]);e8ll[326554]=m777(e8ll[384318]);e8ll[468755]=(function(I7v){return {n7v:function(){var S7v,g7v=arguments;switch(I7v){case 59:S7v=g7v[1] + g7v[2] - g7v[0] + g7v[3];break;case 88:S7v=(g7v[3] + g7v[2]) / (g7v[0] | g7v[1]);break;case 159:S7v=g7v[3] - g7v[0] + (g7v[2] >> g7v[1]);break;case 129:S7v=g7v[1] + g7v[3] + g7v[2] - g7v[0];break;case 71:S7v=(g7v[5] - g7v[1]) * (g7v[0] - g7v[4]) / (g7v[3] - g7v[6]) + g7v[2];break;case 14:S7v=g7v[0] / (g7v[2] / g7v[1]);break;case 171:S7v=(-g7v[1] - g7v[4] + g7v[0]) / g7v[3] + g7v[2];break;case 47:S7v=g7v[1] - g7v[0] / g7v[2];break;case 118:S7v=g7v[4] * g7v[5] * g7v[2] + (g7v[3] - g7v[0] * g7v[6]) * g7v[1];break;case 140:S7v=g7v[1] - g7v[2] + g7v[3] - g7v[0];break;case 113:S7v=g7v[4] * g7v[0] - g7v[3] + g7v[1] - g7v[2];break;case 117:S7v=(g7v[2] + g7v[1]) * g7v[0];break;case 26:S7v=(g7v[0] + g7v[4]) * g7v[3] + g7v[1] - g7v[2];break;case 18:S7v=(-g7v[2] + g7v[0] - g7v[3]) * g7v[4] - g7v[1];break;case 94:S7v=g7v[4] / g7v[2] / g7v[3] - g7v[0] + g7v[1];break;case 175:S7v=g7v[4] - g7v[0] - g7v[2] + g7v[1] - g7v[3];break;case 157:S7v=(-g7v[1] + g7v[0] - g7v[3]) * g7v[4] + g7v[2];break;case 135:S7v=g7v[4] / g7v[1] + g7v[0] + g7v[2] - g7v[3];break;case 155:S7v=g7v[1] > g7v[0];break;case 138:S7v=(g7v[3] + g7v[0]) / g7v[4] + g7v[1] + g7v[2];break;case 97:S7v=(g7v[1] * g7v[2] + g7v[3]) / g7v[0];break;case 31:S7v=(g7v[2] - g7v[1] + g7v[3]) / g7v[4] - g7v[0];break;case 67:S7v=(g7v[0] + g7v[3]) * g7v[2] / g7v[1] + g7v[4];break;case 148:S7v=-g7v[1] * g7v[0] / g7v[3] - g7v[2] + g7v[4];break;case 120:S7v=-g7v[4] / g7v[2] + g7v[1] + g7v[3] - g7v[0];break;case 48:S7v=g7v[2] + g7v[0] / +g7v[1];break;case 53:S7v=g7v[1] - g7v[0] - g7v[2];break;case 27:S7v=g7v[0] - g7v[4] - g7v[3] + g7v[1] + g7v[2];break;case 63:S7v=g7v[1] < g7v[0];break;case 136:S7v=-g7v[1] * g7v[2] - g7v[3] + g7v[0];break;case 142:S7v=g7v[3] - g7v[0] / ((g7v[2] >> g7v[5]) + g7v[1] / g7v[4]);break;case 35:S7v=g7v[2] * g7v[3] < g7v[1] - g7v[0];break;case 81:S7v=g7v[3] * (g7v[2] * g7v[4] + +g7v[0]) / (g7v[1] - g7v[5]);break;case 101:S7v=g7v[1] !== g7v[0];break;case 169:S7v=g7v[1] == g7v[0];break;case 24:S7v=(g7v[0] - g7v[1]) / g7v[2];break;case 65:S7v=(g7v[2] - g7v[3]) * g7v[0] + g7v[1];break;case 95:S7v=g7v[1] + (g7v[2] - g7v[0]) / (g7v[5] - g7v[6]) * (g7v[4] - g7v[3]);break;case 144:S7v=g7v[0] * (g7v[3] / g7v[2] - g7v[1]);break;case 0:S7v=g7v[1] | g7v[0];break;case 28:S7v=g7v[0] / g7v[4] * g7v[1] * g7v[3] - g7v[2];break;case 42:S7v=g7v[1] >> g7v[0];break;case 127:S7v=(g7v[1] / g7v[3] + g7v[0]) * g7v[2] - g7v[4];break;case 145:S7v=g7v[1] + g7v[3] * (g7v[2] - g7v[0]);break;case 152:S7v=g7v[1] / (g7v[3] * g7v[0]) <= g7v[2];break;case 69:S7v=g7v[2] * g7v[1] + g7v[0] - g7v[3];break;case 102:S7v=(g7v[3] * g7v[2] + g7v[1]) / g7v[0] + g7v[4];break;case 58:S7v=g7v[3] / g7v[1] * g7v[0] - g7v[4] - g7v[2];break;case 20:S7v=-g7v[3] / g7v[2] - g7v[0] + g7v[1];break;case 46:S7v=g7v[0] ^ g7v[1];break;case 74:S7v=g7v[1] / +g7v[0];break;case 64:S7v=(g7v[2] - g7v[3]) / (g7v[1] - g7v[0]);break;case 100:S7v=g7v[1] * g7v[2] / g7v[0];break;case 162:S7v=g7v[0] - g7v[3] / (g7v[1] + g7v[2] / g7v[4]);break;case 106:S7v=g7v[3] * g7v[0] / g7v[2] / g7v[4] - g7v[1];break;case 15:S7v=g7v[1] * g7v[0];break;case 37:S7v=g7v[2] * g7v[1] - g7v[3] - g7v[0];break;case 92:S7v=-(g7v[2] - g7v[3]) * g7v[0] + g7v[1];break;case 122:S7v=g7v[3] * g7v[1] / g7v[4] * g7v[0] + g7v[2];break;case 39:S7v=-g7v[3] * g7v[1] * g7v[0] + g7v[2];break;case 86:S7v=g7v[1] + g7v[2] + g7v[0];break;case 134:S7v=g7v[0] * g7v[3] - g7v[1] - g7v[4] - g7v[2];break;case 61:S7v=g7v[2] / g7v[1] - g7v[3] + g7v[0];break;case 110:S7v=g7v[4] * g7v[2] - g7v[3] - g7v[1] + g7v[0];break;case 128:S7v=g7v[2] / g7v[3] + g7v[1] + g7v[0];break;case 33:S7v=(g7v[3] + g7v[2] - g7v[1]) * g7v[0] + g7v[4];break;case 2:S7v=g7v[3] - g7v[4] + g7v[1] - g7v[2] + g7v[0];break;case 173:S7v=g7v[3] + (g7v[2] / g7v[1] - g7v[4] / g7v[0]);break;case 3:S7v=g7v[1] + g7v[0];break;case 163:S7v=g7v[0] * -g7v[1];break;case 16:S7v=g7v[1] + +g7v[2] * g7v[0];break;case 13:S7v=(-g7v[4] - g7v[1]) / g7v[0] - g7v[2] + g7v[3];break;case 40:S7v=-g7v[0] + g7v[1];break;case 149:S7v=(-g7v[1] / g7v[4] - g7v[0]) * g7v[2] + g7v[3];break;case 164:S7v=(g7v[4] - g7v[1] + g7v[2]) * g7v[0] - g7v[3];break;case 17:S7v=g7v[0] - g7v[2] * g7v[1];break;case 49:S7v=g7v[0] + g7v[2] / g7v[1];break;case 165:S7v=(-g7v[0] - g7v[3]) * g7v[2] - g7v[1] + g7v[4];break;case 167:S7v=g7v[2] + g7v[3] * +g7v[0] + g7v[1];break;case 60:S7v=(g7v[1] + g7v[2]) / g7v[3] + g7v[0];break;case 54:S7v=-g7v[1] * g7v[0] + g7v[2];break;case 154:S7v=g7v[1] / g7v[3] * g7v[2] + g7v[0];break;case 72:S7v=g7v[2] / g7v[1] + g7v[0] - g7v[3];break;case 109:S7v=(g7v[1] + g7v[2]) / g7v[0] * g7v[4] - g7v[3];break;case 170:S7v=g7v[2] + g7v[3] / g7v[1] + g7v[0];break;case 5:S7v=g7v[0] - g7v[1];break;case 25:S7v=g7v[1] << g7v[0];break;case 12:S7v=(g7v[4] + g7v[1] + g7v[3] + g7v[2]) / +g7v[0];break;case 121:S7v=(g7v[4] - g7v[3]) * g7v[2] * g7v[1] - g7v[0];break;case 76:S7v=g7v[0] / (g7v[2] | g7v[1]);break;case 156:S7v=g7v[2] * (g7v[0] + g7v[1]);break;case 50:S7v=g7v[2] + g7v[0] / (g7v[3] ^ g7v[1]);break;case 119:S7v=(g7v[0] - g7v[1]) / g7v[4] - g7v[3] + g7v[2];break;case 91:S7v=(g7v[1] + g7v[3]) / g7v[0] / g7v[4] - g7v[2];break;case 75:S7v=(g7v[1] ^ g7v[0]) / g7v[2];break;case 55:S7v=(g7v[0] - g7v[2]) / (g7v[3] - g7v[1]) > g7v[4];break;case 108:S7v=g7v[3] + g7v[0] + g7v[2] + g7v[1];break;case 158:S7v=g7v[3] - g7v[2] / (g7v[0] + g7v[1]);break;case 6:S7v=g7v[1] - g7v[0] + g7v[3] + g7v[2];break;case 73:S7v=g7v[3] * g7v[0] * g7v[2] - g7v[1];break;case 9:S7v=g7v[0] / g7v[1];break;case 116:S7v=g7v[0] / g7v[3] / g7v[2] + g7v[4] + g7v[1];break;case 115:S7v=g7v[0] + (g7v[1] >> g7v[2]);break;case 44:S7v=(-g7v[1] + g7v[4]) * g7v[3] + g7v[0] - g7v[2];break;case 166:S7v=g7v[0] - g7v[2] * g7v[3] - g7v[1];break;case 87:S7v=g7v[2] + g7v[0] * g7v[1];break;case 160:S7v=g7v[1] * g7v[3] + g7v[2] - g7v[4] - g7v[0];break;case 45:S7v=g7v[2] * g7v[4] / g7v[1] * g7v[3] - g7v[0];break;case 82:S7v=(g7v[3] * g7v[2] - g7v[1] * g7v[4]) / (g7v[0] * g7v[5] - g7v[6]);break;case 66:S7v=g7v[3] * g7v[2] / g7v[1] - g7v[0];break;case 52:S7v=g7v[3] - g7v[2] / (g7v[0] - g7v[1]);break;case 150:S7v=g7v[1] / g7v[4] - g7v[0] + g7v[2] + g7v[3];break;case 112:S7v=g7v[3] - g7v[0] - g7v[2] - g7v[1] + g7v[4];break;case 98:S7v=(g7v[1] + g7v[0] * g7v[2]) / g7v[3];break;case 11:S7v=(g7v[3] + g7v[2]) * g7v[1] * g7v[4] - g7v[0];break;case 34:S7v=g7v[1] / g7v[2] - g7v[0];break;case 43:S7v=-g7v[1] + g7v[2] - g7v[0];break;case 111:S7v=(g7v[0] + g7v[1]) / g7v[2] - g7v[3];break;case 126:S7v=g7v[1] / g7v[4] / g7v[3] * g7v[0] + g7v[2];break;case 4:S7v=g7v[2] - g7v[1] + g7v[0];break;case 125:S7v=g7v[1] * g7v[0] * g7v[4] - g7v[3] - g7v[2];break;case 38:S7v=(g7v[2] / g7v[4] - g7v[0]) / g7v[3] + g7v[1];break;case 105:S7v=g7v[3] + g7v[4] + g7v[1] + g7v[0] + g7v[2] + g7v[5] + g7v[6] + g7v[7];break;case 7:S7v=(g7v[1] + g7v[0]) / g7v[2];break;case 78:S7v=g7v[1] - g7v[0] * (g7v[3] - g7v[2]);break;case 104:S7v=(-g7v[3] - g7v[1]) * g7v[2] + g7v[0];break;case 30:S7v=-g7v[1] / g7v[2] + g7v[0];break;case 123:S7v=g7v[0] + g7v[3] + g7v[4] - g7v[2] - g7v[1];break;case 89:S7v=(g7v[2] + g7v[0]) * g7v[1] - g7v[3];break;case 141:S7v=g7v[2] * g7v[0] * g7v[1];break;case 114:S7v=(g7v[0] + g7v[4] + g7v[1]) / g7v[3] - g7v[2];break;case 36:S7v=g7v[2] + (g7v[0] - g7v[1]);break;case 146:S7v=g7v[3] * g7v[2] / g7v[1] + g7v[0];break;case 99:S7v=(g7v[1] + g7v[2] * g7v[3]) / +g7v[0];break;case 8:S7v=g7v[0] + g7v[1] - g7v[2];break;case 70:S7v=g7v[1] * g7v[0] + g7v[2];break;case 68:S7v=(g7v[3] - g7v[2]) / g7v[0] + g7v[1];break;case 22:S7v=g7v[2] * g7v[0] * g7v[4] * g7v[1] - g7v[3];break;case 23:S7v=g7v[0] - (g7v[1] - g7v[2]);break;case 21:S7v=(g7v[1] - g7v[3] + g7v[0]) * g7v[4] + g7v[2];break;case 41:S7v=(g7v[0] + g7v[1]) / g7v[2] + g7v[3] - g7v[4];break;case 133:S7v=(g7v[4] + g7v[0]) * g7v[1] / g7v[3] - g7v[2];break;case 130:S7v=g7v[3] + (g7v[0] | g7v[1]) * g7v[2];break;case 131:S7v=g7v[3] + g7v[4] - g7v[0] + g7v[2] - g7v[1];break;case 161:S7v=g7v[2] - g7v[0] + g7v[4] + g7v[3] + g7v[1];break;case 79:S7v=g7v[4] * g7v[3] * g7v[1] + g7v[0] - g7v[2];break;case 10:S7v=-g7v[1] - g7v[2] + g7v[0];break;case 139:S7v=g7v[1] * g7v[0] / (g7v[3] + g7v[2]);break;case 103:S7v=g7v[3] - g7v[1] - g7v[0] + g7v[2];break;case 32:S7v=(g7v[4] - g7v[3]) * g7v[0] + g7v[1] + g7v[2];break;case 80:S7v=g7v[2] * (g7v[3] + g7v[0]) / g7v[1];break;case 51:S7v=g7v[1] - g7v[2] / +g7v[0];break;case 93:S7v=(g7v[4] - g7v[0]) * g7v[1] - g7v[3] + g7v[2];break;case 90:S7v=(g7v[2] + g7v[1]) / g7v[4] / g7v[0] + g7v[3];break;case 19:S7v=g7v[0] & g7v[1];break;case 57:S7v=g7v[1] / g7v[0] + g7v[2];break;case 84:S7v=g7v[1] - +g7v[0];break;case 124:S7v=(g7v[0] / g7v[1] + g7v[3]) / g7v[2] + g7v[4];break;case 168:S7v=g7v[4] - g7v[2] * (g7v[0] | g7v[3]) - g7v[1];break;case 62:S7v=g7v[0] * g7v[2] - g7v[1];break;case 83:S7v=(g7v[0] - g7v[3] * g7v[1]) / g7v[2];break;case 174:S7v=(-g7v[2] + g7v[1]) / g7v[0] / g7v[3] + g7v[4];break;case 85:S7v=g7v[0] + +g7v[1];break;case 29:S7v=g7v[3] / g7v[2] / g7v[0] - g7v[1];break;case 132:S7v=(g7v[1] * g7v[2] + g7v[4]) * g7v[0] - g7v[3];break;case 77:S7v=g7v[1] + (g7v[3] - g7v[2]) / g7v[0];break;case 56:S7v=(-g7v[1] * g7v[4] - g7v[3]) / g7v[2] - g7v[0];break;case 1:S7v=g7v[2] + g7v[0] - g7v[3] - g7v[1];break;case 172:S7v=g7v[1] - (g7v[0] | g7v[2]);break;case 147:S7v=-g7v[4] / g7v[2] / g7v[0] - g7v[1] + g7v[3];break;case 153:S7v=(-g7v[1] + g7v[0]) * g7v[2] + g7v[3];break;case 143:S7v=-g7v[1] * g7v[2] + g7v[0] - g7v[3] + g7v[4];break;case 137:S7v=g7v[4] / g7v[3] / g7v[1] * g7v[0] - g7v[2];break;case 176:S7v=g7v[1] - (g7v[2] << g7v[0]);break;case 107:S7v=(g7v[1] - (g7v[3] + g7v[2])) / g7v[0];break;case 151:S7v=(g7v[2] % g7v[0] + +g7v[3]) * g7v[1];break;case 96:S7v=(g7v[1] - g7v[3]) / g7v[2] / g7v[0] + g7v[4];break;}return S7v;},x7v:function(Z7v){I7v=Z7v;}};})();e8ll[384318].O6kk=e8ll;e8ll[626526]=(function(){var m0B=function(V0B,W0B){var n0B=W0B & 0xffff;var x0B=W0B - n0B;return (x0B * V0B | 0) + (n0B * V0B | 0) | 0;},u0B=function(H0B,q0B,g0B){var f0B=0xcc9e2d51,p0B=0x1b873593;var a0B=g0B;var b0B=q0B & ~0x3;for(var D0B=0;D0B < b0B;D0B+=4){var P0B=H0B.L6mm(D0B) & 0xff | (H0B.L6mm(D0B + 1) & 0xff) << 8 | (H0B.L6mm(D0B + 2) & 0xff) << 16 | (H0B.L6mm(D0B + 3) & 0xff) << 24;P0B=m0B(P0B,f0B);P0B=(P0B & 0x1ffff) << 15 | P0B >>> 17;P0B=m0B(P0B,p0B);a0B^=P0B;a0B=(a0B & 0x7ffff) << 13 | a0B >>> 19;a0B=a0B * 5 + 0xe6546b64 | 0;}P0B=0;switch(q0B % 4){case 3:P0B=(H0B.L6mm(b0B + 2) & 0xff) << 16;case 2:P0B|=(H0B.L6mm(b0B + 1) & 0xff) << 8;case 1:P0B|=H0B.L6mm(b0B) & 0xff;P0B=m0B(P0B,f0B);P0B=(P0B & 0x1ffff) << 15 | P0B >>> 17;P0B=m0B(P0B,p0B);a0B^=P0B;}a0B^=q0B;a0B^=a0B >>> 16;a0B=m0B(a0B,0x85ebca6b);a0B^=a0B >>> 13;a0B=m0B(a0B,0xc2b2ae35);a0B^=a0B >>> 16;return a0B;};return {s0B:u0B};})();e8ll.z2x=function(){return typeof e8ll[59923].V84 === 'function'?e8ll[59923].V84.apply(e8ll[59923],arguments):e8ll[59923].V84;};e8ll[59923]=(function(){var I2x=2;for(;I2x !== 9;){switch(I2x){case 2:var T2x=[arguments];T2x[6]=undefined;T2x[9]={};T2x[9].V84=function(){var Q2x=2;for(;Q2x !== 90;){switch(Q2x){case 26:S2x[99].q4v=['Q4v'];S2x[99].K4v=function(){var l84=typeof S777 === 'function';return l84;};S2x[52]=S2x[99];S2x[33]={};S2x[33].q4v=['Q4v'];Q2x=21;break;case 64:S2x[13]='e4v';S2x[10]='t4v';S2x[84]='q4v';S2x[61]='m4v';Q2x=60;break;case 42:S2x[15].q4v=['l4v'];S2x[15].K4v=function(){var i84=function(){return ('x').repeat(2);};var s84=(/\x78\u0078/).L777(i84 + []);return s84;};S2x[83]=S2x[15];S2x[92]={};S2x[92].q4v=['Q4v'];S2x[92].K4v=function(){var q84=typeof K777 === 'function';return q84;};S2x[27]=S2x[92];Q2x=54;break;case 67:T2x[6]=93;return 82;break;case 57:Q2x=S2x[56] < S2x[3].length?56:69;break;case 51:S2x[3].n777(S2x[52]);S2x[3].n777(S2x[83]);S2x[3].n777(S2x[5]);Q2x=48;break;case 72:S2x[38].n777(S2x[12]);Q2x=71;break;case 56:S2x[94]=S2x[3][S2x[56]];try{S2x[80]=S2x[94][S2x[89]]()?S2x[13]:S2x[10];}catch(a84){S2x[80]=S2x[10];}Q2x=77;break;case 5:return 85;break;case 69:Q2x=(function(m2x){var O2x=2;for(;O2x !== 22;){switch(O2x){case 2:var v2x=[arguments];O2x=1;break;case 12:v2x[9].n777(v2x[8][S2x[37]]);O2x=11;break;case 7:O2x=v2x[7] < v2x[0][0].length?6:18;break;case 16:O2x=v2x[7] < v2x[9].length?15:23;break;case 24:v2x[7]++;O2x=16;break;case 13:v2x[5][v2x[8][S2x[37]]]=(function(){var k2x=2;for(;k2x !== 9;){switch(k2x){case 2:var L2x=[arguments];L2x[1]={};L2x[1].h=0;k2x=4;break;case 4:L2x[1].t=0;return L2x[1];break;}}}).h777(this,arguments);O2x=12;break;case 25:v2x[6]=true;O2x=24;break;case 15:v2x[3]=v2x[9][v2x[7]];v2x[2]=v2x[5][v2x[3]].h / v2x[5][v2x[3]].t;O2x=26;break;case 10:O2x=v2x[8][S2x[61]] === S2x[13]?20:19;break;case 1:O2x=v2x[0][0].length === 0?5:4;break;case 19:v2x[7]++;O2x=7;break;case 8:v2x[7]=0;O2x=7;break;case 6:v2x[8]=v2x[0][0][v2x[7]];O2x=14;break;case 17:v2x[7]=0;O2x=16;break;case 5:return;break;case 18:v2x[6]=false;O2x=17;break;case 23:return v2x[6];break;case 14:O2x=typeof v2x[5][v2x[8][S2x[37]]] === 'undefined'?13:11;break;case 20:v2x[5][v2x[8][S2x[37]]].h+=true;O2x=19;break;case 11:v2x[5][v2x[8][S2x[37]]].t+=true;O2x=10;break;case 4:v2x[5]={};v2x[9]=[];v2x[7]=0;O2x=8;break;case 26:O2x=v2x[2] >= 0.5?25:24;break;}}})(S2x[38])?68:67;break;case 48:S2x[3].n777(S2x[66]);S2x[3].n777(S2x[27]);S2x[3].n777(S2x[1]);S2x[3].n777(S2x[41]);S2x[38]=[];Q2x=64;break;case 4:S2x[3]=[];S2x[4]={};S2x[4].q4v=['l4v'];S2x[4].K4v=function(){var g84=function(){return ('aaaa|a').substr(0,3);};var o84=!(/\u007c/).L777(g84 + []);return o84;};S2x[6]=S2x[4];Q2x=6;break;case 32:S2x[28].K4v=function(){var M84=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var y84=(/\x74\u0072\u0075\u0065/).L777(M84 + []);return y84;};S2x[66]=S2x[28];S2x[98]={};Q2x=29;break;case 29:S2x[98].q4v=['l4v'];S2x[98].K4v=function(){var I84=function(){return ('aa').endsWith('a');};var r84=(/\u0074\x72\u0075\u0065/).L777(I84 + []);return r84;};S2x[41]=S2x[98];S2x[15]={};Q2x=42;break;case 16:S2x[9].K4v=function(){var m84=false;var e84=[];try{for(var j84 in console){e84.n777(j84);}m84=e84.length === 0;}catch(f84){}var d84=m84;return d84;};S2x[5]=S2x[9];S2x[99]={};Q2x=26;break;case 1:Q2x=T2x[6]?5:4;break;case 21:S2x[33].K4v=function(){var J84=typeof t777 === 'function';return J84;};S2x[53]=S2x[33];S2x[28]={};S2x[28].q4v=['l4v'];Q2x=32;break;case 54:S2x[3].n777(S2x[2]);S2x[3].n777(S2x[6]);S2x[3].n777(S2x[53]);Q2x=51;break;case 76:Q2x=S2x[69] < S2x[94][S2x[84]].length?75:70;break;case 70:S2x[56]++;Q2x=57;break;case 77:S2x[69]=0;Q2x=76;break;case 71:S2x[69]++;Q2x=76;break;case 2:var S2x=[arguments];Q2x=1;break;case 20:S2x[7].K4v=function(){var B84=function(){return decodeURI('%25');};var z84=!(/\u0032\x35/).L777(B84 + []);return z84;};S2x[2]=S2x[7];S2x[9]={};S2x[9].q4v=['Q4v'];Q2x=16;break;case 60:S2x[89]='K4v';S2x[37]='f4v';Q2x=58;break;case 6:S2x[8]={};S2x[8].q4v=['l4v'];S2x[8].K4v=function(){var w84=function(){return ['a','a'].join();};var v84=!(/(\x5b|\u005d)/).L777(w84 + []);return v84;};S2x[1]=S2x[8];S2x[7]={};S2x[7].q4v=['l4v'];Q2x=20;break;case 58:S2x[56]=0;Q2x=57;break;case 75:S2x[12]={};S2x[12][S2x[37]]=S2x[94][S2x[84]][S2x[69]];S2x[12][S2x[61]]=S2x[80];Q2x=72;break;case 68:Q2x=50?68:67;break;}}};return T2x[9];break;}}})();e8ll.x4D=function(){return typeof e8ll[626526].s0B === 'function'?e8ll[626526].s0B.apply(e8ll[626526],arguments):e8ll[626526].s0B;};e8ll[100031]=160;e8ll.E4v=function(){return typeof e8ll[468755].x7v === 'function'?e8ll[468755].x7v.apply(e8ll[468755],arguments):e8ll[468755].x7v;};e8ll[216942]=247;e8ll.X4v=function(){return typeof e8ll[468755].n7v === 'function'?e8ll[468755].n7v.apply(e8ll[468755],arguments):e8ll[468755].n7v;};function s6mm(v4D){function i3D(O4D){var R4D=2;for(;R4D !== 5;){switch(R4D){case 2:var f4D=[arguments];return f4D[0][0].String;break;}}}var D4D=2;for(;D4D !== 12;){switch(D4D){case 9:Q4D[3]=1;Q4D[9]=Q4D[4];Q4D[9]+=Q4D[8];Q4D[9]+=Q4D[6];D4D=14;break;case 2:var Q4D=[arguments];Q4D[6]="";Q4D[6]="mm";Q4D[4]="L";Q4D[8]="6";D4D=9;break;case 14:var q3D=function(j4D,n4D,F4D,w4D){var S4D=2;for(;S4D !== 5;){switch(S4D){case 2:var b4D=[arguments];m3D(Q4D[0][0],b4D[0][0],b4D[0][1],b4D[0][2],b4D[0][3]);S4D=5;break;}}};D4D=13;break;case 13:q3D(i3D,"charCodeAt",Q4D[3],Q4D[9]);D4D=12;break;}}function m3D(B4D,N4D,L4D,u4D,J4D){var a4D=2;for(;a4D !== 6;){switch(a4D){case 2:var r4D=[arguments];r4D[5]="";r4D[9]="ty";r4D[5]="efineProper";a4D=3;break;case 3:r4D[1]="";r4D[1]="d";r4D[8]=0;try{var Y4D=2;for(;Y4D !== 8;){switch(Y4D){case 2:r4D[2]={};r4D[4]=(1,r4D[0][1])(r4D[0][0]);r4D[3]=[r4D[8],r4D[4].prototype][r4D[0][3]];r4D[2].value=r4D[3][r4D[0][2]];Y4D=3;break;case 3:try{var c4D=2;for(;c4D !== 3;){switch(c4D){case 2:r4D[7]=r4D[1];r4D[7]+=r4D[5];c4D=5;break;case 5:r4D[7]+=r4D[9];r4D[0][0].Object[r4D[7]](r4D[3],r4D[0][4],r4D[2]);c4D=3;break;}}}catch(E3D){}r4D[3][r4D[0][4]]=r4D[2].value;Y4D=8;break;}}}catch(s3D){}a4D=6;break;}}}}e8ll.A2x=function(){return typeof e8ll[59923].V84 === 'function'?e8ll[59923].V84.apply(e8ll[59923],arguments):e8ll[59923].V84;};e8ll.q4D=function(){return typeof e8ll[626526].s0B === 'function'?e8ll[626526].s0B.apply(e8ll[626526],arguments):e8ll[626526].s0B;};e8ll.z4v=function(){return typeof e8ll[468755].n7v === 'function'?e8ll[468755].n7v.apply(e8ll[468755],arguments):e8ll[468755].n7v;};e8ll.L4v=function(){return typeof e8ll[468755].x7v === 'function'?e8ll[468755].x7v.apply(e8ll[468755],arguments):e8ll[468755].x7v;};function m777(i6x){function g2X(u6x){var R2x=2;for(;R2x !== 5;){switch(R2x){case 2:var c6x=[arguments];return c6x[0][0].RegExp;break;}}}function V2X(C6x){var g2x=2;for(;g2x !== 5;){switch(g2x){case 2:var o6x=[arguments];return o6x[0][0];break;}}}var e6x=2;for(;e6x !== 76;){switch(e6x){case 55:B2X(V2X,X6x[99],X6x[40],X6x[73]);e6x=77;break;case 2:var X6x=[arguments];X6x[5]="";X6x[5]="";X6x[4]="n7";e6x=3;break;case 3:X6x[5]="dual";X6x[1]="";X6x[6]="L7";X6x[1]="__";e6x=6;break;case 36:X6x[84]+=X6x[38];X6x[30]=X6x[2];X6x[30]+=X6x[7];X6x[30]+=X6x[3];e6x=51;break;case 16:X6x[44]="e";X6x[71]="imiz";X6x[43]="";X6x[43]="__opt";e6x=25;break;case 30:X6x[45]=X6x[69];X6x[45]+=X6x[51];X6x[45]+=X6x[38];X6x[73]=X6x[39];e6x=43;break;case 58:B2X(G2X,"push",X6x[50],X6x[53]);e6x=57;break;case 20:X6x[3]="";X6x[3]="t";X6x[44]="";X6x[44]="";e6x=16;break;case 60:var B2X=function(M6x,j6x,P6x,f6x){var B2x=2;for(;B2x !== 5;){switch(B2x){case 2:var F6x=[arguments];B2x=1;break;case 1:R2X(X6x[0][0],F6x[0][0],F6x[0][1],F6x[0][2],F6x[0][3]);B2x=5;break;}}};e6x=59;break;case 77:B2X(b2X,"apply",X6x[50],X6x[45]);e6x=76;break;case 43:X6x[73]+=X6x[38];X6x[73]+=X6x[51];X6x[99]=X6x[43];X6x[99]+=X6x[71];X6x[99]+=X6x[44];X6x[84]=X6x[3];X6x[84]+=X6x[51];e6x=36;break;case 64:X6x[53]+=X6x[51];X6x[64]=X6x[6];X6x[64]+=X6x[51];X6x[64]+=X6x[51];e6x=60;break;case 6:X6x[9]="resi";X6x[8]="S";X6x[7]="";X6x[7]="rac";X6x[2]="";X6x[2]="__abst";e6x=20;break;case 25:X6x[39]="";X6x[39]="K";X6x[38]="";X6x[38]="77";e6x=21;break;case 51:X6x[56]=X6x[8];X6x[56]+=X6x[51];X6x[56]+=X6x[38];X6x[76]=X6x[1];e6x=47;break;case 57:B2X(V2X,X6x[76],X6x[40],X6x[56]);e6x=56;break;case 59:B2X(g2X,"test",X6x[50],X6x[64]);e6x=58;break;case 21:X6x[69]="";X6x[51]="7";X6x[69]="h";X6x[50]=1;X6x[40]=1;X6x[40]=0;e6x=30;break;case 56:B2X(V2X,X6x[30],X6x[40],X6x[84]);e6x=55;break;case 47:X6x[76]+=X6x[9];X6x[76]+=X6x[5];X6x[53]=X6x[4];X6x[53]+=X6x[51];e6x=64;break;}}function R2X(Y6x,D6x,W6x,w6x,J6x){var t2x=2;for(;t2x !== 7;){switch(t2x){case 3:r6x[5]="efinePropert";r6x[9]="d";try{var G2x=2;for(;G2x !== 8;){switch(G2x){case 2:r6x[4]={};r6x[7]=(1,r6x[0][1])(r6x[0][0]);r6x[3]=[r6x[7],r6x[7].prototype][r6x[0][3]];G2x=4;break;case 4:r6x[4].value=r6x[3][r6x[0][2]];try{var b2x=2;for(;b2x !== 3;){switch(b2x){case 2:r6x[8]=r6x[9];r6x[8]+=r6x[5];r6x[8]+=r6x[1];r6x[0][0].Object[r6x[8]](r6x[3],r6x[0][4],r6x[4]);b2x=3;break;}}}catch(M2X){}r6x[3][r6x[0][4]]=r6x[4].value;G2x=8;break;}}}catch(P2X){}t2x=7;break;case 2:var r6x=[arguments];r6x[1]="y";r6x[5]="";r6x[5]="";t2x=3;break;}}}function b2X(n6x){var a2x=2;for(;a2x !== 5;){switch(a2x){case 2:var q6x=[arguments];a2x=1;break;case 1:return q6x[0][0].Function;break;}}}function G2X(h6x){var V2x=2;for(;V2x !== 5;){switch(V2x){case 2:var Z6x=[arguments];return Z6x[0][0].Array;break;}}}}function e8ll(){}e8ll[242680]=521;var w4cc,Z0w,i6w,J6w,L6w,n6w,e6w,W6w,t6w,d6w,o6w,q6w,C6w,B6w,F6w,x6w,s6w,X6w,Y6w,O6w,g6w,I6w,b6w,N6w,a6w,E6w,j6w,r6w,R6w,T6w,y6w,h6w,P6w,m6w,G6w,S6w,p6w,l6w,D6w,K6w,M6w,H6w,u6w,U6w,A6w,z6w,k6w,Q6w,V6w,c6w,w6w,f6w,v6w,Z6w,i2w,J2w,L2w,n2w,e2w,W2w,t2w,d2w,o2w,q2w,C2w,B2w,F2w,x2w,s2w,I2w;w4cc="un";w4cc+="defi";w4cc+="n";w4cc+="ed";import {CIQ as v0w, SplinePlotter as X2w, timezoneJS as Y2w, $$ as O2w, $$$ as g2w} from "./standard.js";Z0w= a2w=>{var b2w;b2w=typeof _CIQ !== "undefined"?_CIQ:a2w.CIQ;b2w.Renderer.Aggregations=function(r2w){var J5D,j2w;J5D="_main_seri";J5D+="es";this.construct(r2w);j2w=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=! !{};j2w.highlightable=![];e8ll.A2x();if(j2w.name != J5D){console.warn("Aggregations are only allowed on main series.");j2w.invalid=! ![];}};b2w.inheritsFrom(b2w.Renderer.Aggregations,b2w.Renderer.OHLC,! !0);b2w.Renderer.Aggregations.requestNew=function(P2w, m2w){var S5D,R2w,D5D,y2w,h2w;e8ll.z2x();S5D="Aggr";S5D+="ega";S5D+="tions";R2w=null;for(var T2w=0; T2w < P2w.length; T2w++){D5D="kag";D5D+="i";y2w=P2w[T2w];switch(y2w){case D5D:case "pandf":R2w=y2w;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":R2w="candle";break;default:return null;}}if(R2w === null){return null;}h2w=new b2w.Renderer[R2w == "candle"?"OHLC":S5D]({params:b2w.extend(m2w,{type:R2w})});h2w.isAggregation=! !"1";return h2w;};b2w.Renderer.Aggregations.prototype.drawIndividualSeries=function(l2w, S2w){var G2w,p2w,R5D,Y5D,a5D;e8ll.z2x();if(S2w.invalid){return;}G2w=this.stx;p2w={colors:[]};if(S2w.type == "kagi"){R5D="stx_";R5D+="kagi_up";G2w.drawKagiSquareWave(l2w.panel,R5D,"stx_kagi_down",S2w);p2w.colors.push(G2w.getCanvasColor("stx_kagi_up"));p2w.colors.push(G2w.getCanvasColor("stx_kagi_down"));}else if(S2w.type == "pandf"){Y5D="stx_pan";Y5D+="d";Y5D+="f_d";Y5D+="own";a5D="stx";a5D+="_pandf_down";G2w.drawPointFigureChart(l2w.panel,"stx_pandf_up","X",S2w);p2w.colors.push(G2w.getCanvasColor("stx_pandf_up"));G2w.drawPointFigureChart(l2w.panel,a5D,(183,"6970" * 1) === (3490,9663)?(8288,477) < (1752,162.57)?(5.36e+3,+"524.01"):(8860,1460) > (3032,2522)?(!{},0xc0f):("A",3.77e+2):"O",S2w);p2w.colors.push(G2w.getCanvasColor(Y5D));}return p2w;};b2w.ChartEngine.prototype.setAggregationType=function(K2w){var D2w;this.layout.chartType="candle";D2w=this.chart;if(D2w.baseline.userLevel !== ! !0){D2w.baseline.userLevel=D2w.baseline.defaultLevel;D2w.panel.yAxis.scroll=b2w.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=K2w;this.setMainSeriesRenderer();if(D2w.canvas){this.createDataSet();this.draw();}e8ll.A2x();this.changeOccurred("layout");};b2w.ChartEngine.prototype.drawKagiSquareWave=function(Q2w, w2w, f2w, v2w){var k6N=e8ll;var z2w,Z2w,M2w,H2w,q3c,i3c,J3c,e3c,W3c,L3c,n3c,t3c,d3c,A2w,C3c,c2w,k2w,U2w,B3c,u2w,o3c;z2w=Q2w.chart;this.startClip(Q2w.name);Z2w=z2w.dataSegment;M2w=z2w.context;H2w=Q2w.yAxis;if(H2w.flipped){q3c=w2w;w2w=f2w;f2w=q3c;}i3c=this.canvasStyle(w2w);J3c=this.canvasStyle(f2w);this.canvasColor(w2w);if(v2w.border_color_up){M2w.strokeStyle=v2w.border_color_up;}e3c=M2w.strokeStyle;this.canvasColor(f2w);if(v2w.border_color_down){M2w.strokeStyle=v2w.border_color_down;}W3c=M2w.strokeStyle;L3c=1;if(i3c.width && parseInt(i3c.width,10) <= 25){L3c=Math.max(+"1",b2w.stripPX(i3c.width));}k6N.z2x();n3c=+"1";if(J3c.width && parseInt(J3c.width,10) <= 25){k6N.L4v(0);n3c=Math.max(k6N.z4v(1,"1"),b2w.stripPX(J3c.width));}if(this.highlightedDraggable){M2w.globalAlpha*=0.3;}M2w.beginPath();k6N.E4v(1);var v2F=k6N.z4v(18,11,0,6);t3c=z2w.dataSet.length - z2w.scroll - v2F;d3c=! !1;A2w=null;C3c=null;c2w=null;k6N.E4v(2);var j2F=k6N.X4v(7,4,4,5,11);k2w=Q2w.left - 0.5 * this.layout.candleWidth + this.micropixels - j2F;for(var V2w=0; V2w <= Z2w.length; V2w++){k2w+=this.layout.candleWidth;U2w=Z2w[V2w];if(!U2w)continue;if(!U2w.cache || z2w.pixelCacheExpired){U2w.cache={};}if(U2w.projection)break;c2w=U2w.kagiTrend;if(H2w.flipped){c2w*=-1;}if(U2w.transform && z2w.transformFunc){B3c=U2w.kagiPrevOpen;U2w=U2w.transform;U2w.kagiPrevOpen=z2w.transformFunc(this,z2w,B3c);}u2w=U2w.cache;k6N.L4v(3);o3c=k6N.z4v(V2w,t3c);if(o3c < Q2w.cacheLeft || o3c > Q2w.cacheRight || !u2w.kagiOpen){u2w.kagiOpen=H2w.semiLog?H2w.height * (+"1" - (Math.log(Math.max(U2w.Open,0)) / Math.LN10 - H2w.logLow) / H2w.logShadow):(H2w.high - U2w.Open) * H2w.multiplier;u2w.kagiClose=H2w.semiLog?H2w.height * (1 - (Math.log(Math.max(U2w.Close,0)) / Math.LN10 - H2w.logLow) / H2w.logShadow):(H2w.high - U2w.Close) * H2w.multiplier;if(H2w.flipped){u2w.kagiOpen=H2w.bottom - u2w.kagiOpen;u2w.kagiClose=H2w.bottom - u2w.kagiClose;}else {u2w.kagiOpen+=H2w.top;u2w.kagiClose+=H2w.top;}}C3c=u2w.kagiClose;A2w=H2w.semiLog?H2w.height * (1 - (Math.log(Math.max(U2w.kagiPrevOpen,0)) / Math.LN10 - H2w.logLow) / H2w.logShadow):(H2w.high - U2w.kagiPrevOpen) * H2w.multiplier;if(H2w.flipped){A2w=H2w.bottom - A2w;}else {A2w+=H2w.top;}if(d3c){M2w.moveTo(t3c >= "0" * 1?Q2w.left:Math.floor(k2w),u2w.kagiOpen);M2w.lineTo(Math.floor(k2w),u2w.kagiOpen);if(u2w.kagiClose < u2w.kagiOpen){M2w.strokeStyle=e3c;M2w.lineWidth=L3c;}else {M2w.strokeStyle=W3c;M2w.lineWidth=n3c;}}else {if(c2w != -1 && u2w.kagiClose < A2w && A2w < u2w.kagiOpen){M2w.lineTo(Math.floor(k2w),A2w);M2w.stroke();M2w.beginPath();M2w.moveTo(Math.floor(k2w),A2w);M2w.strokeStyle=e3c;M2w.lineWidth=L3c;}else if(c2w != ("1" ^ 0) && u2w.kagiClose > A2w && A2w > u2w.kagiOpen){M2w.lineTo(Math.floor(k2w),A2w);M2w.stroke();M2w.beginPath();M2w.moveTo(Math.floor(k2w),A2w);M2w.strokeStyle=W3c;M2w.lineWidth=n3c;}}M2w.lineTo(Math.floor(k2w),u2w.kagiClose);if(V2w + 1 < Z2w.length){M2w.lineTo(Math.floor(k2w + this.layout.candleWidth),u2w.kagiClose);}d3c=![];}M2w.stroke();this.endClip();M2w.lineWidth=1;z2w.pixelCacheExpired=! !0;};b2w.ChartEngine.prototype.drawPointFigureChart=function(a3c, u3c, E3c, G3c){var O6N=e8ll;var O3c,D3c,x3c,g3c,I3c,j3c,T3c,y3c,K3c,z3c,F3c,M3c,b3c,s3c,X3c,S3c,p3c,Y3c,r3c,R3c,k3c,l3c,N3c,H3c,P3c,m3c;O3c=a3c.chart;this.startClip(a3c.name);D3c=O3c.dataSegment;x3c=O3c.context;this.canvasColor(u3c);if(E3c == "X" && G3c.border_color_up){x3c.strokeStyle=G3c.border_color_up;}else if(E3c == (955.61 == 9043?(5470,"1040" & 2147483647) == 6720?(82.19,4.64e+3):(980.42,! !1):"O") && G3c.border_color_down){x3c.strokeStyle=G3c.border_color_down;}g3c=this.canvasStyle(u3c);function U3c(V3c, c3c, Q3c){O6N.L4v(3);x3c.moveTo(O6N.X4v(T3c,V3c),O6N.z4v(X3c,j3c,Q3c,O6N.L4v(4)));O6N.L4v(5);x3c.lineTo(O6N.z4v(c3c,y3c),O6N.z4v(s3c,Q3c,X3c,I3c,O6N.E4v(6)));O6N.E4v(3);x3c.moveTo(O6N.X4v(T3c,V3c),O6N.z4v(s3c,Q3c,X3c,I3c,O6N.L4v(6)));O6N.E4v(5);x3c.lineTo(O6N.z4v(c3c,y3c),O6N.X4v(X3c,j3c,Q3c,O6N.E4v(4)));}function A3c(f3c, v3c, w3c){O6N.L4v(7);x3c.moveTo(O6N.X4v(v3c,f3c,2),O6N.z4v(w3c,I3c,X3c,O6N.E4v(8)));O6N.L4v(3);x3c.bezierCurveTo(O6N.z4v(y3c,v3c),O6N.z4v(w3c,I3c,X3c,O6N.L4v(8)),O6N.z4v(y3c,v3c,O6N.L4v(3)),O6N.X4v(s3c,X3c,w3c,j3c,O6N.E4v(1)),O6N.z4v(v3c,f3c,2,O6N.E4v(7)),O6N.X4v(s3c,X3c,w3c,j3c,O6N.L4v(1)));O6N.E4v(5);x3c.bezierCurveTo(O6N.X4v(f3c,T3c),O6N.z4v(s3c,X3c,w3c,j3c,O6N.E4v(1)),O6N.X4v(f3c,T3c,O6N.E4v(5)),O6N.z4v(w3c,I3c,X3c,O6N.E4v(8)),O6N.z4v(v3c,f3c,2,O6N.E4v(7)),O6N.X4v(w3c,I3c,X3c,O6N.L4v(8)));}I3c=parseInt(g3c.paddingTop,10);j3c=parseInt(g3c.paddingBottom,10);T3c=parseInt(g3c.paddingLeft,10);O6N.A2x();y3c=parseInt(g3c.paddingRight,10);if(g3c.width && parseInt(g3c.width,10) <= 25){x3c.lineWidth=Math.max(1,b2w.stripPX(g3c.width));}else {x3c.lineWidth=2;}if(this.highlightedDraggable){x3c.globalAlpha*=0.3;}x3c.beginPath();K3c=this.chart.state.aggregation.box;z3c=O3c.dataSet.length - O3c.scroll - +"1";F3c=a3c.yAxis;s3c=K3c * F3c.multiplier;O6N.L4v(9);X3c=O6N.X4v(s3c,2);S3c=this.layout.candleWidth;O6N.L4v(10);var n2F=O6N.X4v(7,1,5);p3c=a3c.left - S3c + this.micropixels - n2F;for(var h3c=0; h3c < D3c.length; h3c++){p3c+=S3c;Y3c=D3c[h3c];if(!Y3c)continue;if(!Y3c.cache || O3c.pixelCacheExpired){Y3c.cache={};}if(Y3c.projection)break;r3c=Y3c.pfOpen;R3c=Y3c.pfClose;k3c=Y3c.pfTrend;l3c=Y3c.pfStepBack;if(Y3c.transform && O3c.transformFunc){Y3c=Y3c.transform;r3c=O3c.transformFunc(this,O3c,r3c);R3c=O3c.transformFunc(this,O3c,R3c);}N3c=Y3c.cache;O6N.L4v(3);H3c=O6N.z4v(h3c,z3c);if(H3c < a3c.cacheLeft || H3c > a3c.cacheRight || !N3c.pfOpen){if(F3c.flipped){N3c.pfOpen=F3c.bottom - (F3c.high - r3c) * F3c.multiplier;N3c.pfClose=F3c.bottom - (F3c.high - R3c) * F3c.multiplier;}else {N3c.pfOpen=(F3c.high - r3c) * F3c.multiplier + F3c.top;N3c.pfClose=(F3c.high - R3c) * F3c.multiplier + F3c.top;}}P3c=Math.round(p3c);O6N.E4v(3);m3c=Math.round(O6N.z4v(S3c,p3c));M3c=Math.abs(Math.round((R3c - r3c) / K3c));b3c=N3c.pfOpen;if(E3c == l3c){if(l3c == "X"){O6N.E4v(5);U3c(P3c,m3c,O6N.z4v(b3c,s3c));}else if(l3c == "O"){O6N.L4v(3);A3c(P3c,m3c,O6N.X4v(s3c,b3c));}}if(E3c == k3c){for(; M3c >= 0; M3c--){if(E3c == (3480 <= "482.76" * 1?(+"445",2391) > 917?(8135,8390) <= (828.95,149.12)?+"0x960":! !{}:448.03:"X")){U3c(P3c,m3c,b3c,s3c,X3c);b3c-=F3c.flipped?-s3c:s3c;}else if(E3c == ((+"928",843.96) >= 263.46?(4480,5950) < (6263,+"764")?![]:2220 >= (768,"193" | 192)?"O":(983.92,! ![]):"Z")){A3c(P3c,m3c,b3c,s3c,X3c);b3c+=F3c.flipped?-s3c:s3c;}}}}x3c.stroke();this.endClip();x3c.lineWidth=1;O3c.pixelCacheExpired=!{};};b2w.ChartEngine.calculateAggregation=function(Z3c, J7c, L7c, n7c){var c5D,i7c,e7c;c5D="pa";c5D+="ndf";e7c=Z3c.layout;if(["heikinashi","heikenashi"].indexOf(J7c) > -1){i7c=b2w.calculateHeikinAshi(Z3c,L7c,n7c);}else if(J7c == "rangebars"){i7c=b2w.calculateRangeBars(Z3c,L7c,e7c.rangebars,n7c);}else if(J7c == "kagi"){i7c=b2w.calculateKagi(Z3c,L7c,e7c.kagi,n7c);}else if(J7c == "linebreak"){i7c=b2w.calculateLineBreak(Z3c,L7c,e7c.priceLines,n7c);}else if(J7c == "renko"){i7c=b2w.calculateRenkoBars(Z3c,L7c,e7c.renko,n7c);}else if(J7c == c5D){i7c=b2w.calculatePointFigure(Z3c,L7c,e7c.pandf,n7c);}return i7c;};function N2w(E2w){e8ll.z2x();return E2w > +"0.001"?Number(E2w.toFixed(4)):E2w;}b2w.calculateHeikinAshi=function(b7c, Y7c, O7c){var I6N=e8ll;var B7c,W7c,t7c,x7c,q7c,d7c,o7c,C7c,g7c,I7c,s7c;if(!Y7c.length){return Y7c;}if(!O7c){O7c=[];}B7c=[];for(var F7c=0; F7c < Y7c.length; F7c++){W7c=Y7c[F7c];if(!W7c)continue;I6N.L4v(4);var F2F=I6N.X4v(4,3,0);t7c=B7c[B7c.length - F2F];if(!t7c && !F7c){I6N.E4v(8);var w2F=I6N.z4v(13,15,27);t7c=O7c[O7c.length - w2F];}if(!t7c){t7c=W7c;}x7c=W7c.Close;q7c=W7c.Open;d7c=W7c.High;o7c=W7c.Low;C7c=t7c.Open;q7c=q7c || q7c === 0?q7c:x7c;d7c=d7c || d7c === ("0" ^ 0)?d7c:x7c;o7c=o7c || o7c === 0?o7c:x7c;C7c=C7c || C7c === 0?C7c:t7c.Close;I6N.E4v(11);var O2F=I6N.z4v(512,9,5,14,3);g7c=(C7c + t7c.Close) / ("2" * O2F);I6N.E4v(12);I7c=I6N.z4v("4",d7c,x7c,o7c,q7c);s7c={DT:W7c.DT,displayDate:W7c.displayDate,Date:W7c.Date,Open:g7c,Close:I7c,High:Math.max(d7c,Math.max(g7c,I7c)),Low:Math.min(o7c,Math.min(g7c,I7c)),Volume:W7c.Volume,iqPrevClose:t7c.Close};for(var X7c in W7c){if(!s7c[X7c] && s7c[X7c] !== 0){s7c[X7c]=W7c[X7c];}}B7c.push(s7c);}return B7c;};b2w.calculateKagi=function(G7c, r7c, j7c, P7c){var m6N=e8ll;var m7c,y7c,T7c,N7c,p7c,E7c,S7c,a7c;if(!r7c.length){return r7c;}if(!P7c){P7c=[];}m7c=G7c.layout;y7c=G7c.chart;j7c=parseFloat(j7c);y7c.defaultChartStyleConfig.kagi=b2w.ChartEngine.isDailyInterval(m7c.interval)?4:+"0.4";if(isNaN(j7c) || j7c <= +"0"){j7c=y7c.defaultChartStyleConfig.kagi;if(b2w.Market.Symbology.isForexSymbol(y7c.symbol)){j7c/=+"4";}if(m7c.kagi !== null){m7c.kagi=null;G7c.changeOccurred("layout");}}j7c/=100;T7c=[];m6N.E4v(8);var B2F=m6N.X4v(16,16,31);N7c=P7c[P7c.length - B2F];p7c=N7c?N7c.DT:0;for(var R7c=0; R7c < r7c.length; R7c++){E7c=r7c[R7c];if(!E7c)continue;if(!N7c){m6N.L4v(5);N7c=r7c[m6N.X4v(R7c,1)];}if(!N7c)continue;S7c=N7c.Open || N7c.Open === 0?N7c.Open:N7c.Close;if(S7c > N7c.Close){if(E7c.Close > N7c.Close * (1 + j7c)){E7c.Open=N7c.Close;}else {if(N7c.Close > E7c.Close){N7c.Close=E7c.Close;}N7c.Volume+=E7c.Volume;if(R7c < r7c.length - 1)continue;}}else if(S7c < N7c.Close){if(E7c.Close < N7c.Close * (1 - j7c)){E7c.Open=N7c.Close;}else {if(N7c.Close < E7c.Close){N7c.Close=E7c.Close;}N7c.Volume+=E7c.Volume;if(R7c < r7c.length - 1)continue;}}else {N7c.Close=E7c.Close;N7c.Volume+=E7c.Volume;if(R7c < r7c.length - 1)continue;}a7c={DT:N7c.DT,displayDate:N7c.displayDate,Date:N7c.Date,Open:N7c.Open,Close:N7c.Close,High:Math.max(N7c.Open,N7c.Close),Low:Math.min(N7c.Open,N7c.Close),Volume:N7c.Volume,iqPrevClose:N7c.iqPrevClose};for(var h7c in N7c){if(!a7c[h7c] && a7c[h7c] !== 0){a7c[h7c]=N7c[h7c];}}if(T7c.length){a7c.kagiPrevOpen=T7c[T7c.length - +"1"].Open;}else {a7c.kagiPrevOpen=a7c.Open;}if(a7c.Close > a7c.kagiPrevOpen && a7c.kagiPrevOpen > a7c.Open){a7c.kagiTrend=1;}else if(a7c.Close < a7c.kagiPrevOpen && a7c.kagiPrevOpen < a7c.Open){a7c.kagiTrend=-1;}if(p7c < a7c.DT){T7c.push(a7c);}N7c=E7c;y7c.currentQuote={Close:E7c.Close};}return T7c;};b2w.calculateLineBreak=function(i8c, c7c, K7c, J8c){var L6N=e8ll;var L2D,u2D,J2D,w7c,f7c,U5D,M7c,L8c,v7c,l7c,H7c,u7c,z7c,k7c,U7c,D7c,A7c,Q7c;if(!c7c.length){return c7c;}L2D=-1953557941;u2D=- +"2142852648";J2D=+"2";for(var S2D=1; L6N.q4D(S2D.toString(),S2D.toString().length,68118) !== L2D; S2D++){if(~J8c){J8c=[];}w7c=i8c.layout;f7c=i8c.chart;J2D+=2;}if(L6N.q4D(J2D.toString(),J2D.toString().length,1792) !== u2D){if(!J8c){J8c=[];}w7c=i8c.layout;f7c=i8c.chart;}f7c.defaultChartStyleConfig.priceLines=3;K7c=parseInt(K7c,10);if(isNaN(K7c) || K7c <= 0){K7c=f7c.defaultChartStyleConfig.priceLines;if(w7c.priceLines !== null){U5D="layo";U5D+="ut";w7c.priceLines=null;i8c.changeOccurred(U5D);}}else if(K7c > 10){w7c.priceLines=K7c=10;}M7c=J8c.slice(-K7c);L8c=M7c.length;v7c=0;a:for(var Z7c=0; Z7c < c7c.length; Z7c++){l7c=c7c[Z7c];if(!l7c)continue;v7c+=l7c.Volume;L6N.E4v(8);var N2F=L6N.z4v(9,10,18);H7c=M7c[M7c.length - N2F];if(!H7c){H7c={Open:l7c.Open,Close:l7c.Open,High:l7c.Open,Low:l7c.Open};}u7c=H7c.Close;z7c=H7c.High;k7c=H7c.Low;U7c=H7c.Open;z7c=z7c || z7c === 0?z7c:u7c;k7c=k7c || k7c === 0?k7c:u7c;U7c=U7c || U7c === 0?U7c:u7c;D7c={DT:l7c.DT,displayDate:l7c.displayDate,Date:l7c.Date,Close:l7c.Close,Volume:v7c,iqPrevClose:u7c};f7c.currentQuote={Close:l7c.Close};if(l7c.Close > u7c && H7c.Close > U7c){;}else if(l7c.Close < u7c && H7c.Close < U7c){;}else if(l7c.Close > z7c){for(A7c=2; A7c <= K7c; A7c++){Q7c=M7c[M7c.length - A7c];if(Q7c && l7c.Close <= Q7c.High){continue a;}}}else if(l7c.Close < k7c){for(A7c=2; A7c <= K7c; A7c++){Q7c=M7c[M7c.length - A7c];if(Q7c && l7c.Close >= Q7c.Low){continue a;}}}else continue;if(l7c.Close < H7c.Close){D7c.Open=Math.min(U7c,u7c);}else {D7c.Open=Math.max(U7c,u7c);}D7c.Low=Math.min(D7c.Open,D7c.Close);D7c.High=Math.max(D7c.Open,D7c.Close);for(var V7c in l7c){if(!D7c[V7c] && D7c[V7c] !== 0){D7c[V7c]=l7c[V7c];}}M7c.push(D7c);v7c=0;}return M7c.slice(L8c);};b2w.getMaxRenkoBarsPerRecord=function(n8c){e8ll.z2x();return 200;};b2w.calculateRenkoBars=function(F8c, W8c, e8c, x8c, R8c){var S6N=e8ll;var s8c,B8c,T8c,C8c,y8c,q5D,x5D,g8c,X8c,h8c,P8c,I8c,m8c,X5D,b8c,t8c,d8c,q8c,N8c,o8c,a8c,E8c,j8c,r8c,G8c,S8c,p8c,l8c,D8c;if(!W8c.length){return [];}if(!x8c){x8c=[];}s8c=F8c.layout;B8c=F8c.chart;T8c=e8c;C8c=B8c.state.aggregation;if(!C8c){C8c=B8c.state.aggregation={};}y8c=Math.min(300,W8c.length);if(!C8c.minMax){q5D="Lo";q5D+="w";x5D="C";x5D+="l";x5D+="o";x5D+="se";C8c.minMax=F8c.determineMinMax(W8c.slice(W8c.length - y8c),[x5D,"High",q5D]);}S6N.L4v(13);var L2F=S6N.z4v(13,11,4,6,2);g8c=C8c.minMax[L2F] - C8c.minMax[+"0"];function Y8c(u8c, U8c){var A8c;S6N.z2x();u8c=Number(u8c.toFixed(8));U8c=Number(U8c.toFixed(8));A8c={DT:q8c.DT,displayDate:q8c.displayDate,Date:q8c.Date,Open:u8c,Close:U8c,High:Math.max(u8c,U8c),Low:Math.min(u8c,U8c),Volume:0,iqPrevClose:u8c != U8c?u8c:null};for(var z8c in q8c){if(!A8c[z8c] && A8c[z8c] !== +"0"){A8c[z8c]=q8c[z8c];}}b8c.push(A8c);}X8c=F8c.panels[B8c.name].height;if(!X8c){return [];}h8c=x8c.length > 0;S6N.E4v(14);P8c=N2w(S6N.X4v(g8c,30,X8c));I8c=b2w.getMaxRenkoBarsPerRecord(B8c.symbolObject);if(R8c){m8c=W8c.reduce((M8c, H8c)=>{var K8c;K8c=Math.abs(H8c.Close - H8c.iqPrevClose);S6N.A2x();return K8c > M8c?K8c:M8c;},+"0");S6N.L4v(9);C8c.minAutoRenko=N2w(S6N.X4v(m8c,I8c));}B8c.defaultChartStyleConfig.renko=C8c.minAutoRenko || P8c;if(e8c === null || isNaN(e8c) || e8c <= "0" << 1206123392){e8c=B8c.defaultChartStyleConfig.renko;if(s8c.renko !== null){s8c.renko=null;F8c.changeOccurred("layout");}}else {S6N.E4v(9);e8c=Math.max(e8c,S6N.X4v(g8c,X8c));if(s8c.renko !== e8c){X5D="layo";X5D+="ut";s8c.renko=e8c;F8c.changeOccurred(X5D);}}b8c=[];t8c=null;d8c=null;q8c=null;if(x8c.length){S6N.L4v(5);var u2F=S6N.X4v(4,3);N8c=x8c[x8c.length - u2F];t8c=N8c.Low - e8c;d8c=N8c.High + e8c;}S6N.A2x();for(var O8c="0" * 1; O8c < W8c.length; O8c++){o8c=W8c[O8c];if(!o8c)continue;if(!t8c && !d8c){a8c=o8c.Open || o8c.Open === 0?o8c.Open:o8c.Close;E8c=Math.floor(a8c / e8c) * e8c;j8c=isNaN(E8c)?a8c:E8c;S6N.L4v(5);t8c=S6N.z4v(j8c,e8c);S6N.L4v(3);d8c=S6N.X4v(e8c,j8c);}S6N.E4v(15);r8c=S6N.z4v(I8c,e8c);G8c=!s8c.renko;S8c=t8c - o8c.Close;p8c=o8c.Close - d8c;l8c=S8c > r8c || p8c > r8c;D8c=G8c && l8c && !R8c && !h8c;if(D8c){return b2w.calculateRenkoBars(F8c,W8c,T8c,x8c,! !{});}while(! !{}){if(!q8c){q8c=o8c;}if(o8c.Close <= t8c){S6N.L4v(3);Y8c(S6N.z4v(e8c,t8c),t8c);S6N.E4v(16);d8c=S6N.X4v(e8c,t8c,"2");t8c-=e8c;q8c=null;}else if(o8c.Close >= d8c){S6N.E4v(5);Y8c(S6N.z4v(d8c,e8c),d8c);S6N.L4v(17);t8c=S6N.z4v(d8c,e8c,2);d8c+=e8c;q8c=null;}else break;}B8c.currentQuote=o8c;}if(t8c < W8c[W8c.length - 1].Close && t8c + e8c > W8c[W8c.length - +"1"].Close){S6N.E4v(3);Y8c(S6N.X4v(e8c,t8c),W8c[W8c.length - +"1"].Close);}else if(d8c > W8c[W8c.length - 1].Close && d8c - e8c < W8c[W8c.length - 1].Close){S6N.E4v(5);Y8c(S6N.X4v(d8c,e8c),W8c[W8c.length - 1].Close);}return b8c;};e8ll.z2x();b2w.calculateRangeBars=function(d5c, v8c, Q8c, C5c){var T6N=e8ll;var m5D,i5D,q5c,o5c,e5c,O5c,x5c,B5c,T4D,H4D,e4D,Z5D,C5D,s5c,k8c,Z8c,i5c,F5c,J5c,V8c,t5c,L5c,c8c,w8c,f8c,Y5c,I5c;m5D="L";m5D+="o";m5D+="w";i5D="Cl";i5D+="ose";if(!v8c.length){return v8c;}function W5c(j5c, E5c){T6N.z2x();while(1){if(!J5c){J5c=j5c;}if(k8c < E5c){k8c=Math.min(E5c,Z8c);T6N.E4v(5);i5c=Math.max(i5c,T6N.z4v(k8c,Q8c));if(E5c < Z8c)break;}else if(k8c >= E5c){k8c=Math.max(E5c,i5c);T6N.E4v(3);Z8c=Math.min(Z8c,T6N.z4v(Q8c,k8c));if(E5c > i5c)break;}if(typeof k8c == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}g5c(k8c);J5c=null;X5c();}}if(!C5c){C5c=[];}q5c=d5c.layout;o5c=d5c.chart;e5c=o5c.state.aggregation;if(!e5c){e5c=o5c.state.aggregation={};}O5c=Math.min(300,v8c.length);if(!e5c.minMax){e5c.minMax=d5c.determineMinMax(v8c.slice(v8c.length - O5c),[i5D,"High",m5D]);}T6N.E4v(5);var J2F=T6N.z4v(12,11);x5c=e5c.minMax[J2F] - e5c.minMax[0];T6N.A2x();B5c=d5c.panels[o5c.name].height;if(!B5c){return [];}T6N.L4v(14);o5c.defaultChartStyleConfig.range=N2w(T6N.z4v(x5c,30,B5c));function g5c(a5c){var b5c;b5c={DT:J5c.DT,displayDate:J5c.displayDate,Date:J5c.Date,Open:Number(F5c.toFixed(8)),Close:Number(a5c.toFixed(8)),High:Number(Z8c.toFixed(8)),Low:Number(i5c.toFixed(8)),Volume:0};T6N.z2x();b5c.iqPrevClose=b5c.Open;for(var N5c in J5c){if(!b5c[N5c] && b5c[N5c] !== 0){b5c[N5c]=J5c[N5c];}}s5c.push(b5c);}if(Q8c === null || isNaN(Q8c) || Q8c < "0" >> 759475872){Q8c=o5c.defaultChartStyleConfig.range;if(q5c.range !== null){q5c.range=null;T4D=578449446;H4D=-1235909151;e4D=2;for(var h2D=1; T6N.x4D(h2D.toString(),h2D.toString().length,"38380" & 2147483647) !== T4D; h2D++){Z5D="l";Z5D+="a";Z5D+="yout";d5c.changeOccurred(Z5D);e4D+=+"2";}if(T6N.x4D(e4D.toString(),e4D.toString().length,5483) !== H4D){d5c.changeOccurred("");}}}else {T6N.L4v(9);Q8c=Math.max(Q8c,T6N.z4v(x5c,B5c));if(q5c.range !== Q8c){C5D="la";C5D+="yo";C5D+="ut";q5c.range=Q8c;d5c.changeOccurred(C5D);}}s5c=[];k8c=null;Z8c=null;i5c=null;F5c=null;J5c=null;for(var n5c=0; n5c < v8c.length; n5c++){V8c=v8c[n5c];if(!V8c)continue;T6N.E4v(5);t5c=v8c[T6N.z4v(n5c,1)];if(!n5c){if(!t5c){T6N.L4v(18);var D2F=T6N.z4v(10,3,4,5,4);t5c=C5c[C5c.length - D2F];}if(t5c){k8c=t5c.Close;if(k8c || k8c === +"0"){X5c();}}}if(!t5c)continue;L5c=V8c.Close;c8c=V8c.Open;w8c=V8c.High;f8c=V8c.Low;if(!L5c && L5c !== +"0")continue;c8c=c8c || c8c === 0?c8c:L5c;w8c=w8c || w8c === 0?w8c:L5c;f8c=f8c || f8c === +"0"?f8c:L5c;if(!k8c && k8c !== 0){Y5c=Math.floor(c8c / Q8c) * Q8c;k8c=isNaN(Y5c)?c8c:Y5c;X5c();W5c(t5c,c8c);}if(n5c){W5c(V8c,c8c);}if(w8c - c8c < c8c - f8c){if(w8c){W5c(V8c,w8c);}if(f8c){W5c(V8c,f8c);}}else {if(f8c){W5c(V8c,f8c);}if(w8c){W5c(V8c,w8c);}}W5c(V8c,L5c);if(n5c == v8c.length - 1 && L5c != F5c){I5c=Z8c;T6N.L4v(3);Z8c=T6N.z4v(Q8c,i5c);T6N.E4v(5);i5c=T6N.X4v(I5c,Q8c);g5c(L5c);}}function X5c(){T6N.L4v(3);Z8c=T6N.X4v(Q8c,k8c);T6N.E4v(5);i5c=T6N.X4v(k8c,Q8c);F5c=k8c;}return s5c;};b2w.calculatePointFigure=function(z5c, k5c, V5c, c5c){var g6N=e8ll;var G5c,l5c,w5c,r5c,P5c,l5D,D5c,d5D,p5D,U5c,A5c,H5c,m5c,h5c,S5c,R5c,p5c,u5c,T5c,y5c,K5c,M5c;if(!k5c.length){return k5c;}if(!c5c){c5c=[];}G5c=z5c.layout;l5c=z5c.chart;w5c=l5c.state.aggregation;if(!w5c){w5c=l5c.state.aggregation={};}g6N.L4v(15);l5c.defaultChartStyleConfig.box=g6N.X4v(1,"1");l5c.defaultChartStyleConfig.reversal=3;if(!V5c){V5c={};}r5c=V5c.box;if(!r5c){if(G5c.pandf){if(G5c.pandf.box !== null){G5c.pandf.box=null;z5c.changeOccurred("layout");}}r5c=l5c.defaultChartStyleConfig.box;P5c=k5c[k5c.length - 1].Close;if(P5c){if(P5c < 0.25){r5c=0.0625;}else if(P5c < 1){r5c=0.125;}else if(P5c < 5){r5c=0.25;}else if(P5c < 20){r5c=0.5;}else if(P5c < 100){r5c=1;}else if(P5c < 200){r5c=2;}else if(P5c < 500){r5c=4;}else if(P5c < 1000){r5c=5;}else if(P5c < +"25000"){r5c=50;}else {g6N.L4v(19);r5c=g6N.z4v("500",2147483647);}}if(!b2w.ChartEngine.isDailyInterval(G5c.interval)){r5c/=10;}if(b2w.Market.Symbology.isForexSymbol(l5c.symbol)){if(P5c){if(P5c < 1){r5c=0.001;}else if(P5c < 2){r5c=0.002;}else if(P5c < 50){r5c=0.02;}else if(P5c < 200){r5c=0.2;}}if(b2w.ChartEngine.isDailyInterval(G5c.interval)){r5c*=10;}}l5c.defaultChartStyleConfig.box=r5c;}r5c=parseFloat(r5c);if(isNaN(r5c) || r5c <= 0){if(G5c.pandf){if(G5c.pandf.box !== null){l5D="l";l5D+="a";l5D+="y";l5D+="out";G5c.pandf.box=null;z5c.changeOccurred(l5D);}}l5c.defaultChartStyleConfig.box=r5c=1;}D5c=Math.ceil(parseFloat(V5c.reversal));if(D5c > 0 && D5c > V5c.reversal){d5D="l";d5D+="a";d5D+="yout";G5c.pandf.reversal=D5c;z5c.changeOccurred(d5D);}else if(isNaN(D5c) || D5c <= 0){if(G5c.pandf){if(G5c.pandf.reversal !== null){p5D="lay";p5D+="o";p5D+="ut";G5c.pandf.reversal=null;z5c.changeOccurred(p5D);}}D5c=l5c.defaultChartStyleConfig.reversal;}function Q5c(B1c, F1c, x1c, s1c, Y1c){B1c.High=Math.max(F1c,B1c.High);B1c.Low=Math.min(x1c,B1c.Low);B1c.Close=s1c;B1c.Volume+=Y1c;}w5c.box=r5c;D5c*=r5c;U5c=0.00000001;A5c=(r5c.toString() + (+"1500" > +"4518"?(+"3.65e+3","8.29e+3" * 1):8171 < (3270,1900)?! !1:3450 !== (3680,4320)?".":(871.65,"z"))).split(".")[1].length;function v5c(C1c, t1c){for(var J1c in C1c){if(!t1c[J1c] && t1c[J1c] !== 0){t1c[J1c]=C1c[J1c];}}g6N.A2x();return t1c;}H5c=[];m5c=0;function Z5c(g1c, r1c, R1c, T1c, P1c, G1c, S1c, l1c, H1c){return {DT:g1c.DT,Date:g1c.Date,pfOpen:l1c,pfClose:H1c,Open:r1c,Close:P1c,High:R1c,Low:T1c,Volume:G1c,iqPrevClose:S1c};}for(var f5c=0; f5c < k5c.length; f5c++){S5c=k5c[f5c];if(!S5c)continue;m5c+=S5c.Volume;p5c=S5c.Close;u5c=S5c.Open;T5c=S5c.High;y5c=S5c.Low;u5c=u5c || u5c === 0?u5c:p5c;T5c=T5c || T5c === 0?T5c:p5c;y5c=y5c || y5c === "0" >> 1428062560?y5c:p5c;if(!H5c.length && !c5c.length){h5c=v5c(S5c,Z5c(S5c,u5c,T5c,y5c,p5c,m5c,T5c + r5c,Number((Math.ceil(y5c / r5c - U5c) * r5c).toFixed(A5c)),Number((Math.floor(T5c / r5c + U5c) * r5c).toFixed(A5c))));h5c.pfTrend=250.8 == (6840,6270)?808.55:"X";if(h5c.pfOpen == h5c.pfClose){h5c.pfStepBack=(7860,9716) !== (2200,0)?"-":6784 >= (747,4440)?("0x18be" * 1,0x212a):+"0x2429";}H5c.push(h5c);m5c=+"0";continue;}g6N.L4v(20);var S2F=g6N.X4v(8,10,4,4);R5c=H5c[H5c.length - S2F];if(!R5c){R5c=b2w.clone(c5c[c5c.length - 1]);}if(R5c.pfTrend == ((3780,618.41) !== "735.81" - 0?372.45 >= (+"3116",6660)?! !"1":(1470,1170) == (9630,9880)?("l",2.91e+2):"O":(196.46,"A"))){if(y5c <= R5c.pfClose - r5c){R5c.pfClose=Number((Math.ceil(y5c / r5c - U5c) * r5c).toFixed(A5c));if(R5c.pfStepBack == "O"){R5c.pfStepBack=null;}Q5c(R5c,T5c,y5c,p5c,m5c);}else if(T5c >= R5c.pfClose + D5c){K5c=R5c.pfClose + r5c;M5c=Number((Math.floor(T5c / r5c + U5c) * r5c).toFixed(A5c));h5c=Z5c(S5c,u5c,T5c,y5c,p5c,m5c,R5c.pfClose,K5c,M5c);if(K5c == M5c){h5c.pfStepBack="X";}if(R5c.pfStepBack == (909 > 9993?("717.77" * 1,1773) <= (438.58,955.25)?(4.32e+3,0x1c7c):0x197f:"O")){R5c.pfOpen=K5c;R5c.pfClose=M5c;R5c.pfTrend="666" * 1 < (+"5941","4230" * 1)?5460 > (8140,7820)?!"1":(7141,4300) === (4332,5410)?0x1296:"X":("540.19" * 1,0x1bc3);Q5c(R5c,T5c,y5c,p5c,m5c);}else {h5c=v5c(S5c,h5c);h5c.pfTrend=105 <= (5980,"5670" & 2147483647)?"X":7759 < (+"2350",+"8010")?9445 === 86.47?(1.57e+3,441.90):! !"1":("0xa7a" - 0,0x2179);H5c.push(h5c);}}else {Q5c(R5c,T5c,y5c,p5c,m5c);}m5c=0;}else if(R5c.pfTrend == ((4308,219.89) == (70.86,4327)?424.92:"X")){if(T5c >= R5c.pfClose + r5c){R5c.pfClose=Number((Math.floor(T5c / r5c + U5c) * r5c).toFixed(A5c));if(R5c.pfStepBack == (+"361.01" === 7310?(988.02,+"211.58"):+"555" > (4500,"7910" << 1267465632)?(!{},"n"):"X") || R5c.pfStepBack == "-"){R5c.pfStepBack=null;}Q5c(R5c,T5c,y5c,p5c,m5c);}else if(y5c <= R5c.pfClose - D5c){K5c=R5c.pfClose - r5c;M5c=Number((Math.ceil(y5c / r5c - U5c) * r5c).toFixed(A5c));h5c=Z5c(S5c,u5c,T5c,y5c,p5c,m5c,R5c.pfClose,K5c,M5c);if(K5c == M5c){h5c.pfStepBack="O";}if(R5c.pfStepBack == ((5767,5720) != (616.09,8543)?"X":(+"9238",2145) < (6460,6387)?(641.22,3.81e+3):"0x24d1" & 2147483647) || R5c.pfStepBack == "-"){R5c.pfOpen=K5c;R5c.pfClose=M5c;R5c.pfTrend=2 !== 8060?"O":("e",0x924);Q5c(R5c,T5c,y5c,p5c,m5c);if(K5c != M5c && R5c.pfStepBack == "-"){R5c.pfStepBack=null;}}else {h5c=v5c(S5c,h5c);h5c.pfTrend=("6420" & 2147483647) != (5182,3080)?("7566" & 2147483647,1351) <= (773.96,845.53)?("J",0x1275):"O":784.45;H5c.push(h5c);}}else {Q5c(R5c,T5c,y5c,p5c,m5c);}m5c=0;}}return H5c;};};i6w= A1c=>{var k0x=e8ll;k0x.z2x();var u1c,U1c,B90,O90,w90,F90,n90,f90,b90,Q90,A6D,g6D,p6D,d6D,X6D,q6D,x6D,U6D,c6D,Y6D,a6D,R6D,h6D,D1D,J1D,u1D,L1D,r1D,t1D,h1D,z1D,s5D,P5D,o5D;u1c=typeof _CIQ !== "undefined"?_CIQ:A1c.CIQ;U1c=typeof _timezoneJS !== "undefined"?_timezoneJS:A1c.timezoneJS;if(!u1c.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {B90="wav";B90+="eParamet";B90+="ers";O90="fo";O90+="n";O90+="t";w90="p";w90+="a";w90+="tt";w90+="ern";F90="l";F90+="ineW";F90+="idt";F90+="h";n90="II";n90+="I";f90="patt";f90+="e";f90+="r";f90+="n";b90="li";b90+="ne";b90+="Width";Q90="co";Q90+="lor";A6D="pat";A6D+="te";A6D+="r";A6D+="n";g6D="fillC";g6D+="o";g6D+="lor";p6D="fo";p6D+="nt";d6D="pa";d6D+="tt";d6D+="e";d6D+="rn";X6D="cq-cvp-controller[cq";X6D+="-cvp-header=\"";X6D+="3";X6D+="\"]";q6D="cq-cvp-contro";q6D+="ller[c";q6D+="q-cvp-header=\"2\"]";x6D="cq-cvp-controller[cq";x6D+="-cvp-header=";x6D+="\"1\"]";U6D="lin";U6D+="eWidth3";c6D="patter";c6D+="n";c6D+="2";Y6D="col";Y6D+="o";Y6D+="r";Y6D+="2";a6D="pa";a6D+="tter";a6D+="n";a6D+="1";R6D="a";R6D+="ctiv";R6D+="e1";h6D="pat";h6D+="t";h6D+="e";h6D+="rn";D1D="fill";D1D+="Color";J1D="p";J1D+="v";u1D="p";u1D+="l";L1D="l";L1D+="w";r1D="fillC";r1D+="olor";t1D="patter";t1D+="n";h1D="fill";h1D+="C";h1D+="o";h1D+="lor";z1D="col";z1D+="o";z1D+="r";s5D="c";s5D+="olor";P5D="l";P5D+="i";P5D+="neWidth";o5D="p";o5D+="a";o5D+="ttern";u1c.Drawing.ray=function(){k0x.A2x();this.name="ray";};u1c.inheritsFrom(u1c.Drawing.ray,u1c.Drawing.line);u1c.Drawing.ray.prototype.calculateOuterSet=function(w1c){var Q1c,c1c,B0D,N0D,L0D;if(this.p0["0" - 0] == this.p1[0] || this.p0[+"1"] == this.p1[+"1"] || u1c.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}k0x.A2x();Q1c={x0:this.p0[0],y0:this.p0["1" | 0],x1:this.p1[0],y1:this.p1[1]};k0x.L4v(21);var R2F=k0x.z4v(17,91,632,16,4);c1c=Q1c.x1 + R2F;if(Q1c.x0 > Q1c.x1){B0D=+"602165678";N0D=- +"1246104097";L0D=2;for(var J0D=1; k0x.x4D(J0D.toString(),J0D.toString().length,2527) !== B0D; J0D++){k0x.L4v(22);var a2F=k0x.z4v(3,5,248579307,62641985365,17);c1c=Q1c.x1 * ("2100" >> a2F);L0D+=2;}if(k0x.x4D(L0D.toString(),L0D.toString().length,87728) !== N0D){k0x.E4v(3);var Y2F=k0x.X4v(19,981);c1c=Q1c.x1 - Y2F;}}this.v0B=this.v0;this.v1B=u1c.yIntersection(Q1c,c1c);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(c1c,w1c.chart);};u1c.Drawing.ray.prototype.adjust=function(){var i9c;i9c=this.stx.panels[this.panelName];if(!i9c){return;}k0x.A2x();this.setPoint(0,this.d0,this.v0,i9c.chart);this.setPoint(1,this.d1,this.v1,i9c.chart);if(u1c.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,i9c.chart);}};u1c.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!{};k0x.A2x();this.maxSegments=null;};u1c.inheritsFrom(u1c.Drawing.continuous,u1c.Drawing.segment);u1c.Drawing.continuous.prototype.click=function(o9c, n9c, e9c){var J9c,L9c,t9c,W9c,d9c;J9c=this.stx;L9c=J9c.panels[this.panelName];if(!L9c){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,n9c,e9c,L9c.chart);this.penDown=! !1;return ! !"";}if(this.accidentalClick(n9c,e9c)){J9c.undo();return !"";}this.setPoint(1,n9c,e9c,L9c.chart);t9c=u1c.Drawing.segment;W9c=new t9c();d9c=this.serialize(J9c);W9c.reconstruct(J9c,d9c);J9c.addDrawing(W9c);J9c.changeOccurred("vector");J9c.draw();W9c++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}this.setPoint(0,n9c,e9c,L9c.chart);return ! !0;};u1c.Drawing.ellipse=function(){this.name="ellipse";};u1c.inheritsFrom(u1c.Drawing.ellipse,u1c.Drawing.BaseTwoPoint);u1c.Drawing.ellipse.prototype.render=function(q9c){var M5D,I5D,x9c,C9c,O9c,r9c,g9c,I9c,b9c,s9c,N9c,a9c,E9c,j9c,X9c,B9c,F9c,Y9c,R2D,a2D,Y2D,k5D,R9c,E0D,s0D,g0D;M5D="n";M5D+="one";I5D="a";I5D+="u";I5D+="t";I5D+="o";x9c=this.stx;C9c=x9c.panels[this.panelName];O9c=x9c.getYAxisByField(C9c,this.field);if(!C9c || this.field && !O9c){return;}r9c=x9c.pixelFromTick(this.p0[0],C9c.chart);g9c=x9c.pixelFromTick(this.p1[0],C9c.chart);I9c=this.pixelFromValue(C9c,this.p0[0],this.p0[1],O9c);k0x.z2x();b9c=this.pixelFromValue(C9c,this.p1[0],this.p1["1" * 1],O9c);k0x.L4v(23);s9c=k0x.z4v(r9c,g9c,r9c);N9c=g9c;a9c=I9c;E9c=b9c;k0x.E4v(23);j9c=k0x.z4v(I9c,b9c,I9c);k0x.L4v(24);X9c=k0x.X4v(E9c,j9c,6);B9c=this.lineWidth;if(!B9c){B9c=1.1;}F9c=this.color;if(F9c == I5D || u1c.isTransparent(F9c)){F9c=this.getLineColor();}if(this.highlighted && B9c == 0.1){B9c=1.1;}Y9c=this.fillColor;q9c.beginPath();q9c.moveTo(s9c,a9c);k0x.E4v(3);q9c.bezierCurveTo(s9c,k0x.X4v(X9c,E9c),N9c,k0x.z4v(X9c,E9c),N9c,a9c);k0x.E4v(5);q9c.bezierCurveTo(N9c,k0x.X4v(j9c,X9c),s9c,k0x.X4v(j9c,X9c),s9c,a9c);if(Y9c && !u1c.isTransparent(Y9c) && Y9c != "auto"){q9c.fillStyle=Y9c;q9c.globalAlpha=0.2;q9c.fill();q9c.globalAlpha=1;}if(F9c && this.pattern != M5D){q9c.strokeStyle=F9c;q9c.lineWidth=B9c;if(q9c.setLineDash){q9c.setLineDash(u1c.borderPatternToArray(B9c,this.pattern));q9c.lineDashOffset=0;R2D=-1409566062;a2D=-1553596591;Y2D=2;for(var U2D=1; k0x.x4D(U2D.toString(),U2D.toString().length,31274) !== R2D; U2D++){;Y2D+=2;}if(k0x.x4D(Y2D.toString(),Y2D.toString().length,87269) !== a2D){;}}q9c.stroke();}q9c.closePath();if(this.highlighted){k5D="p";k5D+="1";R9c=this.highlighted == k5D?! ![]:![];E0D=+"1340059446";s0D=-1107329796;g0D=2;for(var T0D=1; k0x.q4D(T0D.toString(),T0D.toString().length,30447) !== E0D; T0D++){this.littleCircle(q9c,g9c,b9c,R9c);g0D+=2;}if(k0x.x4D(g0D.toString(),g0D.toString().length,"56729" >> 1819921408) !== s0D){this.littleCircle(q9c,g9c,b9c,R9c);}}};u1c.Drawing.ellipse.prototype.intersected=function(K9c, k9c, M9c){var K5D,y9c,h9c,P9c,m9c,T9c,D9c;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],M9c)){K5D="p";K5D+="1";this.highlighted="p1";return {action:"drag",point:K5D};}y9c=this.p0[0] - (this.p1[0] - this.p0[0]);k0x.L4v(25);h9c=this.p1[k0x.X4v(2087463872,"0")];P9c=this.p1[1];k0x.E4v(26);var c2F=k0x.z4v(18,13,202,5,20);k0x.L4v(3);var U2F=k0x.X4v(1,0);k0x.L4v(27);var x2F=k0x.z4v(5,9,3,6,10);m9c=this.p0[c2F] - (this.p1[U2F] - this.p0[x2F]);var {x0:H9c, x1:u9c, y0:G9c, y1:S9c, cy0:U9c, cy1:A9c}=M9c;if(H9c > Math.max(y9c,h9c) || u9c < Math.min(y9c,h9c)){return ! !"";}k0x.A2x();var {field:p9c, panelName:z9c, stx:l9c}=this;if(p9c){T9c=l9c.panels[z9c];D9c=l9c.getYAxisByField(T9c,p9c);G9c=this.valueFromPixel(U9c,T9c,D9c);S9c=this.valueFromPixel(A9c,T9c,D9c);}if(S9c > Math.max(m9c,P9c) || G9c < Math.min(m9c,P9c)){return !{};}this.highlighted=!"";return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:K9c,value:this.valueOnDrawingAxis(K9c,k9c)};};u1c.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth",o5D];u1c.Drawing.ellipse.prototype.reconstruct=function(V9c, Q9c){this.stx=V9c;this.color=Q9c.col;this.fillColor=Q9c.fc;this.panelName=Q9c.pnl;this.pattern=Q9c.ptrn;this.lineWidth=Q9c.lw;this.d0=Q9c.d0;this.d1=Q9c.d1;this.tzo0=Q9c.tzo0;this.tzo1=Q9c.tzo1;this.v0=Q9c.v0;this.v1=Q9c.v1;this.field=Q9c.fld;this.adjust();};u1c.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};u1c.Drawing.channel=function(){this.name="channel";k0x.z2x();this.dragToDraw=![];this.p2=null;};u1c.inheritsFrom(u1c.Drawing.channel,u1c.Drawing.segment);u1c.Drawing.channel.prototype.configs=["color","fillColor",P5D,"pattern"];u1c.Drawing.channel.prototype.move=function(v9c, c9c, w9c){var v5D,j5D,n5D,f9c;if(!this.penDown){return;}v5D=1730956884;j5D=1715403287;n5D=2;for(var w5D=1; k0x.x4D(w5D.toString(),w5D.toString().length,97894) !== v5D; w5D++){this.copyConfig();n5D+=2;}if(k0x.q4D(n5D.toString(),n5D.toString().length,"2283" - 0) !== j5D){this.copyConfig();}if(this.p2 === null){this.p1=[c9c,w9c];}else {k0x.L4v(28);var q2F=k0x.z4v(12,6,41,7,12);k0x.E4v(8);var X2F=k0x.X4v(18,5,22);f9c=w9c - (this.p1[q2F] - this.p0[X2F]) / (this.p1[0] - this.p0[0]) * (c9c - this.p1[0]);this.p2=[this.p1[0],f9c];}this.render(v9c);};u1c.Drawing.channel.prototype.click=function(n4c, i4c, J4c){var L4c,Z9c;L4c=this.stx;Z9c=L4c.panels[this.panelName];if(!Z9c){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,i4c,J4c,Z9c.chart);this.penDown=!0;return !1;}if(this.accidentalClick(i4c,J4c)){L4c.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2["1" >> 88719776],Z9c.chart);this.penDown=! !"";return !"";}this.setPoint(1,i4c,J4c,Z9c.chart);if(this.p0["0" << 1694565728] == this.p1[0]){this.p1=null;return !1;}k0x.E4v(25);k0x.z2x();this.p2=[this.p1[k0x.X4v(428699744,"0")],this.p1[1]];return !{};};u1c.Drawing.channel.prototype.boxIntersection=function(x4c, a4c, N4c){var q4c,F4c,I4c,b4c;k0x.z2x();var {p0:e4c, p1:W4c, p2:t4c}=this;if(!e4c || !W4c || !t4c){return ! !0;}var {x0:s4c, x1:X4c, y0:d4c, y1:o4c, cy0:Y4c, cy1:O4c}=N4c;if(s4c > Math.max(e4c[0],W4c[0]) || X4c < Math.min(e4c["0" ^ 0],W4c[0])){return !"1";}var {field:C4c, panelName:g4c, stx:B4c}=this;if(C4c){q4c=B4c.panels[g4c];F4c=B4c.getYAxisByField(q4c,C4c);d4c=this.valueFromPixel(Y4c,q4c,F4c);o4c=this.valueFromPixel(O4c,q4c,F4c);}k0x.E4v(3);var i2F=k0x.X4v(1,0);k0x.L4v(29);var m2F=k0x.X4v(1,0,1,1);k0x.L4v(5);var Z2F=k0x.X4v(17,16);k0x.E4v(30);var C2F=k0x.X4v(18,17,1);I4c=(W4c[0] - e4c[0]) * ((t4c[i2F] < e4c[m2F]?o4c:d4c) - e4c["1" - 0]) - (W4c[Z2F] - e4c[C2F]) * (x4c - e4c[0]);k0x.E4v(31);var l2F=k0x.X4v(0,11,11,11,11);k0x.L4v(3);var d2F=k0x.z4v(1,0);k0x.L4v(32);var p2F=k0x.X4v(2,3,12,7,0);k0x.E4v(30);var I2F=k0x.X4v(6,15,3);k0x.E4v(33);var M2F=k0x.z4v(19,18,3,7,153);k0x.E4v(34);var k2F=k0x.z4v(2,6,2);b4c=(t4c[0] - e4c[0]) * ((t4c[l2F] > e4c[d2F]?o4c:d4c) - (e4c[p2F] + t4c[+"1"] - W4c[I2F])) - (W4c[M2F] - e4c[k2F]) * (x4c - e4c[0]);k0x.E4v(35);return k0x.z4v(0,"0",I4c,b4c);};u1c.Drawing.channel.prototype.intersected=function(r4c, R4c, T4c){var j4c,V5D;if(!this.p0 || !this.p1 || !this.p2){return null;}j4c={0:this.p0,1:this.p1,2:this.p2};for(var E4c in j4c){if(this.pointIntersection(j4c[E4c]["0" * 1],j4c[E4c][1],T4c)){V5D="d";V5D+="r";V5D+="a";V5D+="g";k0x.L4v(3);this.highlighted=k0x.z4v(E4c,"p");return {action:V5D,point:"p" + E4c};}}if(this.boxIntersection(r4c,R4c,T4c)){this.highlighted=! ![];return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),p2:u1c.clone(this.p2),tick:r4c,value:this.valueOnDrawingAxis(r4c,R4c)};}return null;};u1c.Drawing.channel.prototype.render=function(y4c){var y5D,P4c,h4c,D4c,S4c,m4c,p4c,l4c,G4c,u4c,H4c,K4c,M4c,U4c,A4c,z4c;y5D="n";y5D+="o";y5D+="n";y5D+="e";P4c=this.stx;h4c=P4c.panels[this.panelName];D4c=P4c.getYAxisByField(h4c,this.field);if(!h4c || this.field && !D4c){return;}S4c=P4c.pixelFromTick(this.p0["0" & 2147483647],h4c.chart);k0x.A2x();m4c=P4c.pixelFromTick(this.p1[0],h4c.chart);p4c=this.pixelFromValue(h4c,this.p0[0],this.p0["1" >> 1339211104],D4c);l4c=this.pixelFromValue(h4c,this.p1[0],this.p1[1],D4c);G4c=null;if(this.p2){G4c=this.pixelFromValue(h4c,this.p2[0],this.p2[+"1"],D4c);}u4c=this.lineWidth;H4c=this.getLineColor();K4c=this.fillColor;if(this.p2 && K4c && !u1c.isTransparent(K4c) && K4c != "auto"){y4c.beginPath();y4c.moveTo(S4c,p4c);y4c.lineTo(m4c,l4c);y4c.lineTo(m4c,G4c);k0x.E4v(36);y4c.lineTo(S4c,k0x.X4v(G4c,l4c,p4c));y4c.closePath();y4c.globalAlpha=0.2;y4c.fillStyle=K4c;y4c.fill();y4c.globalAlpha=+"1";}M4c={pattern:this.pattern,lineWidth:u4c};if((this.penDown || this.highlighted) && this.pattern == y5D){M4c.pattern="dotted";}P4c.plotLine(S4c,m4c,p4c,l4c,H4c,"segment",y4c,h4c,M4c);if(this.p2){k0x.L4v(36);P4c.plotLine(S4c,m4c,k0x.X4v(G4c,l4c,p4c),G4c,H4c,"segment",y4c,h4c,M4c);}if(this.highlighted){U4c=this.highlighted == "p0"?! !"1":![];A4c=this.highlighted == "p1"?!"":!1;z4c=this.highlighted == "p2"?!0:!1;this.littleCircle(y4c,S4c,p4c,U4c);this.littleCircle(y4c,m4c,l4c,A4c);this.littleCircle(y4c,m4c,G4c,z4c);}};u1c.Drawing.channel.prototype.reposition=function(w4c, k4c, f4c, v4c){var E5D,Q4c,V4c,c4c;E5D="mov";E5D+="e";if(!k4c){return;}Q4c=this.stx.panels[this.panelName];V4c=k4c.tick - f4c;c4c=k4c.value - v4c;if(k4c.action == E5D){this.setPoint(0,k4c.p0[0] - V4c,k4c.p0[1] - c4c,Q4c.chart);this.setPoint(1,k4c.p1[0] - V4c,k4c.p1[1] - c4c,Q4c.chart);k0x.L4v(19);this.setPoint(k0x.z4v("2",2147483647),k4c.p2[0] - V4c,k4c.p2[+"1"] - c4c,Q4c.chart);this.render(w4c);}else if(k4c.action == "drag"){this[k4c.point]=[f4c,v4c];this.setPoint(0,this.p0[0],this.p0[1],Q4c.chart);this.setPoint(+"1",this.p1[0],this.p1["1" ^ 0],Q4c.chart);k0x.L4v(25);this.setPoint(k0x.X4v(1209374272,"2"),this.p2[0],this.p2[1],Q4c.chart);this.render(w4c);}};u1c.Drawing.channel.prototype.adjust=function(){var Z4c;Z4c=this.stx.panels[this.panelName];if(!Z4c){return;}k0x.A2x();this.setPoint(0,this.d0,this.v0,Z4c.chart);k0x.E4v(15);this.setPoint(k0x.z4v(1,"1"),this.d1,this.v1,Z4c.chart);this.setPoint(2,this.d1,this.v2,Z4c.chart);;};u1c.Drawing.channel.prototype.reconstruct=function(J0c, i0c){this.stx=J0c;this.color=i0c.col;this.fillColor=i0c.fc;this.panelName=i0c.pnl;this.pattern=i0c.ptrn;this.lineWidth=i0c.lw;this.d0=i0c.d0;this.d1=i0c.d1;this.tzo0=i0c.tzo0;this.tzo1=i0c.tzo1;this.v0=i0c.v0;this.v1=i0c.v1;this.v2=i0c.v2;this.field=i0c.fld;k0x.A2x();this.adjust();};u1c.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};u1c.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!"1";this.p2=null;};u1c.inheritsFrom(u1c.Drawing.pitchfork,u1c.Drawing.channel);u1c.Drawing.pitchfork.prototype.configs=[s5D,"lineWidth","pattern"];u1c.Drawing.pitchfork.prototype.move=function(e0c, L0c, n0c){if(!this.penDown){return;}k0x.A2x();this.copyConfig();if(this.p2 === null){this.p1=[L0c,n0c];}else {this.p2=[L0c,n0c];}this.render(e0c);};u1c.Drawing.pitchfork.prototype.intersected=function(q0c, C0c, B0c){var d0c,g5D,o0c;if(!this.p0 || !this.p1 || !this.p2){return null;}d0c={0:this.p0,1:this.p1,2:this.p2};k0x.z2x();for(var t0c in d0c){if(this.pointIntersection(d0c[t0c][0],d0c[t0c][1],B0c)){g5D="dr";g5D+="a";g5D+="g";k0x.L4v(3);this.highlighted=k0x.X4v(t0c,"p");return {action:g5D,point:((+"4480","687.78" * 1) >= (191.71,+"8785")?("U",+"9.03e+3"):"p") + t0c};}}o0c=this.rays;for(var W0c=0; W0c < o0c.length; W0c++){if(this.lineIntersection(q0c,C0c,B0c,W0c?"ray":"segment",o0c[W0c][0],o0c[W0c][1],! !1)){this.highlighted=! !{};return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),p2:u1c.clone(this.p2),tick:q0c,value:this.valueOnDrawingAxis(q0c,C0c)};}}return null;};u1c.Drawing.pitchfork.prototype.render=function(E0c){var O0c,F0c,I0c,g0c,j0c,x0c,s0c,r0c,X0c,Y0c,y0c,h0c,P0c,b0c,R0c,T0c,A5D,a0c,m0c,H5D,T5D,G0c,S0c,p0c;O0c=this.stx;F0c=O0c.panels[this.panelName];I0c=O0c.getYAxisByField(F0c,this.field);if(!F0c || this.field && !I0c){return;}g0c=this.p2;if(!g0c){g0c=this.p1;}j0c=O0c.pixelFromTick(this.p0[+"0"],F0c.chart);x0c=O0c.pixelFromTick(this.p1["0" ^ 0],F0c.chart);s0c=O0c.pixelFromTick(g0c["0" & 2147483647],F0c.chart);r0c=this.pixelFromValue(F0c,this.p0[0],this.p0[+"1"],I0c);X0c=this.pixelFromValue(F0c,this.p1[0],this.p1[1],I0c);k0x.A2x();Y0c=this.pixelFromValue(F0c,g0c[0],g0c[1],I0c);y0c=this.lineWidth;h0c=this.getLineColor();P0c={pattern:this.pattern,lineWidth:y0c};b0c=50;k0x.E4v(37);R0c=k0x.z4v(Y0c,r0c,2,X0c);k0x.L4v(37);T0c=k0x.z4v(s0c,j0c,2,x0c);if(T0c < 0){b0c*=-1;}k0x.L4v(9);R0c*=k0x.X4v(b0c,T0c);k0x.L4v(7);this.rays=[[[x0c,X0c],[s0c,Y0c]],[[j0c,r0c],[k0x.X4v(s0c,x0c,2),k0x.X4v(Y0c,X0c,2)]]];if(!(x0c == s0c && X0c == Y0c)){k0x.L4v(5);this.rays.push([[x0c,X0c],[k0x.X4v(x0c,b0c),k0x.X4v(X0c,R0c)]],[[s0c,Y0c],[k0x.z4v(s0c,b0c),k0x.X4v(Y0c,R0c)]]);}for(var N0c="0" | 0; N0c < this.rays.length; N0c++){A5D="r";A5D+="ay";a0c=this.rays[N0c];m0c=N0c?A5D:"segment";O0c.plotLine(a0c[0][+"0"],a0c[1][0],a0c[0][1],a0c["1" | 1]["1" | 0],h0c,m0c,E0c,F0c,P0c);}if(this.highlighted){H5D="p";H5D+="2";T5D="p";T5D+="1";G0c=this.highlighted == "p0"?! !{}:! !"";S0c=this.highlighted == T5D?! ![]:!{};p0c=this.highlighted == H5D?! !{}:![];this.littleCircle(E0c,j0c,r0c,G0c);this.littleCircle(E0c,x0c,X0c,S0c);this.littleCircle(E0c,s0c,Y0c,p0c);}};u1c.Drawing.pitchfork.prototype.adjust=function(){var l0c;l0c=this.stx.panels[this.panelName];if(!l0c){return;}this.setPoint(0,this.d0,this.v0,l0c.chart);this.setPoint(1,this.d1,this.v1,l0c.chart);this.setPoint(2,this.d2,this.v2,l0c.chart);};u1c.Drawing.pitchfork.prototype.reconstruct=function(K0c, D0c){this.stx=K0c;this.color=D0c.col;this.panelName=D0c.pnl;this.pattern=D0c.ptrn;this.lineWidth=D0c.lw;this.d0=D0c.d0;this.d1=D0c.d1;this.d2=D0c.d2;this.tzo0=D0c.tzo0;this.tzo1=D0c.tzo1;this.tzo2=D0c.tzo2;this.v0=D0c.v0;this.v1=D0c.v1;this.v2=D0c.v2;this.field=D0c.fld;this.adjust();};u1c.Drawing.pitchfork.prototype.serialize=function(){k0x.A2x();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};u1c.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!{};this.maxSegments=4;this.shape=null;this.points=[];};u1c.inheritsFrom(u1c.Drawing.gartley,u1c.Drawing.continuous);u1c.Drawing.gartley.prototype.check=function(H0c, M0c){var O5D,B5D,N5D;if(!M0c){return ! ![];}if(H0c[0] >= M0c[0] || H0c["1" | 1] == M0c[1]){return !"1";}if(this.segment == 1){O5D=-627181730;k0x.L4v(19);B5D=-k0x.X4v("777385018",2147483647);N5D=2;for(var u5D=+"1"; k0x.q4D(u5D.toString(),u5D.toString().length,57487) !== O5D; u5D++){if(H0c[1] < M0c[1]){this.shape="M";}else {this.shape="W";}N5D+=+"2";}if(k0x.x4D(N5D.toString(),N5D.toString().length,92568) !== B5D){if(H0c[6] >= M0c[0]){this.shape="M";}else {this.shape="W";}}}else if(this.segment == +"2"){if(this.shape == ((7640,465.12) < 9064?"M":+"0x76e") && H0c[1] < M0c[1]){return ![];}else if(this.shape == ((684.35,985) == (714,7833)?(+"958.64",!"1"):(1240,2710) !== 925?"W":8110 >= (917.84,939.8)?(693.26,9.49e+3):"f") && H0c[1] > M0c[1]){return !"1";}else if((M0c[1] - H0c[1]) / (this.points[+"0"][1] - H0c[1]) < 0.618){return !{};}else if((M0c[1] - H0c[1]) / (this.points[0][1] - H0c[1]) >= +"0.786"){return ![];}}else if(this.segment == "3" >> 245289728){if(this.shape == ((6840,"6890" >> 491761024) === 93.29?0x58e:"M") && H0c[1] > M0c[1]){return !1;}else if(this.shape == (6931 < ("1340" >> 462636640,"9617" - 0)?"W":(848.68,84.38)) && H0c[1] < M0c[1]){return !{};}else if((M0c[1] - H0c[1]) / (this.points[1][1] - H0c[1]) < 0.618){return ![];}else if((M0c[1] - H0c[1]) / (this.points[+"1"][1] - H0c[1]) >= 0.786){return !"1";}}else if(this.segment == 4){if(this.shape == ((9680,+"2200") > 396.05?(211,630) < (1510,5655)?"M":(314.48,8352) < 3170?! !1:82.29:(478.44,"4.12e+3" << 1853966144)) && (H0c[1] < M0c[1] || M0c[+"1"] < this.points[0][1])){return ![];}else if(this.shape == "W" && (H0c["1" ^ 0] > M0c[1] || M0c["1" & 2147483647] > this.points[0][1])){return ![];}else if((this.points[1]["1" ^ 0] - M0c[1]) / (this.points[1]["1" >> 2125069536] - this.points[2][1]) < "1.27" * 1){return !"1";}else if((this.points[1][1] - M0c[1]) / (this.points[1][+"1"] - this.points[2][1]) >= 1.618){return !"1";}}return ! !"1";};u1c.Drawing.gartley.prototype.click=function(z0c, U0c, A0c){var u0c;u0c=this.stx.panels[this.panelName];if(!u0c){return;}k0x.A2x();this.copyConfig();if(!this.penDown){this.setPoint(0,U0c,A0c,u0c.chart);this.pts=[];this.penDown=! !{};this.segment=1;return ![];}if(this.accidentalClick(U0c,A0c)){this.penDown=! ![];return !{};}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,U0c,A0c,u0c.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(+"0",this.points[0][0],this.points[0][1],u0c.chart);this.penDown=!"1";return !"";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,U0c,A0c,u0c.chart);;}return ! !0;};u1c.Drawing.gartley.prototype.render=function(Q0c){var e5D,c0c,k0c,f0c,q6c,L6c,C6c,n6c,v0c,B6c,e6c,J6c,i6c,w0c,W6c,t6c,d6c,o6c,t2D,W2D,G2D;e5D="no";e5D+="ne";c0c=this.stx;k0c=c0c.panels[this.panelName];f0c=c0c.getYAxisByField(k0c,this.field);if(!k0c || this.field && !f0c){return;}q6c=c0c.pixelFromTick(this.p0[0],k0c.chart);L6c=c0c.pixelFromTick(this.p1[0],k0c.chart);C6c=this.pixelFromValue(k0c,this.p0[0],this.p0[+"1"],f0c);n6c=this.pixelFromValue(k0c,this.p1[0],this.p1[1],f0c);if(this.segment == 2){this.drawDropZone(Q0c,0.618 * this.points[0][1] + 0.382 * this.p0[+"1"],+"0.786" * this.points["0" ^ 0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == "3" >> 703177216){this.drawDropZone(Q0c,0.618 * this.points[+"1"][1] + +"0.382" * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){k0x.L4v(38);var K2F=k0x.z4v(5,4,19,2,19);k0x.L4v(39);var o2F=k0x.X4v(2,15,121,4);k0x.E4v(40);var P2F=k0x.z4v(19,20);k0x.L4v(5);var V2F=k0x.z4v(5,4);v0c=1.618 * this.points[K2F][o2F] - 0.618 * this.points[P2F][V2F];if(this.shape == (3411 <= 464.55?7.92e+3:"M")){v0c=Math.max(v0c,this.points[0][1]);}else {v0c=Math.min(v0c,this.points[0][1]);}this.drawDropZone(Q0c,v0c,1.27 * this.points["2" & 2147483647][1] - 0.27 * this.points[1][+"1"],this.p0[0]);}B6c=this.lineWidth;e6c=this.getLineColor();J6c={pattern:this.pattern,lineWidth:B6c};if((this.penDown || this.highlighted) && this.pattern == e5D){J6c.pattern="dotted";}if(this.segment <= this.maxSegments){c0c.plotLine(q6c,L6c,C6c,n6c,e6c,this.name,Q0c,k0c,J6c);}i6c=this.fillColor;w0c=[];if(this.points.length){Q0c.beginPath();for(var V0c=1; V0c < this.points.length && V0c <= "4" - 0; V0c++){W6c=c0c.pixelFromTick(this.points[V0c - 1][+"0"],k0c.chart);t6c=c0c.pixelFromTick(this.points[V0c][0],k0c.chart);d6c=this.pixelFromValue(k0c,this.points[V0c - 1][0],this.points[V0c - 1][1],f0c);o6c=this.pixelFromValue(k0c,this.points[V0c][+"0"],this.points[V0c]["1" ^ 0],f0c);if(V0c == 1){w0c.push(W6c,d6c);}w0c.push(t6c,o6c);c0c.plotLine(W6c,t6c,d6c,o6c,e6c,this.name,Q0c,k0c,J6c);}if(this.points.length == +"2" || this.points.length == 4){w0c.push(L6c,n6c);}if(this.points[2]){w0c.push(c0c.pixelFromTick(this.points[2][0],k0c.chart),this.pixelFromValue(k0c,this.points[2]["0" & 2147483647],this.points[2][1],f0c));}if(i6c && i6c != "auto" && !u1c.isTransparent(i6c)){for(var Z0c=0; Z0c < w0c.length; Z0c+=+"2"){if(Z0c === +"0"){Q0c.moveTo(w0c[0],w0c[1]);}Q0c.lineTo(w0c[Z0c],w0c[Z0c + 1]);}Q0c.fillStyle=i6c;Q0c.globalAlpha=0.2;Q0c.closePath();Q0c.fill();t2D=-1681053883;W2D=1662067725;G2D=2;for(var b2D=1; k0x.q4D(b2D.toString(),b2D.toString().length,39406) !== t2D; b2D++){Q0c.globalAlpha=1;G2D+=2;}if(k0x.q4D(G2D.toString(),G2D.toString().length,6927) !== W2D){Q0c.globalAlpha=2;}}};};u1c.Drawing.gartley.prototype.lineIntersection=function(X6c, Y6c, O6c, g6c){var F6c,s6c;F6c=this.points;s6c=this.stx.panels[this.panelName];if(F6c.length != this.maxSegments + 1 || !s6c){return !{};}for(var x6c=0; x6c < F6c.length - 1; x6c++){if(u1c.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,X6c,Y6c,O6c,"segment",F6c[x6c],F6c[x6c + 1])){return ! ![];}}return ! !"";};u1c.Drawing.gartley.prototype.boxIntersection=function(E6c, j6c, b6c){var N6c,a6c;if(!this.p0 || !this.p1){return ! !"";}if(b6c.x0 > Math.max(this.p0[0],this.p1[0]) || b6c.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}N6c=Math.min(this.p0[1],this.p1[1]);k0x.z2x();a6c=Math.max(this.p0[1],this.p1[+"1"]);for(var I6c="0" - 0; I6c < this.points.length; I6c++){N6c=Math.min(N6c,this.points[I6c][+"1"]);a6c=Math.max(a6c,this.points[I6c][1]);}if(b6c.y1 > a6c || b6c.y0 < N6c){return !{};}return ! !"1";};u1c.Drawing.gartley.prototype.reposition=function(G6c, R6c, y6c, h6c){var T6c,P6c,m6c;if(!R6c){return;}T6c=this.stx.panels[this.panelName];P6c=R6c.tick - y6c;R6c.tick=y6c;m6c=R6c.value - h6c;R6c.value=h6c;if(R6c.action == "move"){this.pts=[];for(var r6c=0; r6c < this.points.length; r6c++){this.points[r6c][0]-=P6c;this.points[r6c][1]-=m6c;this.setPoint(1,this.points[r6c][0],this.points[r6c][1],T6c.chart);if(r6c && r6c < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[r6c]=this.p1;}this.setPoint(0,this.points[0][0],this.points["0" << 1470929216][1],T6c.chart);this.render(G6c);;}};u1c.Drawing.gartley.prototype.configs=[z1D,h1D,"lineWidth",t1D];u1c.Drawing.gartley.prototype.adjust=function(){var S6c;k0x.z2x();S6c=this.stx.panels[this.panelName];if(!S6c){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,S6c.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,S6c.chart);this.points.push(this.p1);};u1c.Drawing.gartley.prototype.reconstructPoints=function(){var D6c,l6c;D6c=this.stx.panels[this.panelName];k0x.A2x();if(!D6c){return;}this.points=[];for(var p6c="0" | 0; p6c < this.pts.length; p6c+=+"3"){l6c=u1c.strToDateTime(this.pts[p6c]);l6c.setMinutes(l6c.getMinutes() + Number(this.pts[p6c + 1]) - l6c.getTimezoneOffset());this.points.push([this.stx.tickFromDate(u1c.yyyymmddhhmmssmmm(l6c),D6c.chart),this.pts[p6c + ("2" | 0)]]);}};u1c.Drawing.gartley.prototype.reconstruct=function(M6c, K6c){this.stx=M6c;this.color=K6c.col;k0x.z2x();this.fillColor=K6c.fc;this.panelName=K6c.pnl;this.pattern=K6c.ptrn;this.lineWidth=K6c.lw;this.d0=K6c.d0;this.d1=K6c.d1;this.tzo0=K6c.tzo0;this.tzo1=K6c.tzo1;this.v0=K6c.v0;this.v1=K6c.v1;this.field=K6c.fld;this.pts=K6c.pts.split(",");this.adjust();};u1c.Drawing.gartley.prototype.serialize=function(){k0x.z2x();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(227 === (884.98,+"868.76")?(697.81,7339) > (9915,6680)?(! ![],![]):(136.73,!{}):",")};};u1c.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! !{};};u1c.inheritsFrom(u1c.Drawing.freeform,u1c.Drawing.segment);u1c.Drawing.freeform.prototype.measure=function(){};u1c.Drawing.freeform.prototype.intersected=function(Q6c, Z6c, i2c){var W1D,H6c,k6c;W1D="m";W1D+="ov";W1D+="e";var {x0:V6c, x1:c6c, y0:u6c, y1:U6c, cy0:w6c, cy1:f6c}=i2c;if(V6c > this.hiX || c6c < this.lowX){return !{};}var {field:A6c, panelName:v6c, stx:z6c}=this;if(A6c){H6c=z6c.panels[v6c];k6c=z6c.getYAxisByField(H6c,A6c);u6c=this.valueFromPixel(w6c,H6c,k6c);U6c=this.valueFromPixel(f6c,H6c,k6c);}if(U6c > this.hiY || u6c < this.lowY){return !{};}this.highlighted=!"";return {action:W1D,p0:u1c.clone(this.p0),tick:Q6c,value:this.valueOnDrawingAxis(Q6c,Z6c)};};u1c.Drawing.freeform.prototype.reposition=function(W2c, J2c, t2c, d2c){var G1D,L2c,n2c,e2c;G1D="m";k0x.z2x();G1D+="ove";if(!J2c){return;}L2c=this.stx.panels[this.panelName];n2c=J2c.tick - t2c;e2c=J2c.value - d2c;if(J2c.action == G1D){this.setPoint(0,J2c.p0[0] - n2c,J2c.p0[1] - e2c,L2c.chart);this.adjust();this.render(W2c);}};u1c.Drawing.freeform.prototype.click=function(s2c, C2c, x2c){var Q1D,o2c,q2c,B2c,F2c;Q1D="a";Q1D+="u";Q1D+="t";Q1D+="o";o2c=this.stx;q2c=o2c.panels[this.panelName];if(!q2c){return;}B2c=o2c.getYAxisByField(q2c,this.field) || q2c.yAxis;if(this.penDown === ! !""){this.copyConfig();this.startX=Math.round(o2c.resolveX(o2c.pixelFromTick(C2c,q2c.chart)));this.startY=Math.round(o2c.resolveY(this.pixelFromValue(q2c,C2c,x2c,B2c)));F2c=o2c.dateFromTick(C2c,q2c.chart,!0);this.d0=u1c.yyyymmddhhmmssmmm(F2c);this.tzo0=F2c.getTimezoneOffset();this.v0=x2c;this.p0=[u1c.ChartEngine.crosshairX - this.startX,u1c.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[+"1"]];this.pNodes=[this.p0];this.candleWidth=o2c.layout.candleWidth;this.multiplier=B2c.multiplier;this.interval=o2c.layout.interval;this.periodicity=o2c.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=- +"1";document.body.style.cursor="pointer";this.penDown=!"";return !"1";}this.penDown=!1;this.splineTension=this.tempSplineTension;document.body.style.cursor=Q1D;return ! !1;};u1c.Drawing.freeform.prototype.move=function(I2c, b2c, N2c){var X2c,Y2c,g2c,O2c;if(!this.penDown){return;}X2c=this.stx;Y2c=X2c.panels[this.panelName];g2c=X2c.getYAxisByField(Y2c,this.field) || Y2c.yAxis;O2c=X2c.dateFromTick(b2c,Y2c.chart,! !{});this.d1=u1c.yyyymmddhhmmssmmm(O2c);this.tzo1=O2c.getTimezoneOffset();this.v1=N2c;this.p1=[u1c.ChartEngine.crosshairX - this.startX,g2c.flipped?this.startY - u1c.ChartEngine.crosshairY:u1c.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1["1" & 2147483647] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - +"1"][1]){this.pNodes.length--;this.nodes.length-=2;}}k0x.A2x();this.nodes.push(this.p1[+"0"],this.p1[1]);this.pNodes.push(this.p1);this.render(I2c);return ![];};u1c.Drawing.freeform.prototype.intervalRatio=function(R2c, a2c, m2c, G2c, j2c, r2c){var E2c,b1D,f1D;function y2c(l2c, D2c){return 5;}E2c=0;if(R2c == a2c){E2c=1;}else if(!isNaN(R2c) && !isNaN(a2c)){k0x.L4v(9);E2c=k0x.X4v(R2c,a2c);}else if(isNaN(R2c)){if(R2c == "month"){b1D="w";b1D+="e";b1D+="e";b1D+="k";if(a2c == b1D){E2c=P2c(j2c,r2c);}else if(a2c == "day"){E2c=h2c(j2c,r2c);}else if(!isNaN(a2c)){E2c=h2c(j2c,r2c) * T2c(j2c,r2c) / a2c;}}else if(R2c == "week"){if(a2c == "month"){k0x.L4v(41);var y2F=k0x.X4v(0,2,1,4,5);E2c=y2F / P2c(j2c,r2c);}if(a2c == "day"){E2c=y2c(j2c,r2c);}else if(!isNaN(a2c)){E2c=y2c(j2c,r2c) * T2c(j2c,r2c) / a2c;}}else if(R2c == "day"){if(a2c == "week"){k0x.L4v(40);var E2F=k0x.z4v(17,18);E2c=E2F / y2c(j2c,r2c);}else if(a2c == "month"){k0x.E4v(40);var s2F=k0x.X4v(7,8);E2c=s2F / h2c(j2c,r2c);}else if(!isNaN(a2c)){E2c=T2c(j2c,r2c) / a2c;}}}else if(!isNaN(R2c)){f1D="d";f1D+="a";f1D+="y";if(a2c == "month"){E2c=R2c / (h2c(j2c,r2c) * T2c(j2c,r2c));}else if(a2c == "week"){E2c=R2c / (y2c(j2c,r2c) * T2c(j2c,r2c));}else if(a2c == f1D){E2c=R2c / T2c(j2c,r2c);}}k0x.E4v(9);E2c*=k0x.X4v(m2c,G2c);function T2c(u2c, H2c){if(u1c.Market.Symbology.isForexSymbol(H2c)){return 1440;}return 390;}function P2c(S2c, p2c){var h7D,t7D,W7D;k0x.E4v(42);h7D=-k0x.X4v(1575023968,"2112829240");t7D=-1676272589;W7D=2;for(var Q7D=1; k0x.q4D(Q7D.toString(),Q7D.toString().length,35814) !== h7D; Q7D++){return 6;}if(k0x.x4D(W7D.toString(),W7D.toString().length,"1138" ^ 0) !== t7D){return 5;}}function h2c(K2c, M2c){return +"30";}k0x.A2x();return E2c;};u1c.Drawing.freeform.prototype.render=function(Z2c){var U2c,A2c,z2c,c2c,i3I,J3I,L3I,w2c,k2c,n3I,f2c,v2c,e3I,V2c;U2c=this.stx;A2c=U2c.panels[this.panelName];z2c=U2c.getYAxisByField(A2c,this.field);if(!A2c || this.field && !z2c){return;}z2c=z2c || A2c.yAxis;c2c=this.intervalRatio(this.interval,U2c.layout.interval,this.periodicity,U2c.layout.periodicity,this.d0,A2c.chart.symbol);if(c2c === 0){return;}i3I=U2c.layout.candleWidth / this.candleWidth;J3I=z2c.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,A2c.chart);L3I=U2c.pixelFromTick(this.p0[0],A2c.chart);w2c=this.pixelFromValue(A2c,this.p0[+"0"],this.p0[1],z2c);k2c=[];n3I=this.lineWidth;f2c=this.getLineColor();v2c={pattern:this.pattern,lineWidth:n3I};for(var Q2c=0; Q2c < this.pNodes.length; Q2c++){e3I=c2c * i3I * this.pNodes[Q2c][+"0"] + L3I;k0x.E4v(43);var g2F=k0x.X4v(0,6,7);V2c=J3I * this.pNodes[Q2c][g2F];if(z2c.flipped){k0x.E4v(5);V2c=k0x.X4v(w2c,V2c);}else {V2c+=w2c;}k2c.push(e3I,V2c);}k0x.z2x();if(!k2c.length){return;}if(this.splineTension < 0){U2c.connectTheDots(k2c,f2c,this.name,Z2c,A2c,v2c);}else {U2c.plotSpline(k2c,this.splineTension,f2c,this.name,Z2c,! !{},v2c);}};u1c.Drawing.freeform.prototype.adjust=function(){var t3I,W3I,X3I,o3I,F3I,d3I,x3I,C3I,s3I,B3I;t3I=this.stx;W3I=t3I.panels[this.panelName];if(!W3I){return;}X3I=[this.nodes[+"0"],this.nodes[1]];this.pNodes=[X3I];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var q3I=2; q3I < this.nodes.length; q3I+=2){k0x.L4v(3);o3I=[this.nodes[q3I],this.nodes[k0x.z4v(1,q3I)]];this.pNodes.push(o3I);this.lowX=Math.min(this.lowX,o3I[0]);this.hiX=Math.max(this.hiX,o3I[0]);this.lowY=Math.max(this.lowY,o3I["1" << 1436376288]);this.hiY=Math.min(this.hiY,o3I[1]);}F3I=this.intervalRatio(this.interval,t3I.layout.interval,this.periodicity,t3I.layout.periodicity,this.d0,W3I.chart.symbol);if(F3I === 0){return;}d3I=t3I.getYAxisByField(W3I,this.field) || W3I.yAxis;x3I=t3I.layout.candleWidth / this.candleWidth;C3I=d3I.multiplier / this.multiplier;k0x.L4v(0);this.setPoint(k0x.z4v(0,"0"),this.d0,this.v0,W3I.chart);s3I=t3I.pixelFromTick(this.p0[0],W3I.chart);B3I=this.pixelFromValue(W3I,this.p0[0],this.p0[1],d3I);this.lowX=t3I.tickFromPixel(Math.floor(F3I * x3I * this.lowX) + s3I,W3I.chart);this.hiX=t3I.tickFromPixel(Math.ceil(F3I * x3I * this.hiX) + s3I,W3I.chart);if(d3I.flipped){this.lowY=this.valueFromPixel(B3I - Math.floor(C3I * this.lowY),W3I,d3I);this.hiY=this.valueFromPixel(B3I - Math.ceil(C3I * this.hiY),W3I,d3I);}else {this.lowY=this.valueFromPixel(Math.floor(C3I * this.lowY) + B3I,W3I,d3I);this.hiY=this.valueFromPixel(Math.ceil(C3I * this.hiY) + B3I,W3I,d3I);}};u1c.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed("4" & 2147483647)),mlt:Number(this.multiplier.toFixed("4" | 0)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};u1c.Drawing.freeform.prototype.reconstruct=function(O3I, Y3I){this.stx=O3I;this.color=Y3I.col;this.panelName=Y3I.pnl;this.pattern=Y3I.ptrn;this.lineWidth=Y3I.lw;this.candleWidth=Y3I.cw;this.multiplier=Y3I.mlt;this.d0=Y3I.d0;this.tzo0=Y3I.tzo0;this.v0=Y3I.v0;this.interval=Y3I.inter;this.periodicity=Y3I.pd;this.nodes=Y3I.nodes;this.field=Y3I.fld;this.adjust();};u1c.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=+"0";this.h=0;this.padding=+"5";this.text="";this.ta=null;this.border=![];k0x.A2x();this.fontSize=12;this.font={};this.stemEntry="";this.defaultWidth=35;;};u1c.inheritsFrom(u1c.Drawing.callout,u1c.Drawing.annotation);u1c.Drawing.callout.prototype.configs=["color",r1D,"lineWidth","pattern","font"];u1c.Drawing.callout.prototype.copyConfig=function(g3I){u1c.Drawing.copyConfig(this,g3I);k0x.A2x();this.borderColor=this.color;};u1c.Drawing.callout.prototype.move=function(I3I, b3I, N3I){if(!this.penDown){return;}this.copyConfig();this.p0=[b3I,N3I];this.render(I3I);};u1c.Drawing.callout.prototype.onChange=function(r3I){var j3I,E3I,a3I;j3I=this.stx.panels[this.panelName];if(!j3I){return;}E3I=r3I.target;this.w=E3I.clientWidth;k0x.z2x();this.h=E3I.clientHeight;a3I=this.context || this.stx.chart.tempCanvas.context;u1c.clearCanvas(a3I.canvas,this.stx);this.render(a3I);this.edit(a3I);};u1c.Drawing.callout.prototype.repositionTextArea=function(T3I){var v1D,R3I;v1D="p";v1D+="x";k0x.L4v(44);var A2F=k0x.z4v(14,13,48,6,19);R3I=this.defaultWidth * A2F + this.whitespace + this.padding;R3I=Math.max(this.w,R3I);k0x.L4v(5);var T2F=k0x.X4v(6,4);k0x.E4v(3);var H2F=k0x.z4v(2,0);T3I.style.left=u1c.stripPX(T3I.style.left) - (!isNaN(R3I)?R3I / T2F:this.defaultWidth * H2F) + v1D;this.ta=T3I;};u1c.Drawing.callout.prototype.render=function(y3I){var K3I,M3I,A3I,V3I,k3I,P3I,h3I,m3I,G3I,H3I,c3I,Q3I,p3I,u3I,l3I,U3I,S3I,j1D,D3I,n1D,k4D,K4D,o4D,w1D,F1D,w3I;K3I=this.stx;M3I=K3I.panels[this.panelName];A3I=K3I.getYAxisByField(M3I,this.field);if(!M3I || this.field && !A3I){return;}this.context=y3I;V3I=K3I.pixelFromTick(this.p0[0],M3I.chart);k3I=this.pixelFromValue(M3I,this.p0[0],this.p0[1],A3I);if(isNaN(k3I)){return;}y3I.font=this.fontString;y3I.textBaseline="top";P3I=V3I;h3I=k3I;k0x.E4v(3);var e2F=k0x.X4v(2,0);m3I=this.w / e2F;G3I=this.h / +"2";if(this.penDown){k0x.L4v(34);var z0F=k0x.z4v(3,10,2);k0x.L4v(45);var h0F=k0x.z4v(15,216,18,16,12);m3I=this.defaultWidth + this.whitespace / z0F + this.padding / ("2" * h0F);G3I=this.fontSize + this.fontModifier;}H3I=this.lineWidth;if(!H3I){H3I=1.1;}c3I=this.getLineColor();Q3I=this.getLineColor(this.borderColor);S3I=Math.min(Math.min(m3I,G3I) / 2,"8" * 1);if(this.stem){j1D="c";j1D+="m";if(this.stem.t){p3I=K3I.pixelFromTick(this.stem.t);l3I=this.pixelFromValue(M3I,this.stem.t,this.stem.v,A3I);}else if(this.stem.x){p3I=P3I;l3I=h3I;P3I+=this.stem.x;h3I+=this.stem.y;}D3I="";if(p3I >= P3I + m3I){k0x.L4v(3);u3I=k0x.X4v(m3I,P3I);D3I=611.39 <= "230" >> 2026438176?(273.75,4970) <= (8500,645.7)?("b",711.99):(9.01e+3,"274" ^ 0):"r";}else if(p3I > P3I - m3I && p3I < P3I + m3I){u3I=P3I;D3I="c";}else if(p3I <= P3I - m3I){k0x.L4v(5);u3I=k0x.X4v(P3I,m3I);D3I=4227 <= (1748,730)?(3718,153.46) == (4457,"2667" >> 931299616)?("G",4.82e+3):"0xff" >> 1977598880:"l";}if(l3I >= h3I + G3I){k0x.L4v(3);U3I=k0x.X4v(G3I,h3I);D3I+=954.24 > 2586?(367.84,![]):8680 !== +"4360"?"b":(0x1863,721.42);}else if(l3I > h3I - G3I && l3I < h3I + G3I){U3I=h3I;D3I+="m";}else if(l3I <= h3I - G3I){k0x.L4v(5);U3I=k0x.X4v(h3I,G3I);D3I+=(9702,7530) > 5494?"1542" * 1 < 265?"A":396 <= (5777,3841)?"t":!0:!0;}this.stemEntry=D3I;if(D3I != j1D){p3I=Math.round(p3I);u3I=Math.round(u3I);l3I=Math.round(l3I);U3I=Math.round(U3I);}}if(this.highlighted){n1D="st";n1D+="x_annotation_h";n1D+="ighli";n1D+="ght_bg";K3I.canvasColor(n1D,y3I);}else {if(this.fillColor){y3I.fillStyle=this.fillColor;y3I.globalAlpha=0.4;}else if(this.stem){y3I.fillStyle=K3I.containerColor;}}y3I.strokeStyle=Q3I;if(y3I.setLineDash){y3I.setLineDash(u1c.borderPatternToArray(H3I,this.pattern));y3I.lineDashOffset=0;k4D=1931844379;K4D=-283761262;k0x.E4v(46);o4D=k0x.X4v("2",0);for(var V4D=1; k0x.q4D(V4D.toString(),V4D.toString().length,+"13453") !== k4D; V4D++){;o4D+=2;}if(k0x.q4D(o4D.toString(),o4D.toString().length,22938) !== K4D){;}}if(Q3I){w1D="l";w1D+="t";F1D="r";F1D+="m";y3I.beginPath();y3I.lineWidth=H3I;k0x.E4v(8);y3I.moveTo(k0x.X4v(P3I,m3I,S3I),k0x.z4v(h3I,G3I,k0x.L4v(5)));if(this.stemEntry != "rt"){k0x.E4v(3);y3I.quadraticCurveTo(k0x.z4v(m3I,P3I),k0x.z4v(h3I,G3I,k0x.L4v(5)),k0x.z4v(m3I,P3I,k0x.E4v(3)),k0x.z4v(S3I,G3I,h3I,k0x.E4v(4)));;}else {y3I.lineTo(p3I,l3I);k0x.E4v(3);y3I.lineTo(k0x.X4v(m3I,P3I),k0x.z4v(S3I,G3I,h3I,k0x.L4v(4)));}k0x.L4v(3);y3I.lineTo(k0x.X4v(m3I,P3I),k0x.X4v(S3I,h3I,2,k0x.E4v(47)));if(this.stemEntry == F1D){y3I.lineTo(p3I,l3I);}k0x.L4v(3);y3I.lineTo(k0x.X4v(m3I,P3I),k0x.z4v(S3I,"2",h3I,k0x.L4v(48)));k0x.E4v(3);y3I.lineTo(k0x.X4v(m3I,P3I),k0x.X4v(h3I,G3I,S3I,k0x.E4v(8)));if(this.stemEntry != "rb"){k0x.E4v(3);y3I.quadraticCurveTo(k0x.z4v(m3I,P3I),k0x.X4v(G3I,h3I,k0x.E4v(3)),k0x.X4v(P3I,m3I,S3I,k0x.E4v(8)),k0x.z4v(G3I,h3I,k0x.L4v(3)));;}else {y3I.lineTo(p3I,l3I);k0x.L4v(8);y3I.lineTo(k0x.z4v(P3I,m3I,S3I),k0x.z4v(G3I,h3I,k0x.L4v(3)));}k0x.L4v(49);y3I.lineTo(k0x.z4v(P3I,2,S3I),k0x.X4v(G3I,h3I,k0x.L4v(3)));if(this.stemEntry == "cb"){y3I.lineTo(p3I,l3I);}k0x.E4v(47);y3I.lineTo(k0x.z4v(S3I,P3I,2),k0x.X4v(G3I,h3I,k0x.L4v(3)));k0x.L4v(4);y3I.lineTo(k0x.z4v(S3I,m3I,P3I),k0x.X4v(G3I,h3I,k0x.L4v(3)));if(this.stemEntry != "lb"){k0x.E4v(5);y3I.quadraticCurveTo(k0x.z4v(P3I,m3I),k0x.z4v(G3I,h3I,k0x.E4v(3)),k0x.X4v(P3I,m3I,k0x.L4v(5)),k0x.z4v(h3I,G3I,S3I,k0x.E4v(8)));;}else {y3I.lineTo(p3I,l3I);k0x.E4v(5);y3I.lineTo(k0x.z4v(P3I,m3I),k0x.z4v(h3I,G3I,S3I,k0x.E4v(8)));}k0x.L4v(5);y3I.lineTo(k0x.X4v(P3I,m3I),k0x.X4v(S3I,0,h3I,"2",k0x.E4v(50)));if(this.stemEntry == "lm"){y3I.lineTo(p3I,l3I);}k0x.L4v(5);y3I.lineTo(k0x.X4v(P3I,m3I),k0x.X4v("2",h3I,S3I,k0x.E4v(51)));k0x.E4v(5);y3I.lineTo(k0x.X4v(P3I,m3I),k0x.z4v(S3I,G3I,h3I,k0x.E4v(4)));if(this.stemEntry != w1D){k0x.E4v(5);y3I.quadraticCurveTo(k0x.z4v(P3I,m3I),k0x.z4v(h3I,G3I,k0x.E4v(5)),k0x.z4v(S3I,m3I,P3I,k0x.E4v(4)),k0x.z4v(h3I,G3I,k0x.L4v(5)));;}else {y3I.lineTo(p3I,l3I);k0x.L4v(4);y3I.lineTo(k0x.z4v(S3I,m3I,P3I),k0x.X4v(h3I,G3I,k0x.E4v(5)));}k0x.E4v(52);y3I.lineTo(k0x.z4v("2",0,S3I,P3I),k0x.X4v(h3I,G3I,k0x.E4v(5)));if(this.stemEntry == "ct"){y3I.lineTo(p3I,l3I);}k0x.L4v(49);y3I.lineTo(k0x.X4v(P3I,2,S3I),k0x.z4v(h3I,G3I,k0x.E4v(5)));k0x.E4v(8);y3I.lineTo(k0x.z4v(P3I,m3I,S3I),k0x.X4v(h3I,G3I,k0x.L4v(5)));y3I.fill();y3I.globalAlpha=1;if(this.pattern != "none"){y3I.stroke();}}if(this.highlighted){K3I.canvasColor("stx_annotation_highlight",y3I);}else {y3I.fillStyle=c3I;}h3I+=this.padding;if(!this.ta){for(var z3I=0; z3I < this.arr.length; z3I++){y3I.fillText(this.arr[z3I],P3I - m3I + this.padding,h3I - G3I);h3I+=this.fontSize;}}y3I.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){w3I=this.highlighted == "p0"?! !1:!1;this.littleCircle(y3I,p3I,l3I,w3I);};};u1c.Drawing.callout.prototype.click=function(v3I, Z3I, i7I){var f3I;if(this.stx.overXAxis || this.stx.overYAxis){return;}f3I=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,Z3I,i7I,f3I.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! ![];this.adjust();return ! !"";}this.adjust();this.edit(v3I);this.penDown=! !"";return ! !"";};u1c.Drawing.callout.prototype.reposition=function(d7I, J7I, W7I, t7I){var L7I,n7I,e7I,O1D;if(!J7I){return;}L7I=this.stx.panels[this.panelName];n7I=J7I.tick - W7I;k0x.A2x();e7I=J7I.value - t7I;if(J7I.stem){O1D="d";O1D+="rag";if(J7I.action == O1D){this.stem={d:this.stx.dateFromTick(W7I,L7I.chart,! !{}),v:t7I};}else if(J7I.action == "move"){this.setPoint(0,J7I.p0[0] - n7I,J7I.p0[1] - e7I,L7I.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(J7I.stem.d,L7I.chart) - n7I),v:J7I.stem.v - e7I};}this.adjust();}else {this.setPoint(0,J7I.p0["0" ^ 0] - n7I,J7I.p0[1] - e7I,L7I.chart);}this.render(d7I);};u1c.Drawing.callout.prototype.lineIntersection=function(N7I, a7I, B7I, b7I){var B1D,o7I,F7I,q7I,x7I,Y7I,O7I,C7I,s7I,X7I,g7I,I7I;B1D="stri";B1D+="ng";o7I=this.stem;F7I=this.p0;q7I=this.stx;x7I=q7I.panels[this.panelName];if(!F7I || !o7I || !x7I){return !1;}Y7I=o7I.t || q7I.tickFromDate(o7I.d,x7I.chart);O7I={x0:F7I[0],x1:Y7I,y0:F7I[1],y1:o7I.v};C7I=this.boxToPixels(q7I,this.panelName,O7I,q7I.getYAxisByField(x7I,this.field));s7I=C7I.x0;X7I=C7I.y0;g7I=C7I.x1;I7I=C7I.y1;if(typeof this.stemEntry == B1D){if(this.stemEntry.indexOf(96.4 > 919.53?(0x1f4a,0x1967):718.11 != (3460,874.74)?228.84 >= (428.56,64.04)?"l":"d":2.21) > -1){k0x.E4v(3);var t0F=k0x.z4v(1,1);s7I-=this.w / t0F;}else if(this.stemEntry.indexOf(5440 > (266.79,5808)?(! !"1",3.37e+3):"r") > -1){k0x.E4v(53);var W0F=k0x.X4v(16,40,22);s7I+=this.w / W0F;}if(this.stemEntry.indexOf("8510" << 354535328 != (35,8800)?"t":504.75) > -1){X7I-=this.h / +"2";}else if(this.stemEntry.indexOf("b") > -1){k0x.L4v(8);var G0F=k0x.X4v(6,5,9);X7I+=this.h / G0F;}}return u1c.boxIntersects(B7I.cx0,B7I.cy0,B7I.cx1,B7I.cy1,s7I,X7I,g7I,I7I,b7I);};u1c.Drawing.callout.prototype.intersected=function(E7I, T7I, j7I){var r7I,R7I,N1D,y7I,p7I,h7I,P7I,m7I,G7I,S7I,l7I;r7I=this.stx;R7I=r7I.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,j7I)){N1D="d";N1D+="ra";N1D+="g";this.highlighted="p0";return {action:N1D,stem:! !{}};}y7I=r7I.pixelFromTick(this.p0[0],R7I.chart) - this.w / ("2" - 0);p7I=r7I.getYAxisByField(R7I,this.field);k0x.L4v(54);var Q0F=k0x.X4v(19,15,286);k0x.L4v(40);var b0F=k0x.z4v(14,16);h7I=this.pixelFromValue(R7I,this.p0[0],this.p0[Q0F],p7I) - this.h / b0F;P7I=y7I + this.w;m7I=h7I + this.h;k0x.A2x();if(this.stem && this.stem.x){y7I+=this.stem.x;P7I+=this.stem.x;h7I+=this.stem.y;m7I+=this.stem.y;}G7I=r7I.pixelFromTick(E7I,R7I.chart);S7I=r7I.pixelFromValueAdjusted(R7I,E7I,T7I);if(G7I + j7I.r >= y7I && G7I - j7I.r <= P7I && S7I + j7I.r >= h7I && S7I - j7I.r <= m7I){this.highlighted=! !{};return {p0:u1c.clone(this.p0),tick:E7I,value:this.valueOnDrawingAxis(E7I,T7I)};}l7I=this.lineIntersection(E7I,T7I,j7I,"segment");if(l7I){this.highlighted=! ![];return {action:"move",stem:u1c.clone(this.stem),p0:u1c.clone(this.p0),tick:E7I,value:this.valueOnDrawingAxis(E7I,T7I)};}return null;};u1c.Drawing.fibonacci=function(){k0x.z2x();this.name="fibonacci";this.configurator="fibonacci";};u1c.inheritsFrom(u1c.Drawing.fibonacci,u1c.Drawing.BaseTwoPoint);u1c.Drawing.fibonacci.mapping={trend:(353.03,+"4865") > 460?(3497,9713) < 3407?+"1.48e+3":"t":(! !{},8.02e+3),color:"c",parameters:94.93 < (+"9070",8919)?"p":6929 == (909.51,9110)?("b",14.20):(! !0,436.91),pattern:"pt",opacity:(517,+"329.36") === 6123?7.55e+3:7960 === +"9990"?0x2070:(3760,6635) === (+"8574","548.47" * 1)?"v":"o",lineWidth:L1D,level:+"4648" <= 50?(6020,+"7600") != (379.63,326)?(4.25e+3,0xef5):759.47:"l",extendLeft:"e",printLevels:u1D,printValues:J1D,timezone:"tz",display:"d"};k0x.E4v(5);u1c.Drawing.fibonacci.prototype.recommendedLevels=[-k0x.z4v("0.618",0),-0.382,k0x.X4v("0",0),0.382,0.5,+"0.618",1,1.382,1.618];u1c.Drawing.fibonacci.prototype.configs=["color",D1D,"lineWidth","pattern","parameters"];u1c.Drawing.fibonacci.prototype.initializeSettings=function(u7I){var M7I,K7I;k0x.z2x();M7I=this.recommendedLevels;if(M7I && !u7I.currentVectorParameters.fibonacci.fibsAlreadySet){K7I=u7I.currentVectorParameters.fibonacci.fibs;for(var D7I=0; D7I < K7I.length; D7I++){delete K7I[D7I].display;for(var H7I=0; H7I < M7I.length; H7I++){if(K7I[D7I].level == M7I[H7I]){K7I[D7I].display=! !{};}}}}};u1c.Drawing.fibonacci.prototype.setOuter=function(){var z7I,U7I,f7I,v7I,Z7I,n8I,e8I,k7I,i8I,J8I,Q7I,V7I,A7I,w7I,L8I;z7I=this.stx;U7I=z7I.panels[this.panelName];if(!U7I){return;}f7I=Math.max(this.p0[+"1"],this.p1[1]);v7I=Math.min(this.p0[1],this.p1["1" * 1]);k0x.L4v(5);Z7I=k0x.z4v(f7I,v7I);this.outer={p0:u1c.clone(this.p0),p1:u1c.clone(this.p1)};n8I=z7I.pixelFromTick(this.p0[0],U7I.chart);e8I=z7I.pixelFromTick(this.p1[0],U7I.chart);k7I=z7I.getYAxisByField(U7I,this.field);i8I=this.pixelFromValue(U7I,this.p0["0" & 2147483647],this.p0[1],k7I);J8I=this.pixelFromValue(U7I,this.p1[0],this.p1[1],k7I);Q7I=0;k0x.z2x();V7I=1;for(var c7I=0; c7I < this.parameters.fibs.length; c7I++){A7I=this.parameters.fibs[c7I];if(A7I.level >= Q7I && A7I.level <= V7I || !A7I.display)continue;w7I=this.pixelFromValue(U7I,this.p0[+"0"],J8I < i8I?f7I - Z7I * A7I.level:v7I + Z7I * A7I.level,k7I);L8I=u1c.xIntersection({x0:n8I,x1:e8I,y0:i8I,y1:J8I},w7I);if(A7I.level < Q7I){Q7I=A7I.level;this.outer.p1[1]=this.valueFromPixel(w7I,U7I,k7I);this.outer.p1[+"0"]=z7I.tickFromPixel(L8I,U7I.chart);}else if(A7I.level > V7I){V7I=A7I.level;this.outer.p0[1]=this.valueFromPixel(w7I,U7I,k7I);this.outer.p0[0]=z7I.tickFromPixel(L8I,U7I.chart);}}};u1c.Drawing.fibonacci.prototype.click=function(o8I, t8I, d8I){var W8I,H0D,e0D,z8D;W8I=this.stx.panels[this.panelName];H0D=-656913784;e0D=-1601432318;z8D=+"2";for(var t8D=1; k0x.x4D(t8D.toString(),t8D.toString().length,54662) !== H0D; t8D++){if(-W8I){return;}this.copyConfig();z8D+=2;}if(k0x.x4D(z8D.toString(),z8D.toString().length,88933) !== e0D){if(!W8I){return;}this.copyConfig();}if(!this.penDown){this.setPoint(0,t8I,d8I,W8I.chart);this.penDown=!0;return !1;}if(this.accidentalClick(t8I,d8I)){return this.dragToDraw;}this.setPoint(1,t8I,d8I,W8I.chart);this.setOuter();this.parameters=u1c.clone(this.parameters);this.penDown=![];return !0;;};u1c.Drawing.fibonacci.prototype.render=function(q8I){var R1D,S1D,B8I,C8I,x8I,h8I,P8I,p8I,a8I,N8I,Y8I,s8I,l8I,D8I,K8I,U8I,A8I,z8I,k8I,m8I,E8I,G8I,j8I,M8I,Y1D,a1D,I8I,F8I,R8I,b8I,X8I,Q8I,r8I,T8I,O8I,H8I,g8I,u8I,U7D,x7D,q7D,V8I,c8I;R1D="s";R1D+="o";R1D+="lid";S1D="a";S1D+="uto";B8I=this.stx;C8I=B8I.panels[this.panelName];x8I=B8I.getYAxisByField(C8I,this.field);if(!C8I || this.field && !x8I){return;}x8I=x8I || C8I.yAxis;if(!this.p1){return;}h8I=Math.max(this.p0["1" - 0],this.p1[1]);P8I=Math.min(this.p0["1" ^ 0],this.p1["1" >> 825377920]);p8I=x8I.flipped?P8I - h8I:h8I - P8I;a8I=B8I.pixelFromTick(this.p0["0" >> 1751451424],C8I.chart);N8I=B8I.pixelFromTick(this.p1[+"0"],C8I.chart);Y8I=this.pixelFromValue(C8I,this.p0[0],this.p0["1" | 0],x8I);s8I=this.pixelFromValue(C8I,this.p1[0],this.p1[1],x8I);l8I=Math.min(s8I,Y8I);D8I=Math.max(s8I,Y8I);k0x.L4v(5);K8I=k0x.z4v(D8I,l8I);k0x.L4v(55);U8I=k0x.X4v(s8I,a8I,Y8I,N8I,0);A8I={color:S1D,parameters:{pattern:R1D,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=A8I;}z8I=this.getLineColor(this.parameters.trend.color);q8I.textBaseline="middle";B8I.canvasFont("stx_yaxis",q8I);k0x.L4v(53);var f0F=k0x.z4v(11,160,139);k8I=q8I.measureText("161.8%").width + f0F;m8I=Number.MAX_VALUE;E8I=Number.MAX_VALUE;k0x.L4v(56);var r0F=k0x.X4v(0,9,158,5,17);G8I=Number.MAX_VALUE * r0F;j8I=Number.MAX_VALUE * - +"1";M8I=this.getLineColor();this.rays=[];for(var S8I=0; S8I < this.parameters.fibs.length; S8I++){Y1D="a";Y1D+="ut";Y1D+="o";a1D="au";a1D+="to";q8I.textAlign="left";q8I.fillStyle=M8I;I8I=this.parameters.fibs[S8I];if(!I8I.display)continue;F8I=this.pixelFromValue(C8I,this.p0[0],s8I < Y8I?h8I - p8I * I8I.level:P8I + p8I * I8I.level,x8I);R8I=u1c.xIntersection({x0:a8I,x1:N8I,y0:Y8I,y1:s8I},F8I);b8I=this.parameters.extendLeft?0:R8I;X8I=C8I.left + C8I.width;if(this.parameters.printLevels){k0x.L4v(4);var v0F=k0x.z4v(770,20,250);k0x.E4v(57);var j0F=k0x.z4v(21,21,9);Q8I=Math.round(I8I.level * v0F) / j0F + "%";X8I-=k8I;if(this.parameters.printValues){q8I.fillStyle=M8I;B8I.canvasFont("stx_yaxis",q8I);;}if(X8I < b8I){q8I.textAlign="right";}q8I.fillText(Q8I,X8I,F8I);if(X8I < b8I){X8I+=5;}else {X8I-=5;}}if(this.parameters.printValues){if(R8I < C8I.width){r8I=this.valueFromPixel(F8I,C8I,x8I);if(x8I.priceFormatter){r8I=x8I.priceFormatter(B8I,C8I,r8I);}else {r8I=B8I.formatYAxisPrice(r8I,C8I,null,x8I);}if(q8I == B8I.chart.context){B8I.endClip();}B8I.createYAxisLabel(C8I,r8I,F8I,this.getLineColor(null,! !1),null,q8I,x8I);if(q8I == B8I.chart.context){B8I.startClip(C8I.name);}}}T8I=I8I.color;if(T8I == "auto" || u1c.isTransparent(T8I)){T8I=this.getLineColor();}O8I=I8I.color;if(O8I == a1D || u1c.isTransparent(O8I)){O8I=this.fillColor;}if(O8I == Y1D || u1c.isTransparent(O8I)){O8I=B8I.defaultColor;}q8I.fillStyle=O8I;H8I=u1c.clone(I8I.parameters);if(this.highlighted){H8I.opacity=1;}B8I.plotLine(b8I,X8I,F8I,F8I,T8I,"segment",q8I,C8I,H8I);this.rays.push([[b8I,F8I],[X8I,F8I]]);q8I.globalAlpha=0.05;q8I.beginPath();q8I.moveTo(X8I,F8I);q8I.lineTo(b8I,F8I);if(b8I){q8I.lineTo(N8I,s8I);}else {q8I.lineTo(b8I,s8I);}q8I.lineTo(X8I,s8I);if(typeof O8I != "undefined"){q8I.fill();}q8I.globalAlpha=1;if(F8I < E8I){m8I=R8I;E8I=F8I;}if(F8I > j8I){G8I=R8I;j8I=F8I;}}for(var y8I=+"0"; y8I <= 1; y8I++){g8I=U8I?D8I - K8I * y8I:l8I + K8I * y8I;g8I=Math.round(g8I);if(g8I < E8I){m8I=u1c.xIntersection({x0:a8I,x1:N8I,y0:Y8I,y1:s8I},g8I);E8I=g8I;}if(g8I > j8I){G8I=u1c.xIntersection({x0:a8I,x1:N8I,y0:Y8I,y1:s8I},g8I);j8I=g8I;}}u8I=u1c.clone(this.parameters.trend.parameters);if(this.highlighted){u8I.opacity=1;}k0x.L4v(0);U7D=k0x.X4v(571680773,"601304325");x7D=-1923753579;q7D=2;for(var i7D=1; k0x.x4D(i7D.toString(),i7D.toString().length,41040) !== U7D; i7D++){B8I.plotLine(m8I,G8I,E8I,j8I,z8I,"",q8I,C8I,u8I);q7D+=2;}if(k0x.q4D(q7D.toString(),q7D.toString().length,48745) !== x7D){B8I.plotLine(m8I,G8I,E8I,j8I,z8I,"",q8I,C8I,u8I);}B8I.plotLine(m8I,G8I,E8I,j8I,z8I,"segment",q8I,C8I,u8I);if(this.highlighted){V8I=this.highlighted == "p0"?!"":![];c8I=this.highlighted == "p1"?! ![]:!{};this.littleCircle(q8I,a8I,Y8I,V8I);this.littleCircle(q8I,N8I,s8I,c8I);}};u1c.Drawing.fibonacci.prototype.reposition=function(f8I, w8I, v8I, Z8I){if(!w8I){return;}k0x.A2x();u1c.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};u1c.Drawing.fibonacci.prototype.intersected=function(L5I, q5I, C5I){var n5I,e5I,W5I,t5I,d5I,o5I,z0D,h0D,t0D,c1D;n5I=this.p0;e5I=this.p1;if(!n5I || !e5I){return null;}W5I={0:n5I,1:e5I};for(var i5I in W5I){if(this.pointIntersection(W5I[i5I][0],W5I[i5I][1],C5I)){k0x.L4v(3);this.highlighted=k0x.z4v(i5I,("1005" & 2147483647,3590) !== 5190?(1098,798.09) >= ("3813" | 1)?1.27e+3:(3162,1052) == (+"2174",+"8380")?(508.33,6.51e+2):"p":6.25e+3);return {action:"drag",point:((554.45,+"3312") > (7090,6540)?(1360,8311) > ("8872" >> 1028761920,758.3)?(4990,1378) != 186?538.09:0xac1:(0x242c,+"0x15e8"):"p") + i5I};}}t5I=this.outer;d5I=this.rays;o5I=t5I && this.lineIntersection(L5I,q5I,C5I,"segment",t5I.p0,t5I.p1);if(!o5I){for(var J5I=0; J5I < d5I.length; J5I++){if(this.lineIntersection(L5I,q5I,C5I,"ray",d5I[J5I][0],d5I[J5I]["1" * 1],!"")){o5I=!"";break;}}}if(o5I){this.highlighted=! ![];z0D=-867715767;k0x.L4v(0);h0D=-k0x.X4v(403048768,"1552894318");t0D=2;for(var G0D=1; k0x.q4D(G0D.toString(),G0D.toString().length,35885) !== z0D; G0D++){return {action:"",p0:u1c.clone(n5I),p1:u1c.clone(e5I),tick:L5I,value:this.valueOnDrawingAxis(L5I,q5I)};}if(k0x.x4D(t0D.toString(),t0D.toString().length,2996) !== h0D){c1D="m";c1D+="o";c1D+="v";c1D+="e";return {action:c1D,p0:u1c.clone(n5I),p1:u1c.clone(e5I),tick:L5I,value:this.valueOnDrawingAxis(L5I,q5I)};}}return null;};u1c.Drawing.fibonacci.prototype.reconstruct=function(F5I, B5I){B5I=u1c.replaceFields(B5I,u1c.reverseObject(u1c.Drawing.fibonacci.mapping));this.stx=F5I;this.parameters=B5I.parameters;if(!this.parameters){this.parameters=u1c.clone(this.stx.currentVectorParameters.fibonacci);}this.color=B5I.col;this.fillColor=B5I.fc;this.panelName=B5I.pnl;this.d0=B5I.d0;this.d1=B5I.d1;this.d2=B5I.d2;this.tzo0=B5I.tzo0;this.tzo1=B5I.tzo1;this.tzo2=B5I.tzo2;this.v0=B5I.v0;this.v1=B5I.v1;this.v2=B5I.v2;this.field=B5I.fld;this.adjust();};u1c.Drawing.fibonacci.prototype.adjust=function(){k0x.z2x();var x5I;x5I=this.stx.panels[this.panelName];if(!x5I){return;}this.setPoint(0,this.d0,this.v0,x5I.chart);this.setPoint(1,this.d1,this.v1,x5I.chart);this.setOuter();};u1c.Drawing.fibonacci.prototype.serialize=function(){k0x.z2x();var s5I;s5I={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return u1c.replaceFields(s5I,u1c.Drawing.fibonacci.mapping);};u1c.Drawing.retracement=function(){k0x.A2x();this.name="retracement";};u1c.inheritsFrom(u1c.Drawing.retracement,u1c.Drawing.fibonacci);u1c.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!{};this.p2=null;};u1c.inheritsFrom(u1c.Drawing.fibprojection,u1c.Drawing.fibonacci);k0x.L4v(46);u1c.Drawing.fibprojection.prototype.recommendedLevels=[k0x.X4v("0",0),0.618,1,1.272,1.618,2.618,4.236];u1c.Drawing.fibprojection.prototype.click=function(I5I, Y5I, O5I){var g5I,X5I,m7D,Z7D,C7D;g5I=this.stx;X5I=g5I.panels[this.panelName];if(!X5I){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Y5I,O5I,X5I.chart);this.penDown=!"";return !"1";}if(this.accidentalClick(Y5I,O5I)){g5I.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],X5I.chart);this.parameters=u1c.clone(this.parameters);return ! !1;}this.setPoint(1,Y5I,O5I,X5I.chart);m7D=1015283614;Z7D=-758836548;C7D=2;for(var d7D=+"1"; k0x.x4D(d7D.toString(),d7D.toString().length,54696) !== m7D; d7D++){this.p2=[this.p1[+"7"],this.p1[7]];return ! !{};;C7D+=2;}if(k0x.q4D(C7D.toString(),C7D.toString().length,+"67268") !== Z7D){k0x.L4v(5);this.p2=[this.p1[k0x.z4v("0",0)],this.p1[1]];return !{};;}};u1c.Drawing.fibprojection.prototype.render=function(b5I){var U1D,a5I,N5I,E5I,A5I,P5I,G5I,l5I,S5I,D5I,y5I,z5I,H5I,k5I,u5I,q1D,x1D,h5I,j5I,Q5I,T5I,r5I,V5I,m5I,p5I,R5I,U5I,M5I,c5I,w5I,f5I;U1D="1";U1D+="6";U1D+="1.";U1D+="8%";a5I=this.stx;N5I=a5I.panels[this.panelName];E5I=a5I.getYAxisByField(N5I,this.field);if(!N5I || this.field && !E5I){return;}E5I=E5I || N5I.yAxis;if(!this.p1){return;}k0x.L4v(58);var n0F=k0x.X4v(20,3,47,9,12);k0x.L4v(59);var F0F=k0x.z4v(19,1356147238,4,9);A5I=this.p1[n0F] - this.p0["1" >> F0F];P5I=a5I.pixelFromTick(this.p0[0],N5I.chart);G5I=a5I.pixelFromTick(this.p1[0],N5I.chart);l5I=this.pixelFromValue(N5I,this.p0["0" << 759034112],this.p0[1],E5I);S5I=this.pixelFromValue(N5I,this.p1[0],this.p1[1],E5I);D5I=null;y5I=null;if(this.p2){D5I=a5I.pixelFromTick(this.p2[0],N5I.chart);y5I=this.pixelFromValue(N5I,this.p2[0],this.p2[1],E5I);}z5I={color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=z5I;}H5I=this.getLineColor(this.parameters.trend.color);b5I.textBaseline="middle";a5I.canvasFont("stx_yaxis",b5I);k0x.E4v(3);var w0F=k0x.X4v(822667440,274222480);k5I=b5I.measureText(U1D).width + ("10" << w0F);u5I=this.getLineColor();if(this.p2){this.rays=[];for(var K5I=0; K5I < this.parameters.fibs.length; K5I++){q1D="a";q1D+="uto";x1D="au";x1D+="to";b5I.textAlign="left";b5I.fillStyle=u5I;h5I=this.parameters.fibs[K5I];if(!h5I.display)continue;j5I=this.pixelFromValue(N5I,this.p2[0],this.p2[1] + A5I * h5I.level,E5I);Q5I=u1c.xIntersection({x0:P5I,x1:G5I,y0:l5I,y1:S5I},j5I);T5I=this.parameters.extendLeft?0:P5I;r5I=N5I.left + N5I.width;if(this.parameters.printLevels){k0x.L4v(60);var O0F=k0x.X4v(999,8000,11,8011);k0x.E4v(61);var B0F=k0x.z4v(26,1,1,17);V5I=Math.round(h5I.level * O0F) / B0F + "%";r5I-=k5I;if(this.parameters.printValues){b5I.fillStyle=u5I;a5I.canvasFont("stx_yaxis",b5I);;}if(r5I < T5I){b5I.textAlign="right";}b5I.fillText(V5I,r5I,j5I);if(r5I < T5I){r5I+=5;}else {r5I-=5;}}if(this.parameters.printValues){if(Q5I < N5I.width){m5I=this.valueFromPixel(j5I,N5I,E5I);if(E5I.priceFormatter){m5I=E5I.priceFormatter(a5I,N5I,m5I);}else {m5I=a5I.formatYAxisPrice(m5I,N5I,null,E5I);}if(b5I == a5I.chart.context){a5I.endClip();}a5I.createYAxisLabel(N5I,m5I,j5I,this.getLineColor(null,! !1),null,b5I,E5I);if(b5I == a5I.chart.context){a5I.startClip(N5I.name);}}}p5I=h5I.color;if(p5I == x1D || u1c.isTransparent(p5I)){p5I=this.getLineColor();}R5I=h5I.color;if(R5I == "auto" || u1c.isTransparent(R5I)){R5I=this.fillColor;}if(R5I == q1D || u1c.isTransparent(R5I)){R5I=a5I.defaultColor;}b5I.fillStyle=R5I;U5I=u1c.clone(h5I.parameters);if(this.highlighted){U5I.opacity=1;}a5I.plotLine(T5I,r5I,j5I,j5I,p5I,"segment",b5I,N5I,U5I);this.rays.push([[T5I,j5I],[r5I,j5I]]);b5I.globalAlpha=0.05;b5I.beginPath();b5I.moveTo(r5I,j5I);b5I.lineTo(T5I,j5I);if(T5I){b5I.lineTo(P5I,y5I);}else {b5I.lineTo(T5I,y5I);}b5I.lineTo(r5I,y5I);if(typeof R5I != "undefined"){b5I.fill();}b5I.globalAlpha=1;}}M5I=u1c.clone(this.parameters.trend.parameters);if(this.highlighted){M5I.opacity=1;}a5I.plotLine(P5I,G5I,l5I,S5I,H5I,"segment",b5I,N5I,M5I);if(this.p2){a5I.plotLine(G5I,D5I,S5I,y5I,H5I,"segment",b5I,N5I,M5I);}if(this.highlighted){c5I=this.highlighted == "p0"?! !{}:! !0;w5I=this.highlighted == "p1"?! ![]:! !0;f5I=this.highlighted == "p2"?! ![]:![];this.littleCircle(b5I,P5I,l5I,c5I);this.littleCircle(b5I,G5I,S5I,w5I);this.littleCircle(b5I,D5I,y5I,f5I);}};u1c.Drawing.fibprojection.prototype.move=function(i1I, v5I, Z5I){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[v5I,Z5I];}else {this.p2=[v5I,Z5I];}k0x.A2x();this.render(i1I);};u1c.Drawing.fibprojection.prototype.reposition=function(W1I, J1I, t1I, d1I){var i1D,X1D,L1I,n1I,e1I;i1D="d";i1D+="r";i1D+="a";i1D+="g";X1D="m";X1D+="ove";if(!J1I){return;}L1I=this.stx.panels[this.panelName];k0x.z2x();n1I=J1I.tick - t1I;e1I=J1I.value - d1I;if(J1I.action == X1D){this.setPoint(0,J1I.p0[+"0"] - n1I,J1I.p0["1" ^ 0] - e1I,L1I.chart);this.setPoint(1,J1I.p1[0] - n1I,J1I.p1[1] - e1I,L1I.chart);this.setPoint(2,J1I.p2[+"0"] - n1I,J1I.p2[1] - e1I,L1I.chart);this.render(W1I);}else if(J1I.action == i1D){this[J1I.point]=[t1I,d1I];this.setPoint(0,this.p0[0],this.p0[1],L1I.chart);this.setPoint(+"1",this.p1[0],this.p1[+"1"],L1I.chart);this.setPoint(2,this.p2[0],this.p2[1],L1I.chart);this.render(W1I);}};u1c.Drawing.fibprojection.prototype.intersected=function(q1I, s1I, X1I){var C1I,o1I,B1I,Y1I,m1D,O1I,g1I,Z2D,C2D,l2D;k0x.A2x();C1I=this.p0;o1I=this.p1;B1I=this.p2;if(!C1I || !o1I || !B1I){return null;}Y1I={0:C1I,1:o1I,2:B1I};for(var F1I in Y1I){if(this.pointIntersection(Y1I[F1I][0],Y1I[F1I][1],X1I)){m1D="d";m1D+="rag";k0x.L4v(3);this.highlighted=k0x.z4v(F1I,("7465" * 1,55.22) == (151.08,7813)?(2.19e+3,6.08e+3):(905,67) != (4140,"678.96" * 1)?71.19 !== ("403" ^ 0,5140)?"p":! !"1":437.08);return {action:m1D,point:((348.75,484.56) <= "3230" * 1?(2010,"7440" >> 26433664) !== 389.9?"p":(24,361) !== 844.71?(17,0x347):(0xf91,965.29):("0x607" * 1,744.97)) + F1I};}}O1I=this.rays;g1I=this.lineIntersection(q1I,s1I,X1I,"segment",C1I,o1I) || this.lineIntersection(q1I,s1I,X1I,"segment",o1I,B1I);if(!g1I){for(var x1I=0; x1I < O1I.length; x1I++){if(this.lineIntersection(q1I,s1I,X1I,"ray",O1I[x1I]["0" >> 1745308320],O1I[x1I][1],! !"1")){g1I=! !"1";break;}}}if(g1I){this.highlighted=! !{};return {action:"move",p0:u1c.clone(C1I),p1:u1c.clone(o1I),p2:u1c.clone(B1I),tick:q1I,value:this.valueOnDrawingAxis(q1I,s1I)};}Z2D=1029649003;C2D=-309703117;k0x.E4v(0);l2D=k0x.z4v(0,"2");for(var p2D=1; k0x.x4D(p2D.toString(),p2D.toString().length,42525) !== Z2D; p2D++){return null;}if(k0x.q4D(l2D.toString(),l2D.toString().length,81071) !== C2D){return 1;}};u1c.Drawing.fibprojection.prototype.adjust=function(){var I1I;I1I=this.stx.panels[this.panelName];if(!I1I){return;}this.setPoint(0,this.d0,this.v0,I1I.chart);this.setPoint(1,this.d1,this.v1,I1I.chart);this.setPoint(2,this.d2,this.v2,I1I.chart);};u1c.Drawing.fibarc=function(){this.name="fibarc";;};u1c.inheritsFrom(u1c.Drawing.fibarc,u1c.Drawing.fibonacci);k0x.L4v(5);u1c.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,k0x.X4v("1",0)];u1c.Drawing.fibarc.prototype.setOuter=function(){var N1I,b1I,a1I,E1I,j1I,R1I,T1I,r1I,y1I,q8D,X8D,i8D;N1I=this.stx;b1I=N1I.panels[this.panelName];if(!b1I){return;}this.outer={p0:u1c.clone(this.p0),p1:u1c.clone(this.p1)};a1I=N1I.getYAxisByField(b1I,this.field);E1I=this.pixelFromValue(b1I,this.p0[0],this.p0[1],a1I);j1I=this.pixelFromValue(b1I,this.p1[0],this.p1[1],a1I);R1I=N1I.pixelFromTick(this.p0[+"0"],b1I.chart);T1I=N1I.pixelFromTick(this.p1[0],b1I.chart);k0x.E4v(62);r1I=k0x.z4v(2,j1I,E1I);y1I=u1c.xIntersection({x0:R1I,x1:T1I,y0:E1I,y1:j1I},r1I);this.outer.p0[1]=this.valueFromPixel(r1I,b1I,a1I);q8D=1209494741;X8D=-2070378814;i8D=2;for(var Z8D=1; k0x.q4D(Z8D.toString(),Z8D.toString().length,15381) !== q8D; Z8D++){this.outer.p0[3]=N1I.tickFromPixel(y1I,b1I.chart);i8D+=2;}if(k0x.x4D(i8D.toString(),i8D.toString().length,99248) !== X8D){this.outer.p0[0]=N1I.tickFromPixel(y1I,b1I.chart);}};u1c.Drawing.fibarc.prototype.intersected=function(m1I, z1I, P1I){var Z1D,G1I,l1I,S1I,p1I,U1I,H1I,u1I,k1I,Q1I,h1I,K1I,A1I,M1I;Z1D="s";Z1D+="e";Z1D+="gme";Z1D+="nt";k0x.z2x();G1I=this.stx;l1I=G1I.panels[this.panelName];if(!l1I){return;}S1I=this.p0;p1I=this.p1;U1I=this.outer;if(!S1I || !p1I){return null;}H1I={0:S1I,1:p1I};for(var D1I in H1I){if(this.pointIntersection(H1I[D1I][0],H1I[D1I][1],P1I)){k0x.L4v(3);this.highlighted=k0x.z4v(D1I,"p");return {action:"drag",point:"p" + D1I};}}u1I=this.valueOnDrawingAxis(m1I,z1I);if(this.lineIntersection(m1I,u1I,P1I,Z1D,U1I.p0,U1I.p1)){this.highlighted=! !"1";return {action:"move",p0:u1c.clone(S1I),p1:u1c.clone(p1I),tick:m1I,value:u1I};}k1I=G1I.getYAxisByField(l1I,this.field);Q1I={x0:S1I[0],x1:p1I[0],y0:S1I[1],y1:p1I[1]};h1I=this.boxToPixels(G1I,this.panelName,Q1I,k1I);K1I={x:Math.abs(Math.sqrt(2) * (h1I.x1 - h1I.x0)),y:Math.abs(Math.sqrt(2) * (h1I.y1 - h1I.y0))};A1I=G1I.pixelFromTick(m1I,l1I.chart);M1I=G1I.pixelFromValueAdjusted(l1I,m1I,z1I);if(A1I + P1I.r < h1I.x1 - K1I.x || A1I - P1I.r > h1I.x1 + K1I.x){return null;}if(M1I + P1I.r < h1I.y1 - K1I.y || M1I - P1I.r > h1I.y1 + K1I.y){return null;}if(h1I.y0 < h1I.y1 && M1I - P1I.r > h1I.y1){return null;}if(h1I.y0 > h1I.y1 && M1I + P1I.r < h1I.y1){return null;}this.highlighted=! !{};return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:m1I,value:u1I};};u1c.Drawing.fibarc.prototype.render=function(V1I){var p1D,d1D,C1D,c1I,w1I,f1I,e9I,i9I,L9I,Z1I,o9I,q9I,x9I,C9I,l1D,v1I,s9I,B9I,W9I,X9I,Y9I,n9I,t9I,J9I,F9I,O9I,g9I;p1D="segme";p1D+="nt";d1D="l";d1D+="e";d1D+="ft";C1D="mid";C1D+="d";C1D+="l";C1D+="e";c1I=this.stx;w1I=c1I.panels[this.panelName];f1I=c1I.getYAxisByField(w1I,this.field);if(!w1I || this.field && !f1I){return;}f1I=f1I || w1I.yAxis;if(!this.p1){return;}e9I=c1I.pixelFromTick(this.p0[+"0"],w1I.chart);i9I=c1I.pixelFromTick(this.p1[0],w1I.chart);L9I=this.pixelFromValue(w1I,this.p0["0" ^ 0],this.p0[1],f1I);Z1I=this.pixelFromValue(w1I,this.p1[0],this.p1[1],f1I);k0x.L4v(63);o9I=k0x.z4v(L9I,Z1I);k0x.E4v(64);q9I=Math.abs(k0x.z4v(e9I,i9I,Z1I,L9I));x9I=this.getLineColor(this.parameters.trend.color);V1I.textBaseline=C1D;c1I.canvasFont("stx_yaxis",V1I);C9I=this.getLineColor();for(var d9I=0; d9I < this.parameters.fibs.length; d9I++){l1D="no";l1D+="ne";V1I.fillStyle=C9I;v1I=this.parameters.fibs[d9I];if(v1I.level < 0 || !v1I.display)continue;k0x.L4v(5);var N0F=k0x.X4v(7,6);k0x.L4v(65);var L0F=k0x.z4v(13,66,10,15);k0x.E4v(5);var u0F=k0x.z4v(8,6);s9I=Math.abs(this.p1[N0F] - this.p0[L0F]) * Math.sqrt(u0F) * v1I.level;k0x.L4v(66);var J0F=k0x.X4v(14,3,9,5);k0x.E4v(30);var D0F=k0x.X4v(6,14,2);k0x.L4v(29);var S0F=k0x.X4v(2,0,1,2);k0x.E4v(4);var R0F=k0x.X4v(3,4,0);k0x.E4v(40);var a0F=k0x.X4v(14,15);B9I=this.p1[J0F] + s9I * (o9I?D0F:S0F) * (f1I.flipped?R0F:a0F);W9I=this.pixelFromValue(w1I,this.p0[0],B9I,f1I);X9I=u1c.xIntersection({x0:e9I,x1:i9I,y0:L9I,y1:Z1I},W9I);if(this.parameters.printLevels){V1I.textAlign="center";k0x.L4v(8);var Y0F=k0x.X4v(1002,9,11);k0x.L4v(59);var c0F=k0x.z4v(14,1,8,15);k0x.E4v(67);var U0F=k0x.z4v(328,4,2,16,3758);k0x.L4v(68);var x0F=k0x.z4v(7,7212,8,8394);k0x.E4v(69);var q0F=k0x.z4v(17,13,9697,116400);k0x.E4v(53);var X0F=k0x.X4v(9,9299,8743);k0x.E4v(62);var i0F=k0x.X4v(4296,25781,7);Y9I=Math.round(v1I.level * Y0F) / c0F + (524.5 != (U0F,256.79)?"%":(+"503.79",x0F) === q0F?("n",X0F):(i0F,!1));if(this.parameters.printValues){V1I.fillStyle=C9I;c1I.canvasFont("stx_yaxis",V1I);;}V1I.fillText(Y9I,i9I,Math.round(W9I - 5));}V1I.textAlign="left";if(this.parameters.printValues){if(X9I < w1I.width){n9I=B9I;if(f1I.priceFormatter){n9I=f1I.priceFormatter(c1I,w1I,n9I);}else {n9I=c1I.formatYAxisPrice(n9I,w1I,null,f1I);}if(V1I == c1I.chart.context){c1I.endClip();}c1I.createYAxisLabel(w1I,n9I,W9I,this.getLineColor(null,!0),null,V1I,f1I);if(V1I == c1I.chart.context){c1I.startClip(w1I.name);}}}t9I=v1I.color;if(t9I == "auto" || u1c.isTransparent(t9I)){t9I=this.getLineColor();}V1I.strokeStyle=t9I;J9I=v1I.color;if(J9I == "auto" || u1c.isTransparent(J9I)){J9I=this.fillColor;}if(J9I == "auto" || u1c.isTransparent(J9I)){J9I=c1I.defaultColor;}V1I.fillStyle=J9I;V1I.globalAlpha=this.highlighted?1:v1I.parameters.opacity;V1I.lineWidth=v1I.parameters.lineWidth;if(V1I.setLineDash){V1I.setLineDash(u1c.borderPatternToArray(V1I.lineWidth,v1I.parameters.pattern));V1I.lineDashOffset=0;;}V1I.save();V1I.beginPath();k0x.L4v(9);V1I.scale(k0x.X4v(1,q9I),1);k0x.L4v(15);V1I.arc(k0x.z4v(q9I,i9I),Z1I,Math.abs(W9I - Z1I),"0" >> 1958885600,Math.PI,!o9I);if(this.pattern != l1D){V1I.stroke();}V1I.globalAlpha=0.05;V1I.fill();V1I.restore();if(V1I.setLineDash){V1I.setLineDash([]);}V1I.globalAlpha=1;}V1I.textAlign=d1D;F9I=u1c.clone(this.parameters.trend.parameters);if(this.highlighted){F9I.opacity=1;}k0x.L4v(62);c1I.plotLine(i9I,k0x.X4v(2,i9I,e9I),Z1I,k0x.z4v(2,Z1I,L9I),x9I,p1D,V1I,w1I,F9I);if(this.highlighted){O9I=this.highlighted == "p0"?! !"1":![];g9I=this.highlighted == "p1"?! !1:! !0;this.littleCircle(V1I,e9I,L9I,O9I);this.littleCircle(V1I,i9I,Z1I,g9I);}};u1c.Drawing.fibfan=function(){var I1D;I1D="fi";I1D+="bfan";k0x.z2x();this.name=I1D;;};u1c.inheritsFrom(u1c.Drawing.fibfan,u1c.Drawing.fibonacci);u1c.Drawing.fibfan.prototype.recommendedLevels=[+"0",0.382,0.5,+"0.618",1];u1c.Drawing.fibfan.prototype.setOuter=function(){};u1c.Drawing.fibfan.prototype.render=function(I9I){var M1D,a9I,N9I,r9I,b9I,T9I,E9I,G9I,U9I,A9I,z9I,V9I,v9I,p9I,l9I,D9I,k9I,o1D,K1D,h9I,R9I,K9I,j9I,P9I,c9I,k1D,S9I,M9I,y9I,Q9I,m9I,w9I,f9I;M1D="st";M1D+="x_";M1D+="ya";k0x.z2x();M1D+="xis";a9I=this.stx;N9I=a9I.panels[this.panelName];r9I=a9I.getYAxisByField(N9I,this.field);if(!N9I || this.field && !r9I){return;}r9I=r9I || N9I.yAxis;if(!this.p1){return;}b9I=a9I.pixelFromTick(this.p0[+"0"],N9I.chart);T9I=a9I.pixelFromTick(this.p1[+"0"],N9I.chart);E9I=this.pixelFromValue(N9I,this.p0[0],this.p0[1],r9I);G9I=this.pixelFromValue(N9I,this.p1["0" ^ 0],this.p1[1],r9I);U9I=Math.min(G9I,E9I);A9I=Math.max(G9I,E9I);k0x.L4v(5);z9I=k0x.X4v(A9I,U9I);k0x.L4v(55);V9I=k0x.z4v(G9I,b9I,E9I,T9I,0);v9I=this.getLineColor(this.parameters.trend.color);I9I.textBaseline="middle";a9I.canvasFont(M1D,I9I);k0x.E4v(70);var m0F=k0x.z4v(2,1,8);p9I=I9I.measureText("161.8%").width + m0F;l9I=Number.MAX_VALUE;k0x.L4v(40);var Z0F=k0x.X4v(6,5);D9I=Number.MAX_VALUE * Z0F;k9I=this.getLineColor();this.rays=[];for(var u9I="0" >> 1508424320; u9I < this.parameters.fibs.length; u9I++){o1D="au";o1D+="to";K1D="l";K1D+="e";K1D+="f";K1D+="t";I9I.fillStyle=k9I;h9I=this.parameters.fibs[u9I];if(!h9I.display)continue;R9I=this.pixelFromValue(N9I,this.p0["0" & 2147483647],(this.p0[1] - this.p1[1]) * h9I.level + this.p1[1],r9I);K9I=u1c.xIntersection({x0:T9I,x1:T9I,y0:E9I,y1:G9I},R9I);j9I=N9I.left;if(T9I > b9I){j9I+=N9I.width;}k0x.E4v(71);P9I=k0x.z4v(R9I,b9I,E9I,K9I,E9I,j9I,b9I);if(b9I > j9I - (this.parameters.printLevels?p9I + 5:0) && T9I > b9I)continue;else if(b9I < j9I + (this.parameters.printLevels?p9I + 5:0) && T9I < b9I)continue;if(this.parameters.printLevels){k0x.E4v(4);var C0F=k0x.X4v(26,17,1);k0x.L4v(5);var l0F=k0x.X4v(60300,54270);k0x.E4v(59);var d0F=k0x.z4v(11,4717,20,8);k0x.E4v(5);var p0F=k0x.z4v(4688,6);k0x.E4v(40);var I0F=k0x.X4v(8,9);c9I=Math.round(h9I.level * ("1000" & 2147483647)) / C0F + ((113.26,l0F) > 300.27?"%":d0F < p0F?"916.35" * I0F:624.77);if(T9I > b9I){j9I-=p9I;I9I.textAlign="left";}else {k1D="r";k1D+="i";k1D+="g";k1D+="ht";j9I+=p9I;I9I.textAlign=k1D;}if(this.parameters.printValues){I9I.fillStyle=k9I;a9I.canvasFont("stx_yaxis",I9I);;}k0x.E4v(71);P9I=k0x.z4v(R9I,b9I,E9I,K9I,E9I,j9I,b9I);I9I.fillText(c9I,j9I,P9I);if(T9I > b9I){j9I-=5;}else {j9I+=5;}}I9I.textAlign=K1D;if(this.parameters.printValues){if(K9I < N9I.width){S9I=this.valueFromPixel(R9I,N9I,r9I);if(r9I.priceFormatter){S9I=r9I.priceFormatter(a9I,N9I,S9I);}else {S9I=a9I.formatYAxisPrice(S9I,N9I,null,r9I);}if(I9I == a9I.chart.context){a9I.endClip();}a9I.createYAxisLabel(N9I,S9I,R9I,this.getLineColor(null,! !1),null,I9I,r9I);if(I9I == a9I.chart.context){a9I.startClip(N9I.name);}}}M9I=h9I.color;if(M9I == "auto" || u1c.isTransparent(M9I)){M9I=this.getLineColor();}y9I=h9I.color;if(y9I == o1D || u1c.isTransparent(y9I)){y9I=this.fillColor;}if(y9I == "auto" || u1c.isTransparent(y9I)){y9I=a9I.defaultColor;}I9I.fillStyle=y9I;if(this.parameters.printLevels){k0x.E4v(71);P9I=k0x.z4v(R9I,b9I,E9I,K9I,E9I,j9I,b9I);}Q9I=u1c.clone(h9I.parameters);if(this.highlighted){Q9I.opacity=+"1";}a9I.plotLine(b9I,j9I,E9I,P9I,M9I,"segment",I9I,N9I,Q9I);this.rays.push([[b9I,E9I],[j9I,P9I]]);I9I.globalAlpha=0.05;I9I.beginPath();I9I.moveTo(j9I,P9I);I9I.lineTo(b9I,E9I);I9I.lineTo(j9I,E9I);I9I.fill();I9I.globalAlpha=1;if(R9I < l9I){l9I=R9I;}if(R9I > D9I){D9I=R9I;}}for(var H9I=0; H9I <= +"1"; H9I++){m9I=V9I?A9I - z9I * H9I:U9I + z9I * H9I;m9I=Math.round(m9I);if(m9I < l9I){l9I=m9I;}if(m9I > D9I){D9I=m9I;}}if(this.highlighted){w9I=this.highlighted == "p0"?! ![]:!{};f9I=this.highlighted == "p1"?! !"1":!"1";this.littleCircle(I9I,b9I,E9I,w9I);this.littleCircle(I9I,T9I,G9I,f9I);}};u1c.Drawing.fibtimezone=function(){k0x.z2x();this.name="fibtimezone";;};u1c.inheritsFrom(u1c.Drawing.fibtimezone,u1c.Drawing.fibonacci);u1c.Drawing.fibtimezone.prototype.render=function(Z9I){var P1D,J4I,i4I,L4I,n4I,t4I,F4I,x4I,C4I,O4I,g4I,s4I,I4I,e4I,X4I,d4I,o4I,q4I,W4I,B4I,V1D,b4I,N4I,Y4I;P1D="c";P1D+="enter";J4I=this.stx;i4I=J4I.panels[this.panelName];L4I=J4I.getYAxisByField(i4I,this.field);if(!i4I || this.field && !L4I){return;}L4I=L4I || i4I.yAxis;if(!this.p1){return;}k0x.A2x();n4I=J4I.pixelFromTick(this.p0["0" & 2147483647],i4I.chart);t4I=J4I.pixelFromTick(this.p1[0],i4I.chart);F4I=this.pixelFromValue(i4I,this.p0[+"0"],this.p0[1],L4I);x4I=this.pixelFromValue(i4I,this.p1[0],this.p1[1],L4I);C4I=[1,0];O4I=this.getLineColor(this.parameters.trend.color);Z9I.textBaseline="middle";J4I.canvasFont("stx_yaxis",Z9I);g4I=20;s4I=this.p1[0] - this.p0[0];I4I=this.getLineColor();Z9I.textAlign=P1D;e4I=n4I;X4I=L4I.top;d4I=L4I.bottom;o4I=0;q4I=this.parameters.timezone.color;if(q4I == "auto" || u1c.isTransparent(q4I)){q4I=this.getLineColor();}W4I=this.parameters.timezone.color;if(W4I == "auto" || u1c.isTransparent(W4I)){W4I=this.fillColor;}if(W4I == "auto" || u1c.isTransparent(W4I)){W4I=J4I.defaultColor;}if(this.parameters.printLevels){k0x.E4v(5);d4I-=k0x.X4v(g4I,7);}B4I=u1c.clone(this.parameters.timezone.parameters);if(this.highlighted){B4I.opacity=1;}do {V1D="se";V1D+="gme";V1D+="nt";e4I=J4I.pixelFromTick(this.p0[0] + o4I * s4I,i4I.chart);if(n4I < t4I && e4I > i4I.left + i4I.width)break;else if(n4I > t4I && e4I < i4I.left)break;if(this.parameters.printLevels){Z9I.fillStyle=I4I;Z9I.fillText(t4I > n4I?o4I:o4I * -1,e4I,d4I + 7);}Z9I.fillStyle=W4I;J4I.plotLine(e4I,e4I,0,d4I,q4I,V1D,Z9I,i4I,B4I);Z9I.globalAlpha=0.05;Z9I.beginPath();Z9I.moveTo(n4I,X4I);Z9I.lineTo(e4I,X4I);Z9I.lineTo(e4I,d4I);Z9I.lineTo(n4I,d4I);Z9I.fill();Z9I.globalAlpha=1;k0x.E4v(72);var M0F=k0x.X4v(12,12,12,12);o4I=C4I[0] + C4I[M0F];C4I.unshift(o4I);}while(s4I);Z9I.textAlign="left";J4I.plotLine(n4I,t4I,F4I,x4I,O4I,"segment",Z9I,i4I,B4I);if(this.highlighted){b4I=this.highlighted == "p0"?! ![]:!{};N4I=this.highlighted == "p1"?! ![]:!{};this.littleCircle(Z9I,n4I,F4I,b4I);this.littleCircle(Z9I,t4I,x4I,N4I);}else {Y4I=this.valueFromPixel(i4I.height / 2,i4I,L4I);this.setPoint(0,this.p0[0],Y4I,i4I.chart);this.setPoint(1,this.p1[0],Y4I,i4I.chart);}};u1c.Drawing.fibtimezone.prototype.intersected=function(T4I, y4I, j4I){var a4I,r4I,h4I,R4I,P4I;a4I=this.p0;r4I=this.p1;h4I=this.stx.panels[this.panelName];if(!a4I || !r4I || !h4I){return null;}R4I={0:a4I,1:r4I};for(var E4I in R4I){if(this.pointIntersection(R4I[E4I][0],R4I[E4I][1],j4I)){k0x.L4v(3);this.highlighted=k0x.z4v(E4I,("549.93" - 0,788.55) == (+"276.22","6010" - 0)?(![],+"0xd78"):"p");return {action:"drag",point:"p" + E4I};}}P4I=this.lineIntersection(T4I,y4I,j4I,"segment");if(P4I || j4I.x0 <= this.p0[0] && j4I.x1 >= a4I["0" - 0]){this.highlighted=!"";return {action:"move",p0:u1c.clone(a4I),p1:u1c.clone(r4I),tick:T4I,value:this.valueOnDrawingAxis(T4I,y4I)};}return null;};u1c.Drawing.arrow_v0=function(){this.name="arrow";k0x.L4v(5);this.dimension=[k0x.X4v("11",0),+"11"];k0x.E4v(0);this.points=[["M",3,0,(4510,6650) === 954.95?(0x11fa,0x333):(104.71,1932) != 1860?"L":670 != 2380?(!"",552.60):"p",7,0,9194 !== 8770?(7792,7620) < 3670?(+"0x26eb",0x246f):(620,2976) < (+"8380",7600)?"L":(! !"",! ![]):(+"131.35",158.46),7,k0x.z4v(1,"5"),"L",10,5,"L",5,10,"L",0,5,("6440" >> 1335001760,5445) != (7560,+"191.76")?"L":!{},3,5,(607.85,9970) <= (3435,6270)?("2140" << 923175872,5344) <= (768.14,420.85)?538.11:!0:"L",3,0]];;};u1c.inheritsFrom(u1c.Drawing.arrow_v0,u1c.Drawing.shape);u1c.Drawing.xcross=function(){var y1D;y1D="xc";y1D+="r";y1D+="os";y1D+="s";this.name=y1D;k0x.L4v(46);this.dimension=[k0x.z4v("7",0),7];k0x.E4v(15);this.points=[["M",1,0,693 !== (957.15,814.36)?908.3 > (5537,6080)?+"2830" == (5735,+"460")?("0xba0" & 2147483647,! ![]):0x1528:"L":"S",3,2,920.81 > 5256?(5.56e+3,"1.85e+3" | 274):"L",5,0,(553.26,+"696") <= 5310?"L":(330.18,8.16e+3),k0x.z4v(1,"6"),1,"L",4,3,+"2697" !== 9074?"L":("Q",916.55),6,5,574.65 < (5088,731.98)?"L":630,5,k0x.X4v("6",0,k0x.L4v(46)),363.21 < 4370?8040 > (2410,6624)?"L":702.8 < (776.48,8430)?(9.61e+3,"R"):8.40e+3:159.98,3,+"4","L",1,6,"L",0,5,"L",2,+"3",("5269" ^ 0) === (+"779.72",8310)?937.13:(+"8.57",403.1) > (2280,59.33)?"L":3168 < 268.14?! !1:328,0,1,(+"793.01",1007) != (+"753",360.48)?"L":(777.11,5756) > 779.69?(! !0,"Z"):("l","s"),1,+"0"]];;};u1c.inheritsFrom(u1c.Drawing.xcross,u1c.Drawing.shape);u1c.Drawing.check=function(){var E1D;E1D="che";E1D+="c";E1D+="k";this.name=E1D;this.dimension=[8,9];k0x.L4v(19);this.points=[[263.6 === 3452?(79.26,0x27d):"M",1,5,982.9 !== (5190,6924)?("405.51" - 0,9326) > 2800?9789 == 655.28?(8.97e+3,0x15f0):"L":"f":(!{},"E"),k0x.X4v("0",2147483647),6,3510 != "6013" * 1?"L":580 !== (700,+"8880")?0xf68:(7.30e+3,680.32),2,8,"L",7,1,"L",k0x.X4v("6",0,k0x.L4v(46)),0,(2064,459.29) != 9682?"L":("E",+"241.37"),2,6,"L",1,5]];;};u1c.inheritsFrom(u1c.Drawing.check,u1c.Drawing.shape);u1c.Drawing.star=function(){var s1D;s1D="st";s1D+="a";s1D+="r";this.name=s1D;this.dimension=[+"12",12];k0x.E4v(15);this.points=[["M",0,4,"L",4,4,(3982,337.94) >= (4233,1390)?8025 !== (5690,860.56)?("0x2407" >> 277173568,1.50e+3):(7.20e+2,603.76):"L",k0x.X4v(1,"5.5"),0,(685.83,744) == (3678,9980)?(1431,6580) >= "242.11" * 1?"483.97" * 1:(0x1da7,"J"):"L",7,4,(9860,+"1634") <= (5370,8030)?(7910,"8010" << 351532640) == (+"7280","875.15" * 1)?"k":(620,820) < 1928?"L":3.18e+3:(7.45e+3,+"0x22b1"),11,4,(5710,775.99) !== (3150,3230)?"L":(0x1928,"U"),8,7,"L",9,11,97.26 >= 4325?(0x254b,384):"L",5.5,9,(2390,"707.5" - 0) !== 3430?"L":("o",0x120a),2,11,3930 < (+"976.88",3265)?(!1,+"0x1ad7"):"L",3,7,"L",+"0",4]];;};u1c.inheritsFrom(u1c.Drawing.star,u1c.Drawing.shape);u1c.Drawing.heart=function(){var g1D;g1D="hear";g1D+="t";this.name=g1D;k0x.z2x();this.dimension=[23,+"20"];k0x.E4v(15);this.points=[[(579.12,433.18) >= (2450,+"4046")?(0xa50,"F"):"M",11,3,(926.81,3610) >= 3198?"B":5321 !== 2690?3569 >= 4260?"0xdff" ^ 0:(! ![],+"707.50"):![],11,2.4,10,0,6,0,+"126.83" == 8670?"a":(+"647",8130) > 494.47?(372.53,3958) !== ("5539" | 5411)?"B":!"1":("O",53.67),k0x.z4v(1,"0"),0,+"0",7.5,k0x.X4v(245321888,"0",k0x.E4v(42)),+"7.5",(1786,3200) <= 7920?"B":(3.18e+3,0xfb),0,11,4,15.4,11,19,+"745.21" >= (784.17,+"6320")?0x1e7c:53.45 != (560.68,474)?"B":(7.06e+3,+"3.28e+3"),18,15.4,+"22",11,22,7.5,"B",22,7.5,k0x.z4v(830215424,"22",k0x.E4v(25)),0,+"16",0,(893.08,7231) === 795.54?(+"462.27",156.23):"B",13,0,11,2.4,11,3]];;};u1c.inheritsFrom(u1c.Drawing.heart,u1c.Drawing.shape);u1c.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];k0x.L4v(5);this.points=[[9820 == 7796?631.50:7395 > (2820,733)?(3130,+"7584") != 7060?"M":(![],"j"):509.93,0,0,"L",2,2,3175 >= +"774"?"L":("G",! !"1"),0,4,"L",0,0],[(+"4800",829) > ("889.01" - 0,6349)?(9458,3270) > (+"251.22",+"5099")?+"0x1903":(9996,76.54) == 9680?("r",0x89d):5.12:"M",6,0,("659.69" * 1,260) !== 6319?"L":(205.14,5375) !== 624.46?("i","J"):(+"865",888.62),k0x.z4v("4",0),2,"L",6,4,(4270,7930) !== (+"8520",6190)?(609.43,9078) != 8480?"L":("6112" << 2146402592,7396) == (9.35,4690)?(430.48,710):(0x608,0x1df7):(9.73e+3,! ![]),6,0]];;};u1c.inheritsFrom(u1c.Drawing.focusarrow,u1c.Drawing.shape);u1c.Drawing.crossline=function(){k0x.A2x();var A1D;A1D="cro";A1D+="ssl";A1D+="ine";this.name=A1D;};u1c.inheritsFrom(u1c.Drawing.crossline,u1c.Drawing.horizontal);u1c.extend(u1c.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(m4I, G4I){return ![];},adjust:function(){k0x.A2x();var S4I;S4I=this.stx.panels[this.panelName];if(!S4I){return;}this.setPoint(0,this.d0,this.v0,S4I.chart);this.p1=u1c.clone(this.p0);},intersected:function(p4I, D4I, K4I){var l4I,T1D;if(!this.p0 || !this.p1){return null;}k0x.E4v(25);this.p1[0]+=k0x.X4v(1913749920,"1");l4I=this.lineIntersection(p4I,D4I,K4I,"line");this.p1=u1c.clone(this.p0);if(!l4I){this.p1[+"1"]+=1;l4I=this.lineIntersection(p4I,D4I,K4I,"line");this.p1=u1c.clone(this.p0);if(!l4I){return null;}}this.highlighted=! !{};if(this.pointIntersection(this.p0[0],this.p0[1],K4I)){T1D="p";T1D+="0";this.highlighted=T1D;}return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:p4I,value:this.valueOnDrawingAxis(p4I,D4I)};},render:function(w4I){var e1D,H1D,M4I,H4I,U4I,z4I,k4I,V4I,f4I,A4I,u4I,Q4I,v4I,c4I,z6D,Z4I;e1D="v";k0x.A2x();e1D+="er";e1D+="t";e1D+="ical";H1D="h";H1D+="or";H1D+="izon";H1D+="tal";M4I=this.stx;H4I=M4I.panels[this.panelName];U4I=M4I.getYAxisByField(H4I,this.field);if(!H4I || this.field && !U4I){return;}U4I=U4I || H4I.yAxis;z4I=M4I.pixelFromTick(this.p0[0],H4I.chart);k4I=this.pixelFromValue(H4I,this.p0[0],this.p0[1],U4I);V4I=this.getLineColor();f4I={pattern:this.pattern,lineWidth:this.lineWidth};k0x.E4v(3);M4I.plotLine(z4I,k0x.X4v(100,z4I),k4I,k4I,V4I,H1D,w4I,H4I,f4I);k0x.E4v(3);M4I.plotLine(z4I,z4I,k4I,k0x.z4v(100,k4I),V4I,e1D,w4I,H4I,f4I);if(this.axisLabel && !this.repositioner){M4I.endClip();A4I=this.p0[1];if(H4I.chart.transformFunc){A4I=H4I.chart.transformFunc(M4I,H4I.chart,A4I);}if(U4I.priceFormatter){A4I=U4I.priceFormatter(M4I,H4I,A4I);}else {A4I=M4I.formatYAxisPrice(A4I,H4I,null,U4I);}M4I.createYAxisLabel(H4I,A4I,k4I,V4I,null,null,U4I);M4I.startClip(H4I.name);if(this.p0[0] >= 0 && !M4I.chart.xAxis.noDraw){u4I=M4I.dateFromTick(this.p0[0],H4I.chart,! !"1");if(!u1c.ChartEngine.isDailyInterval(M4I.layout.interval)){k0x.E4v(73);var k0F=k0x.X4v(17,2583000,19,8000);v4I=u4I.getSeconds() * k0F + u4I.getMilliseconds();if(U1c.Date && M4I.displayZone){Q4I=new U1c.Date(u4I.getTime(),M4I.displayZone);u4I=new Date(Q4I.getFullYear(),Q4I.getMonth(),Q4I.getDate(),Q4I.getHours(),Q4I.getMinutes());u4I=new Date(u4I.getTime() + v4I);}}else {u4I.setHours(0,0,0,0);}c4I=u1c.mmddhhmm(u1c.yyyymmddhhmm(u4I));if(H4I.chart.xAxis.formatter){c4I=H4I.chart.xAxis.formatter(u4I,this.name,null,null,c4I);}else if(this.stx.internationalizer){c4I=u1c.displayableDate(M4I,M4I.chart,u4I);}M4I.endClip();M4I.createXAxisLabel({panel:H4I,txt:c4I,x:z4I,backgroundColor:V4I,color:null,pointed:! ![],padding:2});M4I.startClip(H4I.name);}}if(this.highlighted){z6D="p";z6D+="0";Z4I=this.highlighted == z6D?! ![]:! !0;this.littleCircle(w4I,z4I,k4I,Z4I);}}},! !{});u1c.Drawing.speedarc=function(){k0x.z2x();this.name="speedarc";this.printLevels=! ![];};u1c.inheritsFrom(u1c.Drawing.speedarc,u1c.Drawing.segment);u1c.extend(u1c.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth",h6D],copyConfig:function(){var i0I;i0I=this.stx.currentVectorParameters;this.color=i0I.currentColor;this.fillColor=i0I.fillColor;this.lineWidth=i0I.lineWidth;this.pattern=i0I.pattern;},intersected:function(J0I, q0I, C0I){var G6D,D0D,S0D,R0D,e0I,t6D,n0I,B0I,W6D,W0I,t0I,d0I,o0I;G6D="m";G6D+="o";G6D+="ve";D0D=-1686537484;S0D=282147180;R0D=2;for(var Y0D=1; k0x.q4D(Y0D.toString(),Y0D.toString().length,99014) !== D0D; Y0D++){if(!this.p0 || !this.p1){return null;}e0I={0:this.p0,1:this.p1};R0D+=2;}if(k0x.x4D(R0D.toString(),R0D.toString().length,27984) !== S0D){if(+this.p0 && -this.p1){return 1;}e0I={0:this.p0,1:this.p1};}for(var L0I in e0I){if(this.pointIntersection(e0I[L0I][0],e0I[L0I][1],C0I)){t6D="dr";t6D+="ag";k0x.E4v(3);this.highlighted=k0x.z4v(L0I,(8590,"4930" | 4354) > (2420,9354)?(89.47,5524) === 9560?(7.75e+3,+"6.37e+3"):787.73 > 8151?(!0,"7.37e+3" ^ 0):!{}:"p");return {action:t6D,point:(5850 === "925.9" - 0?(!1,"c"):(4630,296.58) < (1050,+"461.03")?5370 === 2624?(556.29,"A"):"p":("M","8.57e+3" & 2147483647)) + L0I};}}n0I=this.valueOnDrawingAxis(J0I,q0I);B0I=this.lineIntersection(J0I,q0I,C0I,this.name);if(B0I){W6D="m";W6D+="o";W6D+="v";W6D+="e";this.highlighted=!"";return {action:W6D,p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:J0I,value:n0I};}W0I=this.p1[0] - (this.p0[+"0"] - this.p1[0]);t0I=this.p0[0];d0I=this.p1[1];o0I=this.p0[1];if(J0I > Math.max(W0I,t0I) || J0I < Math.min(W0I,t0I)){return null;}if(n0I > Math.max(o0I,d0I) || n0I < Math.min(o0I,d0I)){return null;}this.highlighted=!0;return {action:G6D,p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:J0I,value:n0I};},render:function(F0I){var s0I,x0I,X0I,N0I,O0I,I0I,Y0I,E0I,j0I,a0I,g0I,W8D,G8D,Q8D,R0I,T0I,r0I,y0I,h0I,P0I,m0I;s0I=this.stx;x0I=s0I.panels[this.panelName];X0I=s0I.getYAxisByField(x0I,this.field);if(!x0I || this.field && !X0I){return;}X0I=X0I || x0I.yAxis;if(!this.p1){return;}N0I=s0I.pixelFromTick(this.p0[0],x0I.chart);O0I=s0I.pixelFromTick(this.p1["0" & 2147483647],x0I.chart);I0I=this.pixelFromValue(x0I,this.p0[0],this.p0["1" >> 518560704],X0I);Y0I=this.pixelFromValue(x0I,this.p1[0],this.p1[1],X0I);k0x.L4v(63);E0I=k0x.X4v(I0I,Y0I);k0x.L4v(64);j0I=Math.abs(k0x.X4v(N0I,O0I,Y0I,I0I));a0I=this.getLineColor();F0I.strokeStyle=a0I;g0I=this.fillColor;if(g0I == "auto" || u1c.isTransparent(g0I)){g0I=s0I.defaultColor;}F0I.fillStyle=g0I;if(F0I.setLineDash){F0I.setLineDash(u1c.borderPatternToArray(this.lineWidth,this.pattern));W8D=-570419415;G8D=-1461908900;Q8D=2;for(var f8D=+"1"; k0x.q4D(f8D.toString(),f8D.toString().length,"86017" * 1) !== W8D; f8D++){F0I.lineDashOffset=8;Q8D+=2;}if(k0x.x4D(Q8D.toString(),Q8D.toString().length,19869) !== G8D){F0I.lineDashOffset=0;};}s0I.canvasFont("stx_yaxis",F0I);for(var b0I=1; b0I < "3" * 1; b0I++){k0x.E4v(8);var K0F=k0x.X4v(0,13,12);k0x.L4v(65);var o0F=k0x.X4v(18,111,0,6);R0I=Math.abs(this.p1[+"1"] - this.p0[K0F]) * Math.sqrt(+"2") * b0I / o0F;k0x.L4v(39);var P0F=k0x.z4v(3,9,379,14);k0x.E4v(40);var V0F=k0x.z4v(7,6);k0x.L4v(3);var y0F=k0x.X4v(1,0);k0x.E4v(26);var E0F=k0x.X4v(0,8,30,7,3);k0x.E4v(5);var s0F=k0x.X4v(8,7);T0I=this.p1[P0F] + R0I * (E0I?V0F:y0F) * (X0I.flipped?E0F:s0F);r0I=this.pixelFromValue(x0I,this.p0[0],T0I,X0I);F0I.save();F0I.beginPath();k0x.E4v(9);F0I.scale(k0x.z4v(1,j0I),1);k0x.E4v(15);F0I.arc(k0x.X4v(j0I,O0I),Y0I,Math.abs(r0I - Y0I),0,Math.PI,!E0I);F0I.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){F0I.stroke();}F0I.globalAlpha=0.1;F0I.fill();F0I.restore();F0I.globalAlpha=1;if(this.printLevels){F0I.fillStyle=a0I;F0I.textAlign="center";k0x.E4v(3);y0I=k0x.z4v("/3",b0I);F0I.fillText(y0I,O0I,Math.round(r0I - 5));F0I.fillStyle=g0I;}}F0I.textAlign="left";h0I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" & 2147483647:this.defaultOpacity};s0I.plotLine(N0I,O0I,I0I,Y0I,a0I,"segment",F0I,x0I,h0I);if(F0I.setLineDash){F0I.setLineDash([]);}if(this.highlighted){P0I=this.highlighted == "p0"?! !{}:![];m0I=this.highlighted == "p1"?! !"1":! !0;this.littleCircle(F0I,N0I,I0I,P0I);this.littleCircle(F0I,O0I,Y0I,m0I);}},reconstruct:function(S0I, G0I){this.stx=S0I;this.color=G0I.col;this.fillColor=G0I.fc;this.panelName=G0I.pnl;this.pattern=G0I.ptrn;this.lineWidth=G0I.lw;this.d0=G0I.d0;this.d1=G0I.d1;this.tzo0=G0I.tzo0;this.tzo1=G0I.tzo1;this.v0=G0I.v0;this.v1=G0I.v1;this.field=G0I.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},! !"1");u1c.Drawing.speedline=function(){var Q6D;Q6D="speedl";Q6D+="in";Q6D+="e";this.name=Q6D;k0x.z2x();this.printLevels=!"";};u1c.inheritsFrom(u1c.Drawing.speedline,u1c.Drawing.speedarc);u1c.extend(u1c.Drawing.speedline.prototype,{intersected:function(u0I, U0I, A0I){var D0I,K0I,M0I,b6D,H0I;D0I=this.p0;K0I=this.p1;if(!D0I || !K0I){return null;}M0I={0:D0I,1:K0I};for(var p0I in M0I){if(this.pointIntersection(M0I[p0I][0],M0I[p0I][1],A0I)){b6D="d";b6D+="rag";k0x.L4v(3);this.highlighted=k0x.X4v(p0I,"p");return {action:b6D,point:"p" + p0I};}}H0I=this.rays;for(var l0I=0; l0I < H0I.length; l0I++){if(this.lineIntersection(u0I,U0I,A0I,"ray",H0I[l0I][+"0"],H0I[l0I][1],!0)){this.highlighted=! !{};return {action:"move",p0:u1c.clone(D0I),p1:u1c.clone(K0I),tick:u0I,value:this.valueOnDrawingAxis(u0I,U0I)};}}return null;},render:function(z0I){var n6D,Z0I,c0I,W6I,k0I,V0I,Q0I,f0I,d6I,L6I,F6I,x6I,s6I,C6I,B6I,w0I,j6D,v0I,J6I,t6I,i6I,e6I,o6I,q6I,f6D,r6D,v6D,X6I,Y6I;n6D="l";n6D+="e";n6D+="f";n6D+="t";Z0I=this.stx;c0I=Z0I.panels[this.panelName];W6I=Z0I.getYAxisByField(c0I,this.field);if(!c0I || this.field && !W6I){return;}if(!this.p1){return;}k0I=Z0I.pixelFromTick(this.p0[0],c0I.chart);V0I=Z0I.pixelFromTick(this.p1[0],c0I.chart);Q0I=this.pixelFromValue(c0I,this.p0[0],this.p0[1],W6I);f0I=this.pixelFromValue(c0I,this.p1[0],this.p1[1],W6I);Z0I.canvasFont("stx_yaxis",z0I);d6I=this.getLineColor();z0I.strokeStyle=d6I;L6I=this.fillColor;if(L6I == "auto" || u1c.isTransparent(L6I)){L6I=Z0I.defaultColor;}z0I.fillStyle=L6I;F6I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};C6I=["1","2/3","1/3","3/2",347.99 <= (4199,8.96)?4.84e+3:"3"];k0x.L4v(9);B6I=[1,k0x.z4v(2,3),k0x.z4v("3",1,k0x.L4v(74)),k0x.X4v(3,2,k0x.L4v(9)),3];w0I=[];this.rays=[];for(var n6I=0; n6I < B6I.length; n6I++){j6D="segm";j6D+="ent";v0I=B6I[n6I];if(v0I > "1" >> 730268800 && !this.extension)continue;J6I=this.pixelFromValue(c0I,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * v0I,W6I);if(v0I > 1){t6I=u1c.xIntersection({x0:k0I,x1:V0I,y0:Q0I,y1:J6I},f0I);w0I.push(t6I);}else {t6I=u1c.xIntersection({x0:V0I,x1:V0I,y0:Q0I,y1:f0I},J6I);w0I.push(J6I);}i6I=v0I > 1?t6I:V0I;e6I=v0I > 1?f0I:J6I;if(!this.confineToGrid){i6I=c0I.left;if(V0I > k0I){i6I+=c0I.width;}k0x.L4v(71);e6I=k0x.X4v(J6I,k0I,Q0I,V0I,Q0I,i6I,k0I);}if(this.printLevels){if(v0I != 1 || this.extension){z0I.fillStyle=d6I;o6I=0;q6I=0;if(Q0I > f0I){f6D="b";f6D+="ottom";q6I=-5;z0I.textBaseline=f6D;}else {q6I=5;z0I.textBaseline="top";}if(k0I > V0I){r6D="r";r6D+="ight";o6I=5;z0I.textAlign=r6D;}else {v6D="lef";v6D+="t";o6I=-5;z0I.textAlign=v6D;}if(v0I > 1){z0I.fillText(C6I[n6I],t6I + (this.confineToGrid?0:o6I),f0I);}else {z0I.fillText(C6I[n6I],V0I,J6I + (this.confineToGrid?"0" >> 708897632:q6I));}z0I.fillStyle=L6I;}}Z0I.plotLine(k0I,i6I,Q0I,e6I,d6I,j6D,z0I,c0I,F6I);if(v0I == 1){x6I=i6I;s6I=e6I;}this.rays.push([[k0I,Q0I],[i6I,e6I]]);z0I.globalAlpha=0.1;z0I.beginPath();z0I.moveTo(i6I,e6I);z0I.lineTo(k0I,Q0I);z0I.lineTo(x6I,s6I);z0I.fill();z0I.globalAlpha=1;}z0I.textAlign=n6D;z0I.textBaseline="middle";if(this.confineToGrid){z0I.globalAlpha=0.3;z0I.beginPath();k0x.E4v(5);z0I.strokeRect(k0I,Q0I,k0x.X4v(V0I,k0I),k0x.z4v(f0I,Q0I));z0I.moveTo(k0I,w0I[1]);z0I.lineTo(V0I,w0I[1]);z0I.moveTo(k0I,w0I[2]);z0I.lineTo(V0I,w0I[2]);if(this.extension){z0I.moveTo(w0I[3],Q0I);z0I.lineTo(w0I[3],f0I);z0I.moveTo(w0I["4" * 1],Q0I);z0I.lineTo(w0I[4],f0I);}z0I.stroke();z0I.globalAlpha=+"1";}if(this.highlighted){X6I=this.highlighted == "p0"?! !{}:!{};Y6I=this.highlighted == "p1"?! !{}:!{};this.littleCircle(z0I,k0I,Q0I,X6I);this.littleCircle(z0I,V0I,f0I,Y6I);}}},! !{});u1c.Drawing.gannfan=function(){this.name="gannfan";k0x.A2x();this.printLevels=! !{};};u1c.inheritsFrom(u1c.Drawing.gannfan,u1c.Drawing.speedline);u1c.extend(u1c.Drawing.gannfan.prototype,{render:function(O6I){var N6I,I6I,y6I,g6I,a6I,b6I,R6I,h6I,r6I,l6I,D6I,K6I,S6I,E6I,M6I,p6I,j6I,T6I,m6I,G6I,F6D,w6D,H6I,u6I;N6I=this.stx;k0x.z2x();I6I=N6I.panels[this.panelName];y6I=N6I.getYAxisByField(I6I,this.field);if(!I6I || this.field && !y6I){return;}if(!this.p1){return;}g6I=N6I.pixelFromTick(this.p0[0],I6I.chart);a6I=N6I.pixelFromTick(this.p1[0],I6I.chart);b6I=this.pixelFromValue(I6I,this.p0[0],this.p0[1],y6I);R6I=this.pixelFromValue(I6I,this.p1[0],this.p1[1],y6I);N6I.canvasFont("stx_yaxis",O6I);h6I=this.getLineColor();O6I.strokeStyle=h6I;r6I=this.fillColor;if(r6I == "auto" || u1c.isTransparent(r6I)){r6I=N6I.defaultColor;}O6I.fillStyle=r6I;l6I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};k0x.E4v(75);S6I=[1,2,3,4,+"8",k0x.X4v(0,"1",2),k0x.X4v("3",1,k0x.E4v(74)),k0x.z4v(1,4,"4",k0x.L4v(76)),k0x.X4v(1,8,k0x.L4v(9))];this.rays=[];for(var P6I=0; P6I < S6I.length; P6I++){E6I=S6I[P6I];k0x.L4v(77);M6I=k0x.X4v(E6I,g6I,g6I,a6I);k0x.E4v(78);p6I=k0x.X4v(E6I,b6I,R6I,b6I);j6I=I6I.left;if(a6I > g6I){j6I+=I6I.width;}k0x.E4v(71);T6I=k0x.X4v(p6I,g6I,b6I,a6I,b6I,j6I,g6I);if(this.printLevels){O6I.fillStyle=h6I;m6I=0;G6I=0;if(b6I > R6I){G6I=5;O6I.textBaseline="top";}else {F6D="bot";F6D+="tom";G6I=-5;O6I.textBaseline=F6D;}if(g6I > a6I){m6I=5;O6I.textAlign="left";}else {m6I=-5;O6I.textAlign="right";}if(E6I > 1){k0x.L4v(3);O6I.fillText(k0x.X4v("x1",E6I),k0x.z4v(m6I,M6I),R6I);}else {k0x.L4v(49);O6I.fillText(k0x.X4v("1x",E6I,1),a6I,k0x.X4v(G6I,p6I,k0x.L4v(3)));}O6I.fillStyle=r6I;}N6I.plotLine(g6I,j6I,b6I,T6I,h6I,"segment",O6I,I6I,l6I);this.rays.push([[g6I,b6I],[j6I,T6I]]);if(E6I == 1){D6I=j6I;K6I=T6I;}O6I.globalAlpha=0.1;O6I.beginPath();O6I.moveTo(j6I,T6I);O6I.lineTo(g6I,b6I);O6I.lineTo(D6I,K6I);O6I.fill();O6I.globalAlpha=1;}O6I.textAlign="left";O6I.textBaseline="middle";if(this.highlighted){w6D="p";w6D+="1";H6I=this.highlighted == "p0"?! !1:!"1";u6I=this.highlighted == w6D?!"":!"1";this.littleCircle(O6I,g6I,b6I,H6I);this.littleCircle(O6I,a6I,R6I,u6I);}}},!"");u1c.Drawing.timecycle=function(){this.name="timecycle";k0x.A2x();this.printLevels=! !1;};u1c.inheritsFrom(u1c.Drawing.timecycle,u1c.Drawing.speedarc);u1c.extend(u1c.Drawing.timecycle.prototype,{intersected:function(V6I, c6I, z6I){var U6I,k6I,w6I,Q6I,f6I,O6D;U6I=this.p0;k6I=this.p1;w6I=this.stx.panels[this.panelName];k0x.z2x();if(!U6I || !k6I || !w6I){return null;}Q6I={0:U6I,1:k6I};for(var A6I in Q6I){if(this.pointIntersection(Q6I[A6I][+"0"],Q6I[A6I][1],z6I)){k0x.E4v(3);this.highlighted=k0x.z4v(A6I,7233 >= 615?+"59.26" > 7820?"J":"p":("b",! ![]));return {action:"drag",point:(5774 == (4556,7510)?7.25 < 6190?9844 !== 217.63?(321.51,+"128"):(229.21,4.31e+3):578.53:"p") + A6I};}}f6I=this.lineIntersection(V6I,c6I,z6I,"segment");if(f6I || z6I.x0 <= this.p0[0] && z6I.x1 >= U6I[0]){O6D="m";O6D+="o";O6D+="ve";this.highlighted=! ![];return {action:O6D,p0:u1c.clone(U6I),p1:u1c.clone(k6I),tick:V6I,value:this.valueOnDrawingAxis(V6I,c6I)};}return null;},render:function(v6I){var J6D,u6D,N6D,B6D,i2I,Z6I,J2I,n2I,d2I,F2I,x2I,q2I,g2I,s2I,L2I,X2I,t2I,C2I,o2I,Y2I,e2I,B2I,L6D,I2I,S6D,D6D,b2I,N2I,O2I;J6D="seg";J6D+="m";J6D+="ent";u6D="lef";u6D+="t";N6D="ce";N6D+="n";N6D+="te";N6D+="r";B6D="stx_yax";B6D+="is";i2I=this.stx;Z6I=i2I.panels[this.panelName];J2I=i2I.getYAxisByField(Z6I,this.field);if(!Z6I || this.field && !J2I){return;}J2I=J2I || Z6I.yAxis;if(!this.p1){return;}n2I=i2I.pixelFromTick(this.p0["0" ^ 0],Z6I.chart);d2I=i2I.pixelFromTick(this.p1[0],Z6I.chart);F2I=this.pixelFromValue(Z6I,this.p0[0],this.p0[+"1"],J2I);x2I=this.pixelFromValue(Z6I,this.p1[0],this.p1["1" >> 1064684736],J2I);q2I=0;v6I.textBaseline="middle";i2I.canvasFont(B6D,v6I);g2I=20;s2I=this.p1[0] - this.p0[0];v6I.textAlign=N6D;L2I=n2I;X2I=J2I.top;t2I=J2I.bottom;C2I=this.getLineColor();o2I=this.fillColor;if(o2I == "auto" || u1c.isTransparent(o2I)){o2I=i2I.defaultColor;}if(this.printLevels){k0x.E4v(5);t2I-=k0x.X4v(g2I,7);}Y2I={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};e2I=[];v6I.save();v6I.fillStyle=o2I;v6I.globalAlpha=0.05;do {L2I=i2I.pixelFromTick(this.p0["0" >> 1869415232] + q2I * s2I,Z6I.chart);q2I++;if(n2I < d2I && L2I > Z6I.left + Z6I.width)break;else if(n2I > d2I && L2I < Z6I.left)break;else if(L2I < Z6I.left || L2I > Z6I.left + Z6I.width)continue;v6I.beginPath();v6I.moveTo(n2I,X2I);v6I.lineTo(L2I,X2I);v6I.lineTo(L2I,t2I);v6I.lineTo(n2I,t2I);v6I.fill();e2I.push({c:q2I,x:L2I});}while(s2I);v6I.globalAlpha=1;B2I=0;for(var W2I=0; W2I < e2I.length; W2I++){L6D="segme";L6D+="n";L6D+="t";i2I.plotLine(e2I[W2I].x,e2I[W2I].x,0,t2I,C2I,L6D,v6I,Z6I,Y2I);if(this.printLevels){v6I.fillStyle=C2I;k0x.E4v(79);var g0F=k0x.X4v(15,5,612,20,6);I2I=i2I.chart.context.measureText(e2I[W2I].c).width + g0F;if(I2I < i2I.layout.candleWidth + B2I){v6I.fillText(e2I[W2I].c,e2I[W2I].x,t2I + 7);k0x.L4v(46);B2I=k0x.X4v("0",0);}else {B2I+=i2I.layout.candleWidth;}}}v6I.restore();v6I.textAlign=u6D;k0x.z2x();i2I.plotLine(n2I,d2I,F2I,x2I,C2I,J6D,v6I,Z6I,Y2I);if(this.highlighted){S6D="p";S6D+="1";D6D="p";D6D+="0";b2I=this.highlighted == D6D?! ![]:! !"";N2I=this.highlighted == S6D?! ![]:!1;this.littleCircle(v6I,n2I,F2I,b2I);this.littleCircle(v6I,d2I,x2I,N2I);}else {O2I=this.valueFromPixel(Z6I.height / +"2",Z6I,J2I);this.setPoint(0,this.p0[0],O2I,Z6I.chart);this.setPoint(1,this.p1[0],O2I,Z6I.chart);}}},! ![]);u1c.Drawing.regression=function(){k0x.A2x();this.name="regression";};u1c.inheritsFrom(u1c.Drawing.regression,u1c.Drawing.segment);u1c.extend(u1c.Drawing.regression.prototype,{configs:["color","lineWidth","pattern",R6D,"color1","lineWidth1",a6D,"active2",Y6D,"lineWidth2",c6D,"active3","color3",U6D,"pattern3"],copyConfig:function(E2I){var a2I;u1c.Drawing.copyConfig(this,E2I);a2I=this.stx.currentVectorParameters;this.active1=! !a2I.active1;this.active2=! !a2I.active2;this.active3=! !a2I.active3;this.color1=a2I.color1 || "auto";this.color2=a2I.color2 || "auto";this.color3=a2I.color3 || "auto";this.lineWidth1=a2I.lineWidth1;this.lineWidth2=a2I.lineWidth2;k0x.A2x();this.lineWidth3=a2I.lineWidth3;this.pattern1=a2I.pattern1;this.pattern2=a2I.pattern2;this.pattern3=a2I.pattern3;},$controls:[x6D,q6D,X6D],click:function(y2I, j2I, r2I){var T2I,R2I;k0x.z2x();if(j2I < 0){return;}this.copyConfig();T2I=this.stx;R2I=T2I.panels[this.panelName];if(!this.penDown){this.setPoint(0,j2I,r2I,R2I.chart);this.penDown=!0;return ![];}if(this.accidentalClick(j2I,r2I)){return this.dragToDraw;}this.setPoint(1,j2I,r2I,R2I.chart);this.penDown=! !0;return !"";;},getYValue:function(D2I){var m2I,G2I,S2I,p2I,K2I,P2I,h2I,l2I;m2I=this.stx;G2I=m2I.chart.dataSet[D2I];S2I=m2I.chart.dataSet[D2I];if(!G2I){return null;}p2I=m2I.panels[this.panelName];K2I=m2I.getYAxisByField(p2I,this.field) || p2I.yAxis;if(m2I.charts[p2I.name] && p2I.chart.transformFunc && K2I == p2I.yAxis){S2I=G2I.transform;}if(!S2I){return null;}P2I=null;h2I=null;k0x.z2x();l2I=m2I.defaultPlotField || "Close";if(this.field){h2I=u1c.existsInObjectChain(S2I,this.field);if(!h2I){return null;}P2I=h2I=h2I.obj[h2I.member];if(G2I != S2I){P2I=u1c.existsInObjectChain(G2I,this.field);P2I=P2I.obj[P2I.member];}if(typeof h2I == "object"){h2I=h2I[l2I];P2I=P2I[l2I];}}else {h2I=S2I[l2I];P2I=G2I[l2I];}return {transformed:h2I,untransformed:P2I};},render:function(V2I){var i6D,U2I,H2I,Z2I,A2I,z2I,c2I,W3y,w2I,i3y,B3y,F3y,x3y,s3y,J3y,t3y,M2I,k2I,X3y,Y3y,L3y,n3y,O3y,e3y,d3y,o3y,f2I,v2I,q3y,C3y,I3y,g3y,b3y,Q2I,N3y,a3y;i6D="segme";i6D+="nt";U2I=this.stx;H2I=U2I.panels[this.panelName];Z2I=U2I.getYAxisByField(H2I,this.field);if(!H2I || this.field && !Z2I){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}A2I=U2I.pixelFromTick(this.p0[0],H2I.chart);z2I=U2I.pixelFromTick(this.p1[0],H2I.chart);if(A2I < H2I.left && z2I < H2I.left){return;}if(A2I > H2I.right && z2I > H2I.right){return;}c2I=[];W3y=[];w2I=0;i3y=0;B3y=0;F3y=+"0";x3y=Math.min(this.p1["0" - 0],this.p0[0]);s3y=Math.max(this.p1[0],this.p0[0]) + +"1";k0x.E4v(5);J3y=k0x.z4v(s3y,x3y);for(var u2I=x3y; u2I < s3y; u2I++){t3y=this.getYValue(u2I);if(t3y){c2I.push(t3y.transformed);W3y.push(t3y.untransformed);}}M2I=c2I.length;k0x.E4v(80);k2I=k0x.X4v(1,2,M2I,M2I);X3y=Math.pow(k2I,2);k0x.L4v(81);Y3y=k0x.z4v("1","3",2,k2I,M2I,0);for(u2I=0; u2I < M2I; u2I++){B3y+=M2I * c2I[u2I] - w2I;w2I+=c2I[u2I];F3y+=M2I * W3y[u2I] - i3y;i3y+=W3y[u2I];}k0x.E4v(82);L3y=k0x.X4v(M2I,k2I,B3y,M2I,w2I,Y3y,X3y);k0x.E4v(83);n3y=k0x.z4v(w2I,k2I,M2I,L3y);k0x.E4v(82);O3y=k0x.X4v(M2I,k2I,F3y,M2I,i3y,Y3y,X3y);k0x.E4v(83);e3y=k0x.z4v(i3y,k2I,M2I,L3y);if(this.p0[0] < this.p1[0]){d3y=n3y;k0x.L4v(70);o3y=k0x.z4v(J3y,L3y,n3y);this.p0[+"1"]=e3y;k0x.L4v(70);this.p1[1]=k0x.X4v(J3y,O3y,e3y);}else {k0x.L4v(70);d3y=k0x.X4v(J3y,L3y,n3y);o3y=n3y;k0x.E4v(70);this.p0[+"1"]=k0x.X4v(J3y,O3y,e3y);this.p1[1]=e3y;}f2I=U2I.pixelFromTransformedValue(d3y,H2I,Z2I);v2I=U2I.pixelFromTransformedValue(o3y,H2I,Z2I);q3y=this.getLineColor();C3y={pattern:this.pattern,lineWidth:this.lineWidth};U2I.plotLine(A2I,z2I,f2I,v2I,q3y,i6D,V2I,H2I,C3y);k0x.E4v(84);U2I.plotLine(A2I,A2I,k0x.z4v("20",f2I),k0x.X4v(20,f2I,k0x.L4v(3)),q3y,"segment",V2I,H2I,C3y);k0x.L4v(5);U2I.plotLine(z2I,z2I,k0x.z4v(v2I,20),k0x.X4v(v2I,"20",k0x.E4v(85)),q3y,"segment",V2I,H2I,C3y);if(this.active1 || this.active2 || this.active3){k0x.E4v(9);I3y=k0x.X4v(w2I,M2I);g3y=0;for(u2I=0; u2I < M2I; u2I++){g3y+=Math.pow(c2I[u2I] - I3y,2);}k0x.L4v(9);b3y=Math.sqrt(k0x.X4v(g3y,M2I));Q2I={context:V2I,panel:H2I,points:{0:{x:A2I,v:d3y},1:{x:z2I,v:o3y}},stddev:b3y,yAxis:Z2I};this.lines={};if(this.active1){this.renderStddev("1","p",Q2I);this.renderStddev("1","n",Q2I);}if(this.active2){this.renderStddev((7870,+"5400") <= (1790,999)?(+"825.8",4074) === (4550,"524.91" * 1)?(997.01,2.49e+3):(3.83e+3,58.20):"2",692.78 > 5040?(7157,592.4) == (+"5354",5299)?("x","g"):("E",2.85e+3):"p",Q2I);this.renderStddev("2",(417.51,953.81) <= ("1600" | 64)?"n":(0x2249,0x19f4),Q2I);}if(this.active3){this.renderStddev(349.66 === (706.14,4290)?2.86e+3:("2610" * 1,4830) > "216.03" * 1?"3":("C","0x1e4" << 1875576896),789 !== (8400,622.42)?(5846,2004) <= (+"7870",9760)?(569.63,1670) == 8794?(399,0x217e):"p":"0x6e0" ^ 0:435.64,Q2I);this.renderStddev(5677 == ("218.68" * 1,7625)?(6438,"748.38" * 1) < 974.61?(950.13,9756) !== 2800?(456.53,6.65e+3):"j":(! !0,! ![]):"3",2260 > (889.65,8980)?(724.69,0x127e):621.59 != (8209,"699.35" * 1)?"n":3750 < (+"8100",1940)?(! !0,!0):709.75,Q2I);}}if(!this.highlighted){this.pixelX=[A2I,z2I];this.pixelY=[f2I,v2I];}else {N3y=this.highlighted == "p0"?!"":! !0;a3y=this.highlighted == "p1"?! !{}:!"1";this.littleCircle(V2I,A2I,f2I,N3y);this.littleCircle(V2I,z2I,v2I,a3y);}},renderStddev:function(h3y, H3y, P3y){var Z6D,m6D,l3y,u3y,U3y,A3y,m3y,D3y,K3y,S3y,p3y,R3y,j3y,G3y,E3y,r3y,T3y,y3y,z3y,k3y,M3y,Q3y;Z6D="s";Z6D+="egm";Z6D+="en";Z6D+="t";m6D="st";m6D+="ddev";k0x.E4v(86);l3y=k0x.z4v(H3y,m6D,h3y);k0x.E4v(3);u3y=k0x.X4v(h3y,"color");k0x.E4v(3);U3y=k0x.X4v(h3y,"pattern");k0x.L4v(3);A3y=k0x.z4v(h3y,"lineWidth");m3y=P3y.points;k0x.A2x();D3y=m3y[0].v;K3y=m3y[1].v;S3y=P3y.stddev;p3y=H3y === "n"?h3y * -1:h3y * 1;R3y=this.stx;j3y=P3y.panel;G3y=P3y.yAxis;E3y={name:l3y,color:this.getLineColor(this[u3y]),type:Z6D,y0:R3y.pixelFromTransformedValue(D3y + S3y * p3y,j3y,G3y),y1:R3y.pixelFromTransformedValue(K3y + S3y * p3y,j3y,G3y),params:{pattern:this[U3y],lineWidth:this[A3y]}};if(this.lines){this.lines[l3y]=E3y;}r3y=P3y.context;T3y=m3y[0].x;y3y=m3y[1].x;R3y.plotLine(T3y,y3y,E3y.y0,E3y.y1,E3y.color,E3y.type,r3y,j3y,E3y.params);R3y.plotLine(T3y,T3y,E3y.y0 - 10,E3y.y0 + 10,E3y.color,E3y.type,r3y,j3y,E3y.params);R3y.plotLine(y3y,y3y,E3y.y1 - 10,E3y.y1 + +"10",E3y.color,E3y.type,r3y,j3y,E3y.params);k0x.L4v(3);z3y=k0x.X4v((9291,2780) <= (+"4430",498.05)?(0x46d,4.24e+2):"\u03c3",h3y);k0x.E4v(5);var A0F=k0x.z4v(10,5);k3y=Math.max(T3y,y3y) + A0F;M3y=T3y < y3y?E3y.y1:E3y.y0;r3y.fillStyle=E3y.color;r3y.save();r3y.textBaseline="middle";r3y.fillText(z3y,k3y,M3y);r3y.restore();if(P3y.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(T3y >= j3y.chart.left && T3y <= j3y.chart.right || y3y >= j3y.chart.left && y3y <= j3y.chart.right){k0x.E4v(87);Q3y=k0x.z4v(S3y,p3y,T3y < y3y?K3y:D3y);R3y.endClip();R3y.createYAxisLabel(j3y,P3y.formatPrice(Q3y,G3y),M3y,E3y.color,null,r3y,G3y);R3y.startClip(j3y.name);}}},intersected:function(c3y, f3y, L7y){var v3y,Z3y,i7y,n7y,e7y,J7y,w3y;k0x.A2x();if(!this.pixelX || !this.pixelY){return null;}v3y=this.repositionIntersection(c3y,f3y);if(v3y){return v3y;}Z3y={0:this.pixelX,1:this.pixelY};for(var V3y=+"0"; V3y < 2; V3y++){if(this.pointIntersection(Z3y[0][V3y],Z3y[1][V3y],L7y,! ![])){k0x.E4v(3);this.highlighted=k0x.z4v(V3y,2684 >= ("3660" ^ 0)?722.15:"p");return {action:"drag",point:"p" + V3y};}}i7y=this;n7y=this.pixelX[0];e7y=this.pixelX[1];J7y=function(t7y){var d7y,o7y;d7y=[n7y,t7y.y0];o7y=[e7y,t7y.y1];return i7y.lineIntersection(c3y,f3y,L7y,i7y.name,d7y,o7y,! ![]);};w3y=J7y({y0:this.pixelY[0],y1:this.pixelY[1]});if(!w3y && this.lines){for(var W7y in this.lines){if(J7y(this.lines[W7y])){w3y=!"";break;}}}if(w3y){this.highlighted=! !{};return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:c3y,value:this.valueOnDrawingAxis(c3y,f3y)};}return null;},repositionIntersection:function(q7y, C7y){var b7D,f7D,r7D,C6D,A8D,T8D,H8D;b7D=371886449;f7D=426030372;r7D=2;k0x.A2x();for(var j7D=1; k0x.q4D(j7D.toString(),j7D.toString().length,79475) !== b7D; j7D++){if(-this.p0 && ~this.p1){return ! !1;}r7D+=2;}if(k0x.x4D(r7D.toString(),r7D.toString().length,30488) !== f7D){if(!this.p0 || !this.p1){return ![];}}if(this == this.stx.repositioningDrawing && this.highlighted){C6D="dr";C6D+="a";C6D+="g";if(this.highlighted === !0){A8D=-842409833;T8D=-1292970921;H8D=2;for(var z7D=1; k0x.q4D(z7D.toString(),z7D.toString().length,53714) !== A8D; z7D++){return {action:"",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:q7y,value:this.valueOnDrawingAxis(q7y,C7y)};}if(k0x.x4D(H8D.toString(),H8D.toString().length,90423) !== T8D){return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:q7y,value:this.valueOnDrawingAxis(q7y,C7y)};}}return {action:C6D,point:this.highlighted};}return !"1";},lineIntersection:function(g7y, I7y, B7y, X7y, F7y, x7y, Y7y){var O7y,s7y;if(!Y7y){k0x.E4v(3);console.log(k0x.z4v(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",X7y));return !"1";}if(!F7y){F7y=this.p0;}if(!x7y){x7y=this.p1;}if(!(F7y && x7y)){return !{};}O7y=this.stx;if(B7y.cx0 === undefined){return !{};}s7y={x0:F7y[0],x1:x7y[0],y0:F7y[1],y1:x7y[1]};k0x.z2x();return u1c.boxIntersects(B7y.cx0,B7y.cy0,B7y.cx1,B7y.cy1,s7y.x0,s7y.y0,s7y.x1,s7y.y1);},boxIntersection:function(N7y, a7y, b7y){var j0D,n0D,F0D;k0x.E4v(46);k0x.A2x();j0D=k0x.z4v("525960938",0);n0D=- +"734491683";F0D=+"2";for(var O0D=1; k0x.x4D(O0D.toString(),O0D.toString().length,26166) !== j0D; O0D++){if(b7y.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || b7y.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (b7y.cy1 < this.pixelY[0] || b7y.cy0 > this.pixelY[1])){return ![];}return !"";}if(k0x.x4D(F0D.toString(),F0D.toString().length,"88021" ^ 0) !== n0D){if(b7y.cx0 < Math.max(this.pixelX["9" >> 1883307360],this.pixelX[5]) && b7y.cx1 <= Math.min(this.pixelX[8],this.pixelX[2])){return ! ![];}if(+this.stx.repositioningDrawing || b7y.cy1 <= this.pixelY[3] && b7y.cy0 >= this.pixelY[0]){return ! ![];}return ![];}},reconstruct:function(j7y, E7y){var I2D,M2D,k2D;this.stx=j7y;this.color=E7y.col;this.color1=E7y.col1;this.color2=E7y.col2;this.color3=E7y.col3;this.active1=E7y.dev1;this.active2=E7y.dev2;this.active3=E7y.dev3;this.panelName=E7y.pnl;this.pattern=E7y.ptrn;this.pattern1=E7y.ptrn1;this.pattern2=E7y.ptrn2;this.pattern3=E7y.ptrn3;this.lineWidth=E7y.lw;this.lineWidth1=E7y.lw1;this.lineWidth2=E7y.lw2;this.lineWidth3=E7y.lw3;this.d0=E7y.d0;I2D=-1913702188;M2D=-188827235;k0x.L4v(42);k2D=k0x.z4v(489248032,"2");for(var o2D=+"1"; k0x.x4D(o2D.toString(),o2D.toString().length,68843) !== I2D; o2D++){this.d1=E7y.d1;k2D+=2;}if(k0x.x4D(k2D.toString(),k2D.toString().length,10715) !== M2D){this.d1=E7y.d1;}this.tzo0=E7y.tzo0;this.tzo1=E7y.tzo1;this.field=E7y.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");u1c.Drawing.trendline=function(){var l6D;l6D="trendl";l6D+="ine";this.name=l6D;};u1c.inheritsFrom(u1c.Drawing.trendline,u1c.Drawing.segment);u1c.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth",d6D,p6D];u1c.Drawing.trendline.prototype.measure=function(){k0x.A2x();;};u1c.Drawing.trendline.prototype.reconstruct=function(r7y, R7y){u1c.Drawing.segment.prototype.reconstruct.call(this,r7y,R7y);this.callout=new u1c.Drawing.callout();this.callout.reconstruct(r7y,R7y.callout);};u1c.Drawing.trendline.prototype.serialize=function(){var T7y;T7y=u1c.Drawing.segment.prototype.serialize.call(this);T7y.callout=this.callout.serialize();k0x.A2x();return T7y;};u1c.Drawing.trendline.prototype.render=function(D7y){var I6D,h7y,y7y,P7y,z7y,S7y,p7y,m7y,G7y,K7y,l7y,M7y,k7y,H7y,Q7y,V7y,u7y,U7y,A7y,c7y,w7y,k6D,M6D,f7y,v7y;I6D="%";I6D+=")";I6D+=" ";h7y=this.stx;y7y=h7y.panels[this.panelName];P7y=h7y.getYAxisByField(y7y,this.field);if(!y7y || this.field && !P7y){return;}u1c.Drawing.segment.prototype.render.call(this,D7y);if(!this.callout){this.callout=new u1c.Drawing.callout();z7y=u1c.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(h7y,z7y);}this.callout.p0=u1c.clone(this.p0);S7y=h7y.pixelFromTick(this.p0[0],y7y.chart);p7y=h7y.pixelFromTick(this.p1[+"0"],y7y.chart);m7y=this.pixelFromValue(y7y,this.p0[0],this.p0[+"1"],P7y);G7y=this.pixelFromValue(y7y,this.p1["0" & 2147483647],this.p1[1],P7y);if(!isFinite(m7y) || !isFinite(G7y)){return;}k0x.E4v(88);K7y=k0x.X4v("2",0,p7y,S7y);k0x.E4v(7);l7y=k0x.X4v(G7y,m7y,2);this.fontSize=u1c.stripPX(this.font && this.font.size || 13);k0x.E4v(73);var T0F=k0x.z4v(16,510380,19,1690);k0x.E4v(89);var H0F=k0x.X4v(8,4,19329,76211);k0x.E4v(5);var e0F=k0x.z4v(107861,99564);k0x.E4v(8);var z8F=k0x.X4v(7690,18,38);k0x.E4v(90);var h8F=k0x.X4v(1,6,7,49,13);M7y=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (+"8930" <= 825.05?705.25:T0F <= (887.12,"5341" & 2147483647)?665.62 != H0F?"c":(597.65,e0F):z8F)?0:h8F);k7y=Math.sqrt(Math.pow(p7y - S7y,2) + Math.pow(G7y - m7y,"2" * 1));k0x.L4v(91);var t8F=k0x.X4v(2,2,1,2,1);k0x.E4v(89);var W8F=k0x.z4v(16,8,0,127);H7y=M7y / (k7y || M7y) * (this.p1[t8F] < this.p0[W8F]?+"1":- +"1");k0x.L4v(92);Q7y=k0x.z4v(H7y,K7y,G7y,l7y);k0x.L4v(65);V7y=k0x.X4v(H7y,l7y,p7y,K7y);this.callout.p0[0]=h7y.tickFromPixel(Q7y,y7y.chart);this.callout.p0[1]=this.valueFromPixel(V7y,y7y,P7y);k0x.E4v(46);this.callout.v0=this.callout.p0[k0x.z4v("1",0)];this.callout.p1=u1c.clone(this.p0);this.callout.stx=h7y;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !"1";k0x.L4v(10);var G8F=k0x.z4v(11,5,5);k0x.L4v(40);var Q8F=k0x.X4v(14,15);u7y=this.p1[G8F] - this.p0[Q8F];k0x.E4v(93);var b8F=k0x.X4v(20,5,106,4,0);k0x.L4v(94);var f8F=k0x.z4v(13,7,3,1,21);k0x.E4v(8);var r8F=k0x.z4v(34,11,43);this.callout.text="" + Number(u7y).toFixed(b8F) + (this.p0[f8F] === 0?"":" (" + Number(100 * u7y / this.p0[1]).toFixed(r8F) + I6D) + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";U7y=Math.floor((this.p0[0] + this.p1["0" & 2147483647]) / 2);if(Math.abs(this.p0[0] - this.p1[+"0"]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){c7y=h7y.pixelFromTick(U7y,y7y.chart);k0x.L4v(95);w7y=k0x.z4v(m7y,m7y,G7y,S7y,c7y,p7y,S7y);A7y=this.valueFromPixel(w7y,y7y,P7y) || l7y;}else {A7y=this.valueFromPixel(l7y,y7y,P7y);}this.callout.stem={t:U7y,v:A7y};this.callout.renderText();this.callout.render(D7y);if(this.highlighted){k6D="p";k6D+="1";M6D="p";M6D+="0";f7y=this.highlighted == M6D?! !1:![];v7y=this.highlighted == k6D?! ![]:!{};this.littleCircle(D7y,S7y,m7y,f7y);this.littleCircle(D7y,p7y,G7y,v7y);}};u1c.Drawing.trendline.prototype.lineIntersection=function(Z7y, i8y, J8y, L8y){k0x.A2x();var K6D;K6D="s";K6D+="e";K6D+="gmen";K6D+="t";return u1c.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,Z7y,i8y,J8y,K6D);};u1c.Drawing.trendline.prototype.intersected=function(n8y, W8y, d8y){var t8y,e8y;if(!this.p0 || !this.p1){return null;}t8y=this.callout.intersected(n8y,W8y,d8y);e8y=u1c.Drawing.segment.prototype.intersected.call(this,n8y,W8y,d8y);this.callout.highlighted=! !(t8y || e8y);if(e8y){return e8y;}else if(t8y){return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:n8y,value:this.valueOnDrawingAxis(n8y,W8y)};}k0x.A2x();return null;};u1c.Drawing.average=function(){this.name="average";};u1c.inheritsFrom(u1c.Drawing.average,u1c.Drawing.regression);u1c.extend(u1c.Drawing.average.prototype,{configs:u1c.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var q8y,o6D,o8y,B8y,x8y,s8y,F8y,P6D,C8y;q8y=this.stx;if(this.p0 && this.p1){o6D="&en";o6D+="sp;";q8y.setMeasure(0,!1,this.p0[0],this.p1["0" ^ 0],! !{},this.name);o8y=[];B8y="";if(this.active1){o8y.push((536.88,2529) > (507,940.54)?"1":799.79 !== 6520?1570 != 7680?(0x1fe4,9.94e+3):+"159.08":"867" * 1);}if(this.active2){o8y.push(1060 <= (4270,27.99)?(+"0x1ad6",6.98e+3):328.16 >= 1466?1780 !== (1277,551.83)?(! !{},0x1052):"F":"2");}if(this.active3){o8y.push(+"727" >= (8220,2333)?(0x1773,0x209):445.25 !== (8735,1986)?"3":(8.84e+3,0x24e8));}if(o8y.length){B8y=o6D + o8y.join(", ") + " &sigma;";}x8y=(q8y.drawingContainer || document).querySelector(".mMeasure");s8y=q8y.controls.mSticky;F8y=s8y && s8y.querySelector(".mStickyInterior");if(x8y){x8y.innerHTML+=B8y;}if(F8y){P6D="C";P6D+="l";P6D+="os";P6D+="e";C8y=[];C8y.push(u1c.capitalize(this.name));C8y.push(this.field || q8y.defaultPlotField || P6D);C8y.push(F8y.innerHTML + B8y);F8y.innerHTML=C8y.join("<br>");}}},render:function(a8y){var E6D,y6D,V6D,Y8y,X8y,b8y,g8y,I8y,G8y,S8y,P8y,y8y,N8y,j8y,R8y,r8y,O8y,T8y,h8y,m8y,l8y,E8y,s6D,D8y,K8y;E6D="segm";E6D+="e";E6D+="nt";y6D="se";y6D+="gment";V6D="s";V6D+="egmen";V6D+="t";function p8y(M8y, H8y){var i0D,m0D,Z0D;i0D=-564575292;m0D=-2044833234;Z0D=+"2";for(var l0D=1; k0x.q4D(l0D.toString(),l0D.toString().length,82016) !== i0D; l0D++){if(H8y || H8y.priceFormatter){M8y=H8y.priceFormatter(Y8y,X8y,M8y);}else {M8y=Y8y.formatYAxisPrice(M8y,X8y,1,H8y);}return M8y;}if(k0x.x4D(Z0D.toString(),Z0D.toString().length,"98427" ^ 0) !== m0D){if(H8y && H8y.priceFormatter){M8y=H8y.priceFormatter(Y8y,X8y,M8y);}else {M8y=Y8y.formatYAxisPrice(M8y,X8y,null,H8y);}return M8y;}}Y8y=this.stx;X8y=Y8y.panels[this.panelName];b8y=Y8y.getYAxisByField(X8y,this.field);if(!X8y || this.field && !b8y){return;}b8y=b8y || X8y.yAxis;if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" & 2147483647] < 0){return;}g8y=Y8y.pixelFromTick(this.p0[0],X8y.chart);I8y=Y8y.pixelFromTick(this.p1[0],X8y.chart);if(g8y < X8y.left && I8y < X8y.left){return;}if(g8y > X8y.right && I8y > X8y.right){return;}G8y=Math.min(this.p1["0" << 1755842016],this.p0[0]);k0x.L4v(61);var v8F=k0x.X4v(5,19,19,5);k0x.L4v(96);var j8F=k0x.z4v(11,0,1,11,2);S8y=Math.max(this.p1["0" * v8F],this.p0[0]) + j8F;P8y=0;y8y=[];for(N8y=G8y; N8y < S8y; N8y++){j8y=this.getYValue(N8y);if(j8y !== null){P8y+=j8y.transformed;y8y.push(j8y);}}R8y=y8y.length;if(!R8y){return;}k0x.E4v(9);r8y=k0x.X4v(P8y,R8y);O8y=Y8y.pixelFromTransformedValue(r8y,X8y,b8y);T8y=this.getLineColor();h8y={pattern:this.pattern,lineWidth:this.lineWidth};Y8y.plotLine(g8y,I8y,O8y,O8y,T8y,V6D,a8y,X8y,h8y);k0x.E4v(5);Y8y.plotLine(g8y,g8y,k0x.z4v(O8y,20),k0x.z4v(20,O8y,k0x.E4v(3)),T8y,y6D,a8y,X8y,h8y);k0x.E4v(5);Y8y.plotLine(I8y,I8y,k0x.z4v(O8y,20),k0x.X4v(20,O8y,k0x.E4v(3)),T8y,E6D,a8y,X8y,h8y);if(this.axisLabel && !this.highlighted && !this.penDown){if(g8y >= X8y.chart.left && g8y <= X8y.chart.right || I8y >= X8y.chart.left && I8y <= X8y.chart.right){Y8y.endClip();Y8y.createYAxisLabel(X8y,p8y(r8y,b8y),O8y,T8y,null,a8y,b8y);Y8y.startClip(X8y.name);}}if(this.active1 || this.active2 || this.active3){m8y=0;for(N8y=0; N8y < R8y; N8y++){j8y=y8y[N8y];m8y+=Math.pow(j8y.transformed - r8y,2);}k0x.L4v(9);l8y=Math.sqrt(k0x.X4v(m8y,R8y));E8y={context:a8y,formatPrice:p8y,panel:X8y,points:{0:{x:g8y,v:r8y},1:{x:I8y,v:r8y}},stddev:l8y,yAxis:b8y};this.lines={};if(this.active1){this.renderStddev("1","p",E8y);this.renderStddev("1","n",E8y);}if(this.active2){this.renderStddev("2","p",E8y);this.renderStddev("2",870 > (1821,7330)?472 != (5439,8910)?(+"4501",7660) == 9705?(!0,!{}):278.11:0x1eed:"n",E8y);}if(this.active3){this.renderStddev("3",848.48 > 7910?(0x2582,547.83):5342 != (5570,7000)?"p":!{},E8y);this.renderStddev((440.28,7180) >= 6790?(4950,+"488.54") == (6030,4500)?(3.49e+3,"t"):"3":939.63,"n",E8y);}}if(!this.highlighted){this.pixelX=[g8y,I8y];this.pixelY=[O8y,O8y];}else {s6D="p";s6D+="1";D8y=this.highlighted == "p0"?!0:!{};K8y=this.highlighted == s6D?! ![]:! !0;this.littleCircle(a8y,g8y,O8y,D8y);this.littleCircle(a8y,I8y,O8y,K8y);}},reconstruct:function(U8y, u8y){k0x.A2x();this.axisLabel=u8y.al;u1c.Drawing.regression.prototype.reconstruct.call(this,U8y,u8y);},serialize:function(){var A8y;A8y=u1c.Drawing.regression.prototype.serialize.call(this);A8y.al=this.axisLabel;k0x.A2x();return A8y;}},! !"1");u1c.Drawing.quadrant=function(){this.name="quadrant";};u1c.inheritsFrom(u1c.Drawing.quadrant,u1c.Drawing.regression);u1c.extend(u1c.Drawing.quadrant.prototype,{configs:["color",g6D,"lineWidth",A6D],copyConfig:function(){var z8y;z8y=this.stx.currentVectorParameters;this.color=z8y.currentColor;k0x.A2x();this.fillColor=z8y.fillColor;this.lineWidth=z8y.lineWidth;this.pattern=z8y.pattern;},$controls:[],render:function(c8y){var z90,e6D,H6D,T6D,Q8y,k8y,J5y,V8y,w8y,f8y,v8y,e5y,L5y,W5y,t5y,d5y,o5y,q5y,n5y,Z8y,C5y,i5y,h90,t90,F5y,x5y;z90="qu";z90+="adra";z90+="nt";e6D="seg";e6D+="men";e6D+="t";H6D="s";H6D+="e";H6D+="g";H6D+="ment";T6D="segmen";T6D+="t";Q8y=this.stx;k8y=Q8y.panels[this.panelName];J5y=Q8y.getYAxisByField(k8y,this.field);if(!k8y || this.field && !J5y){return;}if(!this.p1){return;}V8y=Q8y.pixelFromTick(this.p0[+"0"],k8y.chart);w8y=Q8y.pixelFromTick(this.p1[0],k8y.chart);if(V8y < k8y.left && w8y < k8y.left){return;}if(V8y > k8y.right && w8y > k8y.right){return;}f8y=null;v8y=null;for(var B5y=Math.max(0,Math.min(this.p1[0],this.p0[0])); B5y <= Math.min(Q8y.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0])); B5y++){e5y=this.getYValue(B5y);if(e5y !== null){if(f8y === null || e5y.transformed > f8y){f8y=e5y.transformed;}if(v8y === null || e5y.transformed < v8y){v8y=e5y.transformed;}}}L5y=Q8y.pixelFromTransformedValue(f8y,k8y,J5y);k0x.L4v(97);W5y=Q8y.pixelFromTransformedValue(k0x.X4v(4,3,f8y,v8y),k8y,J5y);k0x.E4v(97);t5y=Q8y.pixelFromTransformedValue(k0x.z4v(3,2,f8y,v8y),k8y,J5y);k0x.E4v(7);d5y=Q8y.pixelFromTransformedValue(k0x.z4v(v8y,f8y,2),k8y,J5y);k0x.E4v(98);o5y=Q8y.pixelFromTransformedValue(k0x.X4v(2,f8y,v8y,3),k8y,J5y);k0x.L4v(99);q5y=Q8y.pixelFromTransformedValue(k0x.z4v("4",f8y,3,v8y),k8y,J5y);n5y=Q8y.pixelFromTransformedValue(v8y,k8y,J5y);this.p0[1]=0;this.p1[1]=![];Z8y=this.getLineColor();C5y=this.fillColor;if(C5y == "auto" || u1c.isTransparent(C5y)){C5y=Q8y.defaultColor;}c8y.fillStyle=C5y;i5y={pattern:this.pattern,lineWidth:this.lineWidth};Q8y.plotLine(V8y,w8y,L5y,L5y,Z8y,T6D,c8y,k8y,i5y);Q8y.plotLine(V8y,w8y,n5y,n5y,Z8y,H6D,c8y,k8y,i5y);if(this.name == "quadrant"){Q8y.plotLine(V8y,w8y,W5y,W5y,Z8y,"segment",c8y,k8y,i5y);Q8y.plotLine(V8y,w8y,q5y,q5y,Z8y,"segment",c8y,k8y,i5y);}else if(this.name == "tirone"){Q8y.plotLine(V8y,w8y,t5y,t5y,Z8y,"segment",c8y,k8y,i5y);Q8y.plotLine(V8y,w8y,o5y,o5y,Z8y,"segment",c8y,k8y,i5y);}Q8y.plotLine(V8y,V8y,L5y,n5y,Z8y,"segment",c8y,k8y,i5y);Q8y.plotLine(w8y,w8y,L5y,n5y,Z8y,"segment",c8y,k8y,i5y);Q8y.plotLine(V8y,w8y,d5y,d5y,Z8y,e6D,c8y,k8y,u1c.extend(i5y,{opacity:this.name == "tirone"?0.2:1}));k0x.L4v(5);c8y.globalAlpha=k0x.z4v("0.1",0);c8y.beginPath();k0x.L4v(5);c8y.fillRect(V8y,L5y,k0x.X4v(w8y,V8y),k0x.X4v(n5y,L5y));if(this.name == z90){k0x.E4v(5);c8y.fillRect(V8y,W5y,k0x.X4v(w8y,V8y),k0x.z4v(q5y,W5y));}else if(this.name == "tirone"){k0x.E4v(5);c8y.fillRect(V8y,t5y,k0x.z4v(w8y,V8y),k0x.X4v(o5y,t5y));}c8y.globalAlpha=1;if(!this.highlighted){h90="tiron";h90+="e";this.pixelX=[V8y,w8y];this.pixelY=[L5y,n5y,d5y];if(this.name === "quadrant"){this.pixelY.push(W5y,q5y);}if(this.name === h90){this.pixelY.push(t5y,o5y);}}else {t90="p";t90+="1";F5y=this.highlighted == "p0"?! !{}:! !0;x5y=this.highlighted == t90?! ![]:!{};this.littleCircle(c8y,V8y,d5y,F5y);this.littleCircle(c8y,w8y,d5y,x5y);}},intersected:function(O5y, I5y, N5y){var b5y,g5y,a5y,W90;var {pixelX:s5y, pixelY:X5y}=this;if(!s5y || !X5y){return null;}b5y=this.repositionIntersection(O5y,I5y);if(b5y){return b5y;}for(var Y5y=0; Y5y < 2; Y5y++){if(this.pointIntersection(s5y[Y5y],X5y["2" | 2],N5y,! !1)){k0x.E4v(3);this.highlighted=k0x.z4v(Y5y,1020 != +"6546"?"p":"G");return {action:"drag",point:"p" + Y5y};}}g5y=[];s5y.forEach(E5y=>{k0x.A2x();g5y.push({p0:[E5y,X5y[0]],p1:[E5y,X5y[1]]});});X5y.forEach(j5y=>{g5y.push({p0:[s5y[0],j5y],p1:[s5y[1],j5y]});});a5y=g5y.some(({p0:r5y, p1:R5y})=>{return this.lineIntersection(O5y,I5y,N5y,this.name,r5y,R5y,! ![]);});if(a5y){W90="m";W90+="o";W90+="v";W90+="e";this.highlighted=! !"1";return {action:W90,p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:O5y,value:this.valueOnDrawingAxis(O5y,I5y)};}return null;},reconstruct:function(y5y, T5y){this.stx=y5y;this.color=T5y.col;this.fillColor=T5y.fc;this.panelName=T5y.pnl;this.pattern=T5y.ptrn;this.lineWidth=T5y.lw;this.d0=T5y.d0;this.d1=T5y.d1;this.tzo0=T5y.tzo0;this.tzo1=T5y.tzo1;this.field=T5y.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);u1c.Drawing.tirone=function(){this.name="tirone";};u1c.inheritsFrom(u1c.Drawing.tirone,u1c.Drawing.quadrant);u1c.Drawing.volumeprofile=function(){var G90;G90="vol";G90+="u";G90+="mepro";G90+="file";k0x.z2x();this.name=G90;};u1c.inheritsFrom(u1c.Drawing.volumeprofile,u1c.Drawing.regression);u1c.extend(u1c.Drawing.volumeprofile.prototype,{configs:[Q90,"fillColor",b90,f90,"parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,render:function(l5y){var r90,G5y,C1y,B1y,S5y,m5y,k5y,Z5y,x1y,S1y,p5y,p1y,Q5y,I1y,H5y,V5y,u5y,l1y,D1y,K1y,M1y,N1y,a1y,U5y,W1y,P5y,E1y,A5y,w5y,H1y,r1y,t1y,d1y,u1y,v5y,U1y,z5y,y1y,h1y,D5y,K5y,A1y,z1y,k1y,j90,P1y,m1y,G1y,Q1y,V1y;r90="aut";r90+="o";var {stx:h5y}=this;var {dataSet:q1y}=h5y.chart;G5y=h5y.panels[this.panelName];if(!G5y){return;}if(!this.p1){return;}C1y=h5y.pixelFromTick(this.p0[0],G5y.chart);B1y=h5y.pixelFromTick(this.p1[0],G5y.chart);if(C1y < G5y.left && B1y < G5y.left){return;}if(C1y > G5y.right && B1y > G5y.right){return;}var {yAxis:M5y}=G5y;var {flipped:F1y}=M5y;S5y=null;m5y=null;k5y=Math.min(this.p1["0" - 0],this.p0[0]);Z5y=Math.max(this.p1[0],this.p0[0]);for(var i1y=k5y; i1y <= Z5y; i1y++){x1y=q1y[i1y];if(!x1y)continue;var {High:s1y, Low:X1y}=x1y;if(S5y === null || s1y > S5y){S5y=s1y;}if(m5y === null || X1y < m5y){m5y=X1y;}}var {priceBuckets:Y1y}=this;k0x.L4v(24);S1y=k0x.X4v(S5y,m5y,Y1y);p5y=[];if(F1y){[S5y,m5y]=[m5y,S5y];}p1y=F1y?-1:+"1";for(var O1y=m5y,g1y=0; g1y <= Y1y; (O1y+=S1y * p1y,g1y++)){p5y.push([O1y,0]);if(m5y === S5y)break;}Q5y=0;for(var J1y=k5y; J1y <= Z5y; J1y++){I1y=q1y[J1y];if(!I1y)continue;var {High:L1y, Low:n1y, Volume:b1y}=I1y;if(!b1y)continue;H5y=[];V5y=p5y[0][+"0"];u5y=null;for(var c5y=1; c5y < p5y.length; c5y++){u5y=p5y[c5y][+"0"];l1y=n1y >= V5y && n1y <= u5y;D1y=L1y >= V5y && L1y <= u5y;K1y=n1y < V5y && L1y > u5y;if(l1y || D1y || K1y){H5y.push(c5y);}V5y=u5y;}if(H5y.length){M1y=b1y / H5y.length;for(var e1y="0" * 1; e1y < H5y.length; e1y++){N1y=p5y[H5y[e1y]][1]+=M1y;if(N1y > Q5y){Q5y=N1y;}}}}a1y=Q5y === 0 && p5y.length > 1;if(a1y){h5y.displayErrorAsWatermark("chart",h5y.translateIf("Not enough data to render the Volume Profile"));}U5y= c1y=>{k0x.A2x();return Math.round(c1y) + 0.5;};W1y=(Z5y - k5y) * h5y.layout.candleWidth;k0x.L4v(5);var n8F=k0x.z4v(16,15);P5y=U5y(h5y.pixelFromTick(k5y)) - n8F;k0x.L4v(3);E1y=U5y(k0x.X4v(W1y,P5y));k0x.L4v(77);k0x.z2x();A5y=h5y.pixelFromPrice(k0x.z4v(2,m5y,m5y,S5y));w5y=P5y;var [j1y]=p5y[0];H1y=this.getLineColor();var {fillColor:f5y}=this;if(f5y === r90 || u1c.isTransparent(f5y)){f5y=h5y.defaultColor;}l5y.fillStyle=f5y;r1y={pattern:this.pattern,lineWidth:this.lineWidth};t1y=0;d1y=+"0";u1y=(w1y, f1y)=>{return [t1y,d1y]=[w1y,f1y];};v5y=(v1y, Z1y, i9y)=>{var v90;k0x.A2x();if(!i9y){v90="s";v90+="e";v90+="gm";v90+="ent";h5y.plotLine(t1y,v1y,d1y,Z1y,H1y,v90,l5y,G5y,r1y);}[t1y,d1y]=[v1y,Z1y];};if(this.highlighted || a1y){h5y.plotLine(P5y,E1y,A5y,A5y,h5y.defaultColor,"segment",l5y,G5y,Object.assign({},r1y,{opacity:0.3}));}for(var o1y=1; o1y < p5y.length; o1y++){var [R1y,T1y]=p5y[o1y];if(T1y){k0x.L4v(100);U1y=k0x.z4v(Q5y,T1y,W1y);k0x.E4v(3);z5y=U5y(k0x.X4v(U1y,P5y));y1y=U5y(h5y.pixelFromPrice(R1y));h1y=U5y(h5y.pixelFromPrice(j1y));D5y=Math.max(y1y,M5y.top);K5y=Math.min(h1y,M5y.bottom);k0x.E4v(101);A1y=k0x.X4v(D5y,y1y);k0x.L4v(101);z1y=k0x.z4v(K5y,h1y);k1y=D5y <= M5y.bottom && K5y >= M5y.top;if(k1y){if(!this.highlighted){l5y.globalAlpha=0.3;}u1y(P5y,K5y);v5y(P5y,D5y);v5y(z5y,D5y,A1y);v5y(z5y,K5y);if(z5y > w5y){v5y(w5y,K5y,z1y);}k0x.E4v(15);l5y.globalAlpha=k0x.z4v(1,"0.2");k0x.L4v(5);l5y.fillRect(P5y,D5y,k0x.X4v(z5y,P5y),k0x.X4v(K5y,D5y));l5y.globalAlpha=1;}w5y=z5y;}else {w5y=P5y;;}j1y=R1y;}if(this.highlighted){j90="p";j90+="1";P1y=this.highlighted === "p0";m1y=this.highlighted === j90;k0x.L4v(102);var F8F=k0x.X4v(408598164,4,4,306448622,2145140349);G1y=this.p0[0] > this.p1["0" >> F8F];Q1y=G1y?m1y:P1y;V1y=G1y?P1y:m1y;this.littleCircle(l5y,P5y,A5y,Q1y);this.littleCircle(l5y,E1y,A5y,V1y);}k0x.E4v(3);this.pixelX=[P5y,k0x.z4v(W1y,P5y)];this.pixelY=[h5y.pixelFromPrice(S5y),h5y.pixelFromPrice(m5y),A5y];this.p0[1]=0;k0x.L4v(15);this.p1[k0x.z4v(1,"1")]=![];;},intersected:function(J9y, L9y, o9y){var t9y;var {p0:n9y, p1:e9y, stx:q9y}=this;if(!n9y || !e9y){return null;}var [,,W9y]=this.pixelY || [];if(W9y === undefined){return;}t9y=this.repositionIntersection(J9y,L9y);if(t9y){return t9y;}for(var [d9y,[C9y]] of [[0,n9y],[1,e9y]]){if(this.pointIntersection(q9y.pixelFromTick(C9y),W9y,o9y,! ![])){k0x.L4v(3);this.highlighted=k0x.z4v(d9y,398.12 === 6140?(35,1.20e+1):7440 !== (2790,52.28)?(21.24,+"1988") <= (6816,120.01)?"s":"p":"u");return {action:"drag",point:((+"6260",5270) === 6720?"F":9660 > (3339,682)?"p":280.63 != (4340,"3117" & 2147483647)?(+"0xa31",162.82):507.25) + d9y};}}if(this.boxIntersection(J9y,L9y,o9y)){this.highlighted=! !{};return {action:"move",p0:u1c.clone(this.p0),p1:u1c.clone(this.p1),tick:J9y,value:L9y};}return null;},reconstruct:function(F9y, B9y){this.stx=F9y;this.color=B9y.col;this.fillColor=B9y.fc;this.panelName=B9y.pnl;this.pattern=B9y.ptrn;this.lineWidth=B9y.lw;this.d0=B9y.d0;this.d1=B9y.d1;this.tzo0=B9y.tzo0;this.tzo1=B9y.tzo1;k0x.z2x();this.field=B9y.fld;this.priceBuckets=B9y.pb;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},! ![]);u1c.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];k0x.L4v(42);this.dx=k0x.X4v(348823488,"0");this.dy=-20;this.dragToDraw=!1;this.annotationPoints=[];this.edit=null;};u1c.inheritsFrom(u1c.Drawing.elliottwave,u1c.Drawing.annotation);u1c.Drawing.elliottwave.defaultTemplate={impulse:[4316 != 1466?"I":("m",0x94c),"II",n90,"IV",(+"577.9","6333" * 1) < ("5319" << 1838315968,"293.64" * 1)?("C",723.61):"V"],corrective:["A","B",(866.68,4709) == (483,9960)?(8.74e+3,"S"):"C"],decoration:"enclosed",showLines:! !"1"};u1c.Drawing.elliottwave.prototype.initializeSettings=function(x9y){k0x.z2x();x9y.currentVectorParameters.waveParameters=u1c.clone(u1c.Drawing.elliottwave.defaultTemplate);};u1c.Drawing.elliottwave.prototype.configs=["color",F90,"lineColor",w90,O90,B90];u1c.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];u1c.Drawing.elliottwave.prototype.construct=function(s9y, Y9y){k0x.z2x();var X9y;this.stx=s9y;this.panelName=Y9y.name;X9y=s9y.currentVectorParameters;Object.assign(this,X9y.waveParameters);};u1c.Drawing.elliottwave.prototype.serialize=function(){var u90,L90,g9y,N90;u90="s";k0x.z2x();u90+="z";L90="s";L90+="t";g9y={};for(var O9y=+"0"; O9y < this.points.length; O9y++){N90="t";N90+="z";N90+="o";k0x.L4v(3);g9y[k0x.z4v(O9y,"d")]=this[k0x.z4v(O9y,"d")];k0x.L4v(3);g9y[k0x.X4v(O9y,"tzo")]=this[k0x.X4v(O9y,N90)];k0x.E4v(3);g9y[k0x.z4v(O9y,"v")]=this[k0x.z4v(O9y,"v")];}g9y.annotations=this.annotationPoints.join((440.51,+"551.61") < (6230,639)?",":(0x1cb9,0x2ef));return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:u1c.removeNullValues(u1c.replaceFields(this.font,{style:L90,size:u90,weight:"wt",family:"fl"}))},g9y);};u1c.Drawing.elliottwave.prototype.reconstruct=function(b9y, I9y){var S90,D90,J90;S90="f";S90+="a";S90+="m";S90+="ily";D90="weig";D90+="h";D90+="t";J90="s";J90+="ize";this.stx=b9y;this.color=I9y.col;this.panelName=I9y.pnl;this.pattern=I9y.ptrn;this.lineWidth=I9y.lw;this.font=u1c.replaceFields(I9y.fnt,{st:"style",sz:J90,wt:D90,fl:S90});this.decoration=I9y.decor;this.showLines=I9y.show;this.dx=I9y.dx;this.dy=I9y.dy;this.trend=I9y.trend;this.field=I9y.fld;this.annotationPoints=I9y.annotations.split((7410,975.55) === +"1140"?! !"":",");if(I9y.decor === "enclosed"){this.calculateRadius(b9y.chart.tempCanvas.context);}this.maxSegments=I9y.mxSeg;this.reconstructPoints(I9y);this.adjust();};u1c.Drawing.elliottwave.prototype.reconstructPoints=function(a9y){var E9y,j9y,r9y;E9y=this.stx.panels[this.panelName];if(!E9y){return;}k0x.z2x();for(var N9y=0; N9y < this.annotationPoints.length; N9y++){k0x.E4v(3);this[k0x.z4v(N9y,"d")]=a9y[k0x.z4v(N9y,(883.51,3600) === (6140,4522)?! ![]:(7990,527) > 365?4520 > 3955?"d":!"":0xd04)];k0x.L4v(3);this[k0x.X4v(N9y,(2030,6528) != (8780,51)?(7530,3280) === +"2660"?+"942" >= 8990?"E":0x1fcb:"v":(! !"","3.49e+3" << 982104352))]=a9y[k0x.z4v(N9y,7335 > (131.32,"5460" & 2147483647)?"v":"m")];k0x.E4v(3);this[k0x.X4v(N9y,"tzo")]=a9y[k0x.X4v(N9y,"tzo")];j9y=u1c.strToDateTime(a9y[("103.98" - 0 >= (+"776.87","71.18" * 1)?"d":(522.88,7014) <= 132.66?(0x268,"j"):"V") + N9y]);r9y=this.stx.tickFromDate(j9y,E9y.chart);this.points.push([r9y,a9y[((1023,5336) < (462.16,6900)?"v":(836.04,!{})) + N9y]]);}};u1c.Drawing.elliottwave.prototype.calculateRadius=function(h9y){var R9y,y9y;this.getFontString();h9y.font=this.fontString;R9y=0;for(var T9y="0" & 2147483647; T9y < this.annotationPoints.length; T9y++){y9y=h9y.measureText(this.annotationPoints[T9y]).width;if(R9y < y9y){R9y=y9y;}}this.enclosedRadius=R9y;};u1c.Drawing.elliottwave.prototype.check=function(S9y, l9y, P9y){k0x.z2x();var m9y,G9y;k0x.E4v(5);m9y=this.points[k0x.X4v(P9y,1)];if(m9y && S9y <= m9y[0]){return ! !0;}if(P9y === 1 && this.points.length === 2){return ! !{};}k0x.E4v(87);G9y=this.points[k0x.X4v("1",1,P9y)];if(G9y && S9y >= G9y[0]){return ! !0;}function p9y(K9y){k0x.z2x();for(var D9y=2; D9y < K9y.length; D9y++){if(Math.sign(K9y[D9y][1] - K9y[D9y - 1][+"1"]) == Math.sign(K9y[D9y - 1]["1" & 2147483647] - K9y[D9y - 2][1])){return ! !0;}}return ! !"1";}if(!p9y(this.points)){return !{};}return ! ![];};u1c.Drawing.elliottwave.prototype.move=function(M9y, H9y, u9y){this.copyConfig();k0x.E4v(103);var w8F=k0x.X4v(2,8,3,8);this.points[this.lastPoint + w8F]=[H9y,u9y];this.render(M9y);};u1c.Drawing.elliottwave.prototype.adjust=function(){var A9y,z9y;A9y=this.stx.panels[this.panelName];if(!A9y){return;}for(var U9y=0; this.maxSegments + 1 > U9y; U9y++){k0x.E4v(3);z9y=this[k0x.X4v(U9y,710.98 < 8707?"d":4.04e+3)];this.setPoint(U9y,z9y,this[(712 === (2030,+"2130")?"H":(+"7513",9930) === (3122,"9486" >> 163227072)?(6.37e+3,"t"):(599.71,4618) <= (3513,2418)?(! ![],"Q"):"v") + U9y],A9y.chart);this.points[U9y][0]=this.stx.tickFromDate(u1c.strToDateTime(z9y),A9y.chart);k0x.E4v(3);this.points[U9y][+"1"]=this[k0x.X4v(U9y,+"1530" == +"548.52"?995.84:"v")];}};u1c.Drawing.elliottwave.prototype.click=function(c9y, k9y, Q9y){var V9y;V9y=this.stx.panels[this.panelName];if(!V9y){return;}k0x.z2x();this.copyConfig();if(!this.penDown){this.setPoint(+"0",k9y,Q9y,V9y.chart);this.points.push(this.p0);this.penDown=! !"1";this.segment=+"0";this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(c9y);}k0x.E4v(104);var O8F=k0x.X4v(280,18,9,13);this.maxSegments=this.annotationPoints.length - O8F;this.trend=1;return ! !"";}if(this.accidentalClick(k9y,Q9y)){this.penDown=! !"1";return ! !"";}if(this.check(k9y,Q9y,this.lastPoint + ("1" >> 1622695360))){this.lastPoint++;this.setPoint(this.lastPoint,k9y,Q9y,V9y.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";return ! !"1";}}return !1;};u1c.Drawing.elliottwave.prototype.render=function(w9y){var a90,R90,J4y,v9y,Z9y,I4y,b4y,N4y,s4y,X4y,i4y,L4y,Y4y,n4y,W4y,t4y,o4y,e4y,q4y,C4y,a4y,E4y,Y90,B4y,F4y,d4y,O4y,g4y,j4y,x4y;a90="mi";a90+="ddle";R90="cen";R90+="ter";J4y=this.stx;v9y=J4y.panels[this.panelName];Z9y=J4y.getYAxisByField(v9y,this.field);if(!v9y || this.field && !Z9y){return;}Z9y=Z9y || v9y.yAxis;I4y=this.annotationPoints;b4y=this.pattern?u1c.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();w9y.font=this.fontString;w9y.textAlign=R90;w9y.textBaseline=a90;w9y.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(w9y);}this.lastFontString=this.fontString;N4y=this.getLineColor();w9y.fillStyle=w9y.strokeStyle=N4y;w9y.save();w9y.setLineDash(b4y);s4y=this.dx;X4y=this.dy;i4y=this.points;L4y=this.pts;Y4y=!this.showLines && this.highlighted;n4y=i4y.length;if(this.penDown && this.segment){k0x.L4v(34);var B8F=k0x.z4v(0,6,3);W4y=this.trend * (n4y % B8F - 0.5) < 0;this.drawDropZone(w9y,i4y[n4y - ("2" & 2147483647)][+"1"],Z9y[W4y?"high":"low"],i4y[n4y - ("2" >> 867118400)][+"0"]);}else if(typeof this.highlighted === "string" && J4y.repositioningDrawing){t4y=parseInt(this.highlighted.substring("1" & 2147483647,this.highlighted.length),10);k0x.L4v(40);var N8F=k0x.z4v(13,15);W4y=this.trend * (t4y % N8F - 0.5) > ("0" | 0);k0x.L4v(5);o4y=i4y[k0x.z4v(t4y,1)];k0x.L4v(3);e4y=i4y[k0x.z4v(1,t4y)];q4y=t4y > ("0" ^ 0)?o4y[+"1"]:e4y[1];if(e4y){q4y=Math[W4y?"max":"min"](q4y,e4y[1]);}this.drawDropZone(w9y,q4y,Z9y[W4y?"high":"low"],o4y?o4y[0]:null,e4y?e4y[0]:null);}for(var f9y=0; f9y < n4y; f9y++){C4y=i4y[f9y];a4y=J4y.pixelFromTick(C4y[+"0"],v9y.chart);E4y=this.pixelFromValue(v9y,C4y[0],C4y["1" - 0],J4y.getYAxisByField(v9y,this.field));L4y[f9y]=[a4y,E4y];}f9y=0;if(this.showLines || Y4y){w9y.beginPath();if(Y4y){w9y.globalAlpha=0.3;}for(; f9y < L4y.length; f9y++){w9y.lineTo(L4y[f9y][0],L4y[f9y][1]);}w9y.stroke();f9y=0;}w9y.restore();for(; f9y < n4y; f9y++){Y90="pa";Y90+="re";Y90+="nth";Y90+="eses";B4y=f9y % 2?s4y:-s4y;F4y=f9y % 2?X4y:-X4y;B4y*=this.trend;F4y*=this.trend;if(Z9y.flipped){B4y*=-1;k0x.E4v(42);F4y*=-k0x.X4v(1169485984,"1");}d4y=L4y[f9y];O4y=d4y[2]=d4y[0] + B4y;k0x.L4v(3);var L8F=k0x.X4v(1,0);g4y=d4y[3]=d4y[L8F] + F4y;j4y=this.enclosedRadius || +"8";x4y=I4y[f9y];if(this.decoration === Y90){k0x.E4v(86);x4y=k0x.z4v(885.44 >= (5260,393.89)?5970 === +"2630"?(+"0x12b2",0xbc6):1650 >= 210?")":(!1,! !"1"):("802.36" * 1,"g"),(5200,548.47) == 1332?0x26f5:"(",x4y);}w9y.fillText(x4y,O4y,g4y);if(this.decoration === "enclosed"){w9y.beginPath();w9y.arc(O4y,g4y,j4y,0,2 * Math.PI,![]);w9y.stroke();}if(this.highlighted){w9y.save();this.littleCircle(w9y,this.pts[f9y]["0" ^ 0],this.pts[f9y][1],this.highlighted === "p" + f9y);w9y.restore();}}};u1c.Drawing.elliottwave.prototype.reposition=function(l4y, r4y, y4y, h4y){var m4y,G4y,S4y,T4y,P4y,p4y;if(!r4y){return;}m4y=this.stx.panels[this.panelName];G4y=r4y.tick - y4y;k0x.z2x();S4y=r4y.value - h4y;if(r4y.action === "move"){for(var R4y=+"0"; r4y.points.length > R4y; R4y++){T4y=r4y.points[R4y];this.setPoint(R4y,T4y[0] - G4y,T4y[1] - S4y,m4y.chart);k0x.L4v(10);var u8F=k0x.z4v(24,9,14);this.points[R4y]=[T4y[0] - G4y,T4y[u8F] - S4y];}}if(r4y.action === "drag"){P4y=r4y.point;p4y=this.points;p4y[P4y]=[y4y,h4y];if(this.check(y4y,h4y,P4y)){this.setPoint(P4y,y4y,h4y,m4y.chart);;};}this.render(l4y);};u1c.Drawing.elliottwave.prototype.intersected=function(K4y, H4y, u4y){k0x.z2x();var U4y,M4y,c90;if(!this.p0 || !this.p1){return null;}for(var D4y=0; this.points.length > D4y; D4y++){M4y=this.points[D4y];if(this.pointIntersection(M4y[0],M4y[1],u4y)){c90="d";c90+="r";c90+="a";c90+="g";k0x.E4v(3);this.highlighted=k0x.X4v(D4y,(3810,9360) <= 94.21?2090 >= (6197,6360)?(9.64e+3,"b"):(260,3521) === (7554,+"8246")?(592.91,!0):(0x20c0,0x1c05):"p");return {action:c90,point:D4y,tick:K4y,value:this.valueOnDrawingAxis(K4y,H4y)};}if(this.points[D4y + 1] && this.lineIntersection(K4y,H4y,u4y,"segment",M4y,this.points[D4y + 1])){this.highlighted=! ![];U4y={action:"move",points:u1c.clone(this.points),tick:K4y,value:this.valueOnDrawingAxis(K4y,H4y)};}}return U4y;};u1c.Drawing.elliottwave.prototype.measure=function(){var U90,A4y,Q4y,k4y,q90,x90,z4y;k0x.z2x();if(this.points.length >= 2){U90=".mSt";U90+="ickyInter";U90+="ior";A4y=this.points;this.stx.setMeasure(A4y[0][1],A4y[A4y.length - "1" * 1][1],A4y[+"0"][0],A4y[A4y.length - 1][0],! !1);Q4y=this.stx.controls.mSticky;k4y=Q4y && Q4y.querySelector(U90);if(k4y){q90="<br";q90+=">";x90="C";x90+="l";x90+="os";x90+="e";z4y=[];z4y.push(u1c.capitalize("Elliott Wave"));if(this.getYValue){z4y.push(this.field || this.stx.defaultPlotField || x90);}z4y.push(k4y.innerHTML);k4y.innerHTML=z4y.join(q90);}}};u1c.Drawing.printProjection=function(J0y, s0y, V4y){k0x.z2x();var w4y,f4y,q0y,L0y,C0y,n0y,B0y,e0y,i0y,d0y,Z4y,F0y,o0y,t0y,c4y,x0y;w4y=s0y.arr;if(w4y.length > 1){f4y=w4y[0][0];q0y=Math.round(J0y.chart.maxTicks * 0.75);for(var v4y=+"1"; v4y < w4y.length; v4y++){k0x.L4v(5);L0y=w4y[k0x.X4v(v4y,1)][0];C0y=w4y[v4y][0];n0y=u1c.strToDateTime(L0y);B0y=u1c.strToDateTime(C0y).getTime();e0y=J0y.standardMarketIterator(n0y);i0y=0;while(n0y.getTime() < B0y){n0y=e0y.next();i0y+=1;}d0y=u1c.strToDateTime(L0y).getTime();if(d0y > u1c.strToDateTime(V4y[V4y.length - 1].Date).getTime()){k0x.E4v(5);var J8F=k0x.z4v(15,14);Z4y=V4y.length - J8F;i0y+=1;}else {for(Z4y=V4y.length - 1; Z4y >= 0; Z4y--){if(d0y <= u1c.strToDateTime(V4y[Z4y].Date).getTime())break;}}F0y={x0:0,x1:i0y,y0:V4y[Z4y].Close,y1:w4y[v4y][1]};f4y=u1c.strToDateTime(L0y);e0y=J0y.standardMarketIterator(f4y);o0y=![];for(var W0y=0; W0y <= i0y; W0y++){if(!o0y){o0y=! ![];}else {f4y=e0y.next();}if(f4y.getTime() <= V4y[V4y.length - 1].DT.getTime())continue;t0y=u1c.yIntersection(F0y,W0y);if(!t0y){t0y=0;}k0x.L4v(5);var D8F=k0x.X4v(10020,20);c4y=Math.round(t0y * ("10000" ^ 0)) / D8F;if(c4y === 0){k0x.L4v(19);c4y=w4y[v4y][k0x.z4v("1",2147483647)];}x0y={Date:u1c.yyyymmddhhmmssmmm(f4y),DT:f4y,Open:c4y,Close:c4y,High:c4y,Low:c4y,Volume:0,Adj_Close:c4y,Split_Close:c4y,projection:! !"1"};if(J0y.layout.interval == "minute")if(q0y-- < ("0" | 0))break;V4y[V4y.length]=x0y;}}}};}};J6w= Y0y=>{var X90,X0y;X90="un";X90+="d";X90+="efine";e8ll.z2x();X90+="d";X0y=typeof _CIQ !== X90?_CIQ:Y0y.CIQ;if(!X0y.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {X0y.formatEquation=function(E0y){var F0N=e8ll;var I0y,N0y,O0y,b0y,g0y;I0y="";N0y=[];F0N.z2x();O0y="";b0y=!1;for(var a0y=1; a0y < E0y.length; a0y++){g0y=E0y[a0y];if(g0y == "[" && !b0y){b0y=!"";}else if(g0y == ((478.18,786.97) != (2640,4350)?"]":(4564,2740) !== 5693?("x",0x8e4):(+"197.08",+"964")) && b0y){b0y=![];if(O0y !== ""){N0y.push(O0y);F0N.E4v(86);I0y+=F0N.z4v(4800 < 6240?"]":("334" | 14,"b"),9161 < (3080,"728.79" - 0)?(8046,185.1) <= 173.54?488.01:"7313" * 1 !== 9178?(3.01e+3,144.40):("a","T"):"[",O0y);}O0y="";}else if(b0y){O0y+=g0y;}else if(g0y == ((+"4220",4298) > ("5110" & 2147483647)?"L":"+") || g0y == ((7390,9100) === (+"5499",9265)?3090 < 2715?8.01e+3:3.33e+3:"-") || g0y == ((2288,"4018" >> 1744140512) >= 1503?"*":"N") || g0y == (("7282" * 1,9371) >= (383,817.59)?+"6451" <= 1010?("g",6.33e+3):"437.87" * 1 !== "3780" >> 1527260832?"/":(0x691,"0x5b7" - 0):"m") || g0y == ":" || g0y == "%" || g0y == ((5770,947) !== 473?"(":("U",452.25)) || g0y == (("8420" | 8420) >= (3045,"843" * 1)?")":(7.63e+3,+"8.46e+3"))){if(O0y !== "" && isNaN(O0y)){N0y.push(O0y);F0N.L4v(86);I0y+=F0N.X4v(1140 != 628?"]":!"","[",O0y);}else {I0y+=O0y;}if(g0y == (1887 > (879.68,20.86)?5810 > (1160,"3980" ^ 0)?":":0x1184:("4.21e+3" * 1,0x1fbf))){g0y=(9911,"4637" & 2147483647) <= ("309" & 2147483647)?(3130,3301) <= (8740,466.63)?("0x1667" & 2147483647,"e"):(2439,850.58) != 8580?("J",494.97):"G":"/";}I0y+=g0y;O0y="";}else if(g0y != ((3545,996.14) !== 3093?" ":+"376.27" !== 9882?("B",3.57e+3):("J",3.20e+3))){O0y+=g0y;}}if(O0y !== "" && isNaN(O0y)){N0y.push(O0y);F0N.L4v(86);I0y+=F0N.z4v(6320 >= (+"3460",7.25)?"]":(613.08,2.92e+3),(553.13,872.94) >= (953,6203)?(0x1a49,7.21e+3):"[",O0y);}else {I0y+=O0y;}return {equation:I0y,symbols:N0y};};X0y.fetchEquationChart=function(j0y, m0y){var T0y,y0y,h0y,P0y,R0y;T0y=X0y.formatEquation(j0y.symbol);y0y=T0y.symbols;h0y=[];P0y=j0y.stx;j0y.stx=null;for(var r0y=+"0"; r0y < y0y.length; r0y++){R0y=X0y.shallowClone(j0y);R0y.stx=P0y;R0y.symbol=y0y[r0y];R0y.symbolObject={symbol:y0y[r0y]};h0y.push(R0y);}j0y.stx=P0y;P0y.quoteDriver.multiFetch(h0y,function(M0y){var D0y,G0y,S0y,p0y,H0y;D0y={};j0y.loadMoreReplace=! !{};G0y={charge:0};for(var l0y=0; l0y < M0y.length; l0y++){S0y=M0y[l0y];if(S0y.dataCallback.error){m0y({error:S0y.dataCallback.error});return;}D0y[S0y.params.symbol]=S0y.dataCallback.quotes;j0y.loadMoreReplace=j0y.loadMoreReplace && S0y.params.loadMoreReplace;j0y.moreToLoad=j0y.moreToLoad || S0y.dataCallback.moreAvailable;p0y=S0y.dataCallback.attribution;if(p0y){if(p0y.charge){G0y.charge+=p0y.charge;}G0y.source=p0y.source;if(G0y.exchange === undefined){G0y.exchange=p0y.exchange;}else if(G0y.exchange != p0y.exchange){G0y.exchange="";};}}e8ll.z2x();if(h0y.length || !(j0y.loadMore || j0y.update)){try{H0y=X0y.computeEquationChart(T0y.equation,D0y);m0y({quotes:H0y,moreAvailable:j0y.moreToLoad,attribution:G0y});}catch(u0y){var K0y;K0y={error:"Invalid equation: " + T0y.equation};if(u0y.name && u0y.name == "NoException"){K0y.suppressAlert=!"";}m0y(K0y);}}});};}};L6w= A0y=>{var U0y;U0y=typeof _CIQ !== "undefined"?_CIQ:A0y.CIQ;if(!U0y.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!U0y.Marker.Performance){U0y.ChartEngine.prototype.removeDOMMarker=function(z0y){var i90;i90="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation";i90+=" in a future release\n Please use CIQ.Marker.Perf";i90+="ormance#remove instead.";console.warn(i90);U0y.Marker.Performance.prototype.removeDOMMarker.call(z0y.params.node,z0y);};U0y.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");e8ll.z2x();U0y.Marker.Performance.drawMarkers(this);};U0y.ChartEngine.prototype.calculateMarkerStyles=function(k0y, Q0y){var m90;m90="CIQ.ChartEngine#calculateMarkerStyles i";m90+="s scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(m90);e8ll.z2x();U0y.Marker.Performance.calculateMarkerStyles(this,k0y,Q0y);};U0y.ChartEngine.prototype.drawCircleMarker=function(V0y, c0y, w0y){var Z90;Z90="CIQ.ChartEngi";Z90+="ne#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performa";e8ll.A2x();Z90+="nce.drawCircleMarker instead.";console.warn(Z90);U0y.Marker.Performance.drawCircleMarker(V0y,c0y,w0y);};U0y.ChartEngine.prototype.drawSquareMarker=function(f0y, v0y, Z0y){e8ll.z2x();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");U0y.Marker.Performance.drawSquareMarker(f0y,v0y,Z0y);};U0y.ChartEngine.prototype.drawCalloutMarker=function(i6y, J6y, L6y){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");e8ll.z2x();U0y.Marker.Performance.drawCalloutMarker(i6y,J6y,L6y);};U0y.ChartEngine.prototype.drawMarkerStem=function(n6y, e6y, W6y){var C90;C90="CIQ.ChartEngine#drawMarkerStem is s";C90+="cheduled for deprecat";C90+="ion in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(C90);U0y.Marker.Performance.drawMarkerStem(n6y,e6y,W6y);};U0y.ChartEngine.prototype.positionDOMMarkers=function(){var y4D,E4D,s4D;console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");y4D=2524017;E4D=- +"561976881";s4D=2;for(var A4D=1; e8ll.x4D(A4D.toString(),A4D.toString().length,89574) !== y4D; A4D++){U0y.Marker.Performance.drawMarkers(this);s4D+=2;}if(e8ll.q4D(s4D.toString(),s4D.toString().length,72934) !== E4D){U0y.Marker.Performance.drawMarkers(this);}};U0y.Marker.Performance=function(o6y){var k90,M90,I90,p90,d90,l90,d6y,t6y,C6y,F6y,q6y,B6y,x6y,s6y;k90="call";k90+="out";M90="h";M90+="4";I90=".";I90+="stx-visual";p90="</";p90+="d";p90+="i";p90+="v>";d90="<div";d90+=" class=\"stx-marker-";d90+="content\">";l90="<div clas";l90+="s=";l90+="\"stx-vis";l90+="ual\">";this.params={displayCategory:! ![],displayStem:!0,invert:![],story:"",headline:""};U0y.extend(this.params,o6y);d6y=this.template=document.createElement("TEMPLATE");e8ll.L4v(105);d6y.innerHTML=e8ll.X4v('<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',d90,"</div>",'<div class="stx-marker highlight">',l90,p90,'<div class="stx-stem"></div>',"</div>");t6y=this.template.content.cloneNode(! !1);C6y=t6y.querySelector(".stx-marker",d6y);C6y.classList.add(o6y.type);C6y.classList.add(o6y.category);F6y=t6y.querySelector(I90,d6y);q6y=t6y.querySelector(".stx-marker-expand");B6y=t6y.querySelector(M90,d6y);x6y=t6y.querySelector("p",d6y);B6y.innerText=this.params.headline;x6y.innerText=this.params.story;this.hasText=! !o6y.headline || ! !o6y.story;this.deferAttach=! !{};this.node=t6y.firstChild;this.node.params=this.params;this.visual=F6y;this.expand=q6y;if(o6y.type === k90){s6y=q6y.removeChild(B6y);t6y.querySelector(".stx-marker-content",d6y).insertBefore(s6y,q6y);}};U0y.inheritsFrom(U0y.Marker.Performance,U0y.Marker.NodeCreator,![]);U0y.Marker.Performance.consolidateExpanded=function(N6y){var p0N=e8ll;var X6y,Y6y,I6y,K90,g6y,b6y;X6y=N6y.markerHelper.highlighted;if(!X6y.length){return;}p0N.A2x();p0N.E4v(106);var S8F=p0N.X4v(19,1,4,8,19);Y6y=X6y[X6y.length - S8F];I6y=Y6y.params.node;if(!Y6y.consolidated){Y6y.consolidated=[];}for(var O6y=X6y.length - 2; O6y >= 0; O6y--){K90="</c";K90+="onso";K90+="lidated";K90+=">";g6y=a6y(X6y[O6y]);p0N.E4v(86);b6y=p0N.z4v(K90,"<consolidated>",g6y);if(g6y.length){I6y.expand.innerHTML+=b6y;}}function a6y(R6y){var j6y,E6y,r6y;j6y=R6y.params.node;E6y=j6y.expand;if(!E6y){return "";}r6y=E6y.style.display !== "none"?E6y.innerHTML:"";return r6y;}Y6y.stxNodeCreator.quickCache(Y6y);};U0y.Marker.Performance.reconstituteExpanded=function(P6y){var T6y,m6y,G6y,h6y;T6y=P6y.markerHelper.highlighted;if(!T6y.length || !P6y.activeMarker){return;}T6y=[P6y.activeMarker];for(var y6y=T6y.length - 1; y6y >= 0; y6y--){m6y=T6y[y6y];G6y=m6y.params.node;h6y=G6y.expand;while(h6y.lastElementChild.nodeName === "CONSOLIDATED"){h6y.removeChild(h6y.lastElementChild);}}};U0y.Marker.Performance.drawMarkers=function(M6y){var K6y,S6y,l6y,D6y,H6y,u6y;K6y=M6y.getMarkerArray("all");e8ll.A2x();S6y=M6y.chart;for(var p6y=0; p6y < K6y.length; p6y++){l6y=K6y[p6y];D6y=l6y.stxNodeCreator;H6y=S6y.dataSegment[0].tick;u6y=S6y.dataSegment[S6y.dataSegment.length - ("1" >> 1051099872)].tick;if(H6y <= l6y.tick <= u6y){if(D6y && D6y.drawMarker){D6y.drawMarker(l6y);}}}};U0y.Marker.Performance.calculateMarkerStyles=function(A6y, z6y, V6y){var U6y,o90,k6y,P90,Q6y;U6y=document.querySelector(".stx-marker-templates");if(!U6y){o90="-";o90+="1000p";o90+="x";U6y=document.createElement("DIV");U6y.style.visibility="hidden";U6y.style.left=o90;document.body.append(U6y);}U6y.appendChild(z6y.node);k6y=getComputedStyle(z6y.stxNodeCreator.visual);if(!A6y.styles.stx_marker_stem){P90=".";P90+="st";P90+="x-s";P90+="tem";Q6y=getComputedStyle(document.querySelector(P90,z6y.node));A6y.styles.stx_marker_stem=A6y.cloneStyle(Q6y);}A6y.styles[V6y]=A6y.cloneStyle(k6y);U6y.removeChild(z6y.node);};U0y.Marker.Performance.drawCircleMarker=function(Z6y, W2y, w6y){var n2y,e2y,c6y,f6y,v6y,i2y,J2y,L2y,V90;n2y=Z6y.params.stx;e2y=n2y.chart;c6y=e2y.context;f6y=w6y.x;v6y=w6y.y;i2y=w6y.radius;J2y=w6y.label;e8ll.A2x();L2y=w6y.color?w6y.color:W2y.backgroundColor;c6y.beginPath();c6y.setLineDash([]);c6y.lineWidth=1;c6y.fillStyle=L2y;c6y.strokeStyle=L2y;c6y.font="normal bold 12px Roboto, Helvetica, sans-serif";c6y.arc(f6y,v6y,i2y,0,2 * Math.PI,![]);c6y.fill();c6y.stroke();c6y.closePath();if(J2y){V90="w";V90+="hite";c6y.fillStyle=U0y.colorsEqual(V90,c6y.fillStyle)?"black":"white";c6y.fillText(J2y.charAt(0).toUpperCase(),f6y - 4,v6y + 1);}if(Z6y.highlight || Z6y.active){c6y.beginPath();e8ll.E4v(3);c6y.arc(f6y,v6y,e8ll.z4v(4,i2y),0,2 * Math.PI,!"1");c6y.stroke();c6y.closePath();}};U0y.Marker.Performance.drawSquareMarker=function(F2y, O2y, d2y){var U0N=e8ll;var y90,X2y,Y2y,t2y,C2y,B2y,o2y,x2y,s2y,q2y;y90="normal bold 12";y90+="px R";y90+="oboto, Helvetica, sa";y90+="ns-serif";X2y=F2y.params.stx;U0N.A2x();Y2y=X2y.chart;t2y=Y2y.context;C2y=d2y.x;B2y=d2y.y;o2y=d2y.half;x2y=d2y.label;s2y=d2y.color?d2y.color:O2y.backgroundColor;U0N.L4v(15);q2y=U0N.z4v(2,o2y);t2y.beginPath();t2y.setLineDash([]);U0N.L4v(46);t2y.lineWidth=U0N.z4v("1",0);t2y.fillStyle=s2y;t2y.strokeStyle=s2y;t2y.font=y90;U0N.E4v(5);t2y.rect(U0N.X4v(C2y,o2y),U0N.z4v(B2y,o2y),q2y,q2y);t2y.fill();if(F2y.highlight || F2y.active){U0N.E4v(53);t2y.rect(U0N.z4v(o2y,C2y,4),U0N.z4v(o2y,B2y,4,U0N.L4v(53)),U0N.X4v(8,q2y,U0N.L4v(3)),U0N.X4v(8,q2y,U0N.E4v(3)));}t2y.stroke();t2y.closePath();if(x2y){t2y.fillStyle=U0y.colorsEqual("white",t2y.fillStyle)?"black":"white";t2y.fillText(x2y.charAt(0).toUpperCase(),C2y - 4,B2y + 1);}};U0y.Marker.Performance.drawCalloutMarker=function(N2y, S2y, I2y){var P2y,m2y,g2y,b2y,p2y,E2y,j2y,r2y,R2y,T2y,G2y,a2y,y2y,h2y;P2y=N2y.params.stx;m2y=P2y.chart;g2y=m2y.context;b2y=N2y.params;p2y=I2y.x;E2y=I2y.y;j2y=I2y.half;r2y=I2y.midWidth;R2y=I2y.headline;T2y=I2y.color?I2y.color:S2y.backgroundColor;G2y=j2y * 2 || 25;a2y=Math.round(g2y.measureText(R2y).width);y2y=r2y?r2y * 2:a2y + 8;g2y.beginPath();g2y.setLineDash([]);g2y.lineWidth=+"1";g2y.fillStyle=T2y;g2y.strokeStyle=T2y;g2y.font="normal bold 12px Roboto, Helvetica, sans-serif";e8ll.z2x();g2y.rect(b2y.box.x0,b2y.box.y0,y2y,G2y);g2y.fill();g2y.stroke();g2y.closePath();g2y.beginPath();g2y.fillStyle=N2y.highlight || N2y.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";e8ll.L4v(107);h2y=e8ll.X4v(2,y2y,20,a2y);g2y.rect(b2y.box.x0 + h2y,E2y - j2y,a2y + 40,22);g2y.fill();g2y.stroke();g2y.closePath();g2y.fillStyle="black";g2y.fillText(R2y,b2y.box.x0 + h2y + 10,E2y);};U0y.Marker.Performance.drawMarkerStem=function(D2y, u2y, K2y){var U2y,A2y,l2y,M2y,Q2y,H2y,z2y,k2y;U2y=D2y.params.stx;A2y=U2y.chart;l2y=A2y.context;M2y=K2y.x;Q2y=K2y.y;l2y.beginPath();l2y.strokeStyle=u2y.borderLeftColor;e8ll.L4v(5);l2y.setLineDash([e8ll.z4v("1",0),1]);H2y=U0y.stripPX(u2y.height);z2y=K2y.invert?D2y.params.box.y0:D2y.params.box.y1;k2y=K2y.invert?D2y.params.box.y0 - H2y:D2y.params.box.y1 + H2y;l2y.moveTo(M2y,z2y);l2y.lineTo(M2y,k2y);l2y.stroke();l2y.closePath();};U0y.Marker.Performance.prototype.drawMarker=function(V2y){var E0N=e8ll;var s90,E90,W3m,w2y,F3m,x3m,q3m,f2y,J3m,L3m,s3m,C3m,t3m,B3m,d3m,v2y,o3m,c2y,n3m,e3m,X3m,Y3m,Z2y,i3m;s90="s";s90+="qua";s90+="re";E90="cir";E90+="cl";E90+="e";W3m=V2y.params;w2y=V2y.params.stx;if(!w2y){return;}F3m=w2y.chart;x3m=F3m.dataSegment;if(!x3m.length){return;}q3m=w2y.panels[V2y.params.panelName];f2y=V2y.stxNodeCreator.params;J3m=f2y.type;L3m=f2y.category;s3m=f2y.headline;C3m=f2y.displayCategory;t3m=f2y.color;B3m=f2y.invert;E0N.L4v(108);d3m=E0N.z4v(J3m,L3m,(309.91,5250) < (705,1700)?("83.09" * 1,3599) > ("9744" << 2023546784,682)?(8920,4410) !== 4683?(0x1b91,0x3a1):(![],0x23e9):("c",0xab3):"_","stx_marker_");if(!w2y.styles[d3m]){U0y.Marker.Performance.calculateMarkerStyles(w2y,V2y,d3m);}v2y=V2y.style=w2y.styles[d3m];o3m=w2y.styles.stx_marker_stem;E0N.L4v(89);var R8F=E0N.z4v(2,11,3,45);E0N.E4v(4);var a8F=E0N.X4v(1,5,6);c2y=parseInt(v2y.height,R8F) / a8F;E0N.L4v(72);var Y8F=E0N.X4v(7,2,16,5);E0N.E4v(53);var c8F=E0N.X4v(5,7,0);n3m=parseInt(v2y.width,Y8F) / c8F;e3m=f2y.displayStem?parseInt(o3m.height,10) + parseInt(o3m.marginBottom,10):0;E0N.E4v(3);var U8F=E0N.X4v(9,1);X3m=e3m + parseInt(v2y.height,U8F);Y3m=e3m?e3m + c2y:0;Z2y=w2y.pixelFromDate(W3m.x);i3m=W3m.node.calculateYPosition({marker:V2y,panel:q3m,height:X3m,half:c2y,offset:Y3m,inverted:B3m});if(!V2y.tick && V2y.tick !== 0){return;}W3m.box={x0:Z2y - (n3m || c2y),y0:i3m - c2y,x1:Z2y + (n3m || c2y),y1:i3m + c2y,midY:c2y,midX:n3m || c2y,stemHeight:e3m};if(!C3m){L3m=C3m;}w2y.startClip(q3m.name);if(J3m === E90){U0y.Marker.Performance.drawCircleMarker(V2y,v2y,{x:Z2y,y:i3m,radius:c2y,label:L3m,color:t3m});}else if(J3m === s90){U0y.Marker.Performance.drawSquareMarker(V2y,v2y,{x:Z2y,y:i3m,half:c2y,label:L3m,color:t3m});}else if(J3m === "callout"){U0y.Marker.Performance.drawCalloutMarker(V2y,v2y,{x:Z2y,y:i3m,half:c2y,midWidth:n3m,headline:s3m,color:t3m});}else {E0N.E4v(86);console.warn(E0N.X4v(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: ",J3m));}if(f2y.displayStem){U0y.Marker.Performance.drawMarkerStem(V2y,o3m,{x:Z2y,y:i3m,invert:B3m});}w2y.endClip();if(V2y.attached){this.positionPopUpNode(V2y);}};U0y.Marker.Performance.prototype.positionPopUpNode=function(g3m){var k0N=e8ll;var j3m,b3m,O3m,r3m,a3m,I3m,R3m,g90,m3m,G3m,S3m,p3m,T3m,N3m,P3m,y3m,E3m,h3m,l3m;if(!g3m.attached || !g3m.params.box){return;}j3m=g3m.params;b3m=j3m.stx;O3m=j3m.box;r3m=g3m.params.node.expand;a3m=b3m.chart.dataSet;I3m=b3m.chart.dataSegment;if(g3m.tick){g90="Dat";g90+="e";m3m=[a3m[I3m[0] && I3m[0].tick - +"1"],a3m[I3m[0] && I3m[0].tick - 2]];G3m=b3m.getFirstLastDataRecord(m3m.concat(I3m),g90);k0N.E4v(109);var x8F=k0N.z4v(1,0,7,118,17);S3m=[a3m[I3m[I3m.length - +"1"].tick + +"1"],a3m[I3m[I3m.length - x8F].tick + +"2"]];p3m=b3m.getFirstLastDataRecord(I3m.concat(S3m),"Date",! !{});R3m=G3m.DT <= a3m[g3m.tick].DT && a3m[g3m.tick].DT <= p3m.DT;}else {R3m=! !0;}if(!g3m.highlight && !g3m.active){R3m=![];}r3m.style.visibility=R3m?"":"hidden";if(!R3m){return;}T3m=b3m.panels[j3m.panelName];N3m=r3m.rects;k0N.E4v(110);var q8F=k0N.z4v(23,8,13,14,85614555);P3m=N3m.height / ("2" >> q8F);E3m=g3m.node.params.infoOffset || 0;if(g3m.node.params.infoOnLeft){y3m=O3m.x0 - N3m.width - E3m < T3m.left?O3m.x1 + E3m:O3m.x0 - N3m.width - E3m;}else {y3m=O3m.x0 + N3m.width > T3m.right?O3m.x0 - N3m.width - E3m:O3m.x1 + E3m;}y3m-=b3m.chart.left;h3m=O3m.y0 - P3m >= T3m.top?O3m.y0 + O3m.midY - P3m:O3m.y0;if(!j3m.avoidFlush && O3m.y1 + O3m.stemHeight === T3m.yAxis.bottom && N3m.height > O3m.y1 - O3m.y0 + O3m.stemHeight){h3m=O3m.y1 - N3m.height + O3m.stemHeight;}h3m-=b3m.chart.panel.top;l3m="translateX(" + Math.floor(y3m) + "px) translateY(" + Math.floor(h3m) + "px) translateZ(0)";r3m.style.transform=l3m;r3m.transform={translateX:y3m,translateY:h3m};};U0y.Marker.Performance.prototype.quickCache=function(M3m){e8ll.z2x();var H3m,D3m,K3m,u3m;H3m=M3m.params.node;D3m=H3m.expand;K3m=M3m.style;u3m=U0y.stripPX(K3m.marginLeft) + U0y.stripPX(K3m.marginRight) + U0y.stripPX(K3m.borderRight) + U0y.stripPX(K3m.borderLeft);D3m.rects=D3m.getBoundingClientRect();D3m.scrollBarWidth=D3m.rects.width - D3m.clientWidth - u3m;};U0y.Marker.Performance.prototype.calculateYPosition=function(c3m){var A90,V3m,A3m,v3m,w3m,Q3m,Z3m,z3m,i7m,J7m,k3m,f3m,L7m,U3m,n7m,e7m;e8ll.z2x();A90="t";A90+="o";A90+="p";V3m=c3m.marker;A3m=c3m.panel;v3m=c3m.height;w3m=c3m.half;Q3m=c3m.offset;Z3m=c3m.inverted;z3m=V3m.params.stx;i7m=z3m.chart;J7m=z3m.chart.highLowBars;k3m=i7m.dataSet[V3m.tick];if(!k3m){return;}f3m=J7m?k3m.High:k3m.Close;L7m=V3m.params.yPositioner;switch(L7m){case "value":if(V3m.params.y || V3m.params.y === 0){U3m=z3m.pixelFromPrice(V3m.params.y,A3m) - v3m * 0.5 + w3m;}else {U3m=z3m.pixelFromPrice(f3m,A3m) - Q3m;}break;case "above_candle":U3m=z3m.pixelFromPrice(f3m,A3m) - Q3m;break;case "below_candle":U3m=z3m.pixelFromPrice(k3m.Low || f3m,A3m);if(Z3m && Q3m){U3m+=Q3m;}else {U3m+=w3m;}break;case "on_candle":(n7m=k3m.High || k3m.Close,e7m=k3m.Low || k3m.Low === "0" * 1 || k3m.Close);e8ll.E4v(1);var X8F=e8ll.X4v(12,6,10,14);U3m=z3m.pixelFromPrice((n7m + e7m) / X8F,A3m) - v3m * 0.5 + w3m;break;case A90:U3m=z3m.pixelFromPrice(A3m.yAxis.high,A3m);if(Z3m && Q3m){U3m+=Q3m;}else {U3m+=w3m;}break;case "bottom":U3m=z3m.pixelFromPrice(A3m.yAxis.low,A3m) - (Q3m || w3m);break;default:break;}return U3m;};U0y.Marker.Performance.prototype.prepareForHolder=function(t7m){var W7m,d7m;W7m=this.expand;d7m=t7m.params.stx;W7m.classList.add(this.params.type);e8ll.A2x();d7m.markerHelper.domMarkers.push(t7m);return W7m;};U0y.Marker.Performance.prototype.addToHolder=function(C7m){var T90,q7m,o7m;T90="touc";T90+="hs";T90+="tart";q7m=this.expand;o7m=C7m.params.stx;U0y.Marker.Performance.reconstituteExpanded(o7m);e8ll.z2x();U0y.Marker.Performance.consolidateExpanded(o7m);this.quickCache(C7m);if(q7m.clickClosure){return;}q7m.addEventListener("mousedown",B7m);q7m.addEventListener(T90,B7m,{passive:! !0});q7m.clickClosure=B7m;function B7m(F7m){o7m.activeMarker=C7m;o7m.activeMarker.click({cx:F7m.clientX,cy:F7m.clientY,panel:o7m.currentPanel});F7m.stopPropagation();}};U0y.Marker.Performance.prototype.remove=function(s7m){var x7m,Y7m,O7m,X7m;x7m=s7m.params.stx;if(!x7m){return;}if(!x7m.markerHelper.domMarkers){return;}Y7m=x7m.markerHelper.domMarkers.indexOf(s7m);if(Y7m != -1){e8ll.L4v(19);x7m.markerHelper.domMarkers.splice(Y7m,e8ll.X4v("1",2147483647));}if(s7m.attached){O7m=x7m.panels[s7m.params.panelName];X7m=s7m.params.node.expand;if(X7m.parentNode === O7m.subholder){O7m.subholder.removeChild(X7m);}X7m.removeEventListener("click",X7m.clickClosure);}};U0y.Marker.Performance.prototype.click=function(a7m){var e7D,z5D,h5D,b7m,E7m,I7m;if(!this.hasText){return;}if(typeof arguments[0] === "number"){a7m={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:N7m, cy:j7m, marker:g7m, panel:r7m}=a7m;e7D=-1507224358;z5D=1593668319;h5D=2;e8ll.z2x();for(var W5D=1; e8ll.x4D(W5D.toString(),W5D.toString().length,52926) !== e7D; W5D++){b7m=g7m.params.stx;h5D+=2;}if(e8ll.x4D(h5D.toString(),h5D.toString().length,95607) !== z5D){b7m=g7m.params.stx;}if(g7m.attached){I7m=this.expand;if(I7m.rects.width - I7m.scrollBarWidth + I7m.transform.translateX < b7m.backOutX(N7m) && b7m.backOutX(N7m) < I7m.rects.width + I7m.transform.translateX){return;}this.remove(g7m);}else {b7m.addToHolder(g7m);E7m=! ![];}g7m.attached=!g7m.attached;g7m.active=!g7m.active;if(E7m){g7m.stxNodeCreator.positionPopUpNode(g7m);}};}};n6w= T7m=>{var H90,R7m;H90="und";H90+="efi";H90+="n";e8ll.A2x();H90+="ed";R7m=typeof _CIQ !== H90?_CIQ:T7m.CIQ;R7m.Renderer.OHLC.requestNew=function(K7m, y7m){var h7m,m7m,G7m,S7m,p7m,l7m,z30,e90,D7m;h7m=null;m7m=y7m.hlc;e8ll.A2x();G7m=y7m.colored;S7m=y7m.hollow;p7m=y7m.volume;l7m=y7m.histogram;for(var P7m=0; P7m < K7m.length; P7m++){z30="h";z30+="l";z30+="c";e90="b";e90+="a";e90+="r";D7m=K7m[P7m];switch(D7m){case e90:case "candle":h7m=D7m;break;case "volume":p7m=! ![];break;case "hollow":S7m=! ![];break;case "colored":G7m=! !"1";break;case "histogram":l7m=! ![];h7m="candle";break;case z30:m7m=! ![];h7m="bar";break;default:return null;}}if(h7m === null){return null;}return new R7m.Renderer.OHLC({params:R7m.extend(y7m,{type:h7m,hlc:m7m,colored:G7m,hollow:S7m,volume:p7m,histogram:l7m})});};R7m.Renderer.OHLC.getChartParts=function(Q7m, k7m){var x30,U30,c30,Y30,a30,R30,S30,D30,J30,u30,L30,N30,B30,O30,w30,F30,n30,j30,v30,r30,f30,b30,Q30,G30,W30,t30,h30,u7m,U7m,A7m,M7m,H7m,z7m;x30="border_c";x30+="ol";x30+="or_even";U30="bord";U30+="er_color_d";U30+="own";c30="fil";c30+="l_color";c30+="_up";Y30="fi";Y30+="ll_color_eve";Y30+="n";a30="fill_c";a30+="o";a30+="l";a30+="or_up";R30="cand";R30+="l";R30+="e";S30="s";S30+="tx_";S30+="hollow_candle_ev";S30+="en";D30="bo";D30+="rder_color";D30+="_do";D30+="wn";J30="s";J30+="ha";J30+="d";J30+="ow";u30="stx_";u30+="hollow_candle";u30+="_u";u30+="p";L30="s";L30+="hadow";N30="fill_c";N30+="olor_up";B30="stx_";B30+="candle_up";O30="can";O30+="d";O30+="l";O30+="e";w30="b";w30+="order_col";w30+="or_even";F30="stx_can";F30+="dle_shadow_even";n30="c";n30+="a";n30+="ndl";n30+="e";j30="stx_candle_";j30+="shadow";e8ll.A2x();j30+="_u";j30+="p";v30="sha";v30+="do";v30+="w";r30="c";r30+="a";r30+="ndl";r30+="e";f30="b";f30+="a";f30+="r";b30="borde";b30+="r_colo";b30+="r";Q30="b";Q30+="a";Q30+="r";G30="bor";G30+="der_color_even";W30="s";W30+="tx_histogram";W30+="_ev";W30+="en";t30="h";t30+="ist";t30+="og";t30+="ram";h30="his";h30+="togr";h30+="am";u7m=1;U7m=2;A7m=4;M7m=+"8";H7m=16;z7m=32;return [{type:"histogram",drawType:h30,style:"stx_histogram_up",condition:M7m,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:H7m,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1,useBorderStyleProp:! !{}},{type:"histogram",drawType:t30,style:W30,condition:z7m,fill:"fill_color_even",border:G30,skipIfPass:!"",useColorInMap:!0,useBorderStyleProp:! !{}},{type:Q30,drawType:"bar",style:Q7m || "stx_bar_chart",border:b30,useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:k7m?M7m:u7m,border:"border_color_up",useColorInMap:! !"1"},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:k7m?H7m:U7m,border:"border_color_down",useColorInMap:!""},{type:f30,drawType:"bar",style:"stx_bar_even",condition:k7m?z7m:A7m,border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{}},{type:r30,drawType:v30,style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:j30,condition:M7m,border:"border_color_up"},{type:n30,drawType:"shadow",style:"stx_candle_shadow_down",condition:H7m,border:"border_color_down"},{type:"candle",drawType:"shadow",style:F30,condition:z7m,border:w30,skipIfPass:!0},{type:O30,drawType:"candle",style:B30,condition:M7m,fill:N30,border:"border_color_up",useColorInMap:! ![],useBorderStyleProp:! !1},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:H7m,fill:"fill_color_down",border:"border_color_down",useColorInMap:!"",useBorderStyleProp:!""},{type:"hollow",drawType:L30,style:u30,condition:u7m,border:"border_color_up"},{type:"hollow",drawType:J30,style:"stx_hollow_candle_down",condition:U7m,border:D30},{type:"hollow",drawType:"shadow",style:S30,condition:A7m,border:"border_color_even",skipIfPass:! !{}},{type:"hollow",drawType:R30,style:"stx_hollow_candle_up",condition:u7m | H7m,fill:a30,border:"border_color_up",useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:U7m | H7m,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:A7m | H7m,fill:Y30,border:"border_color_even",skipIfPass:! !"1",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:u7m | M7m,fill:c30,border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:U7m | M7m,fill:"fill_color_down",border:U30},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:A7m | M7m,fill:"fill_color_even",border:x30}];;};R7m.Renderer.Bars=function(c7m){var V7m;this.construct(c7m);V7m=this.params;V7m.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};V7m.hlc=V7m.volume=V7m.hollow=V7m.histogram=! !0;};R7m.inheritsFrom(R7m.Renderer.Bars,R7m.Renderer.OHLC,!"1");R7m.Renderer.HLC=function(f7m){var q30,w7m;q30="b";q30+="a";q30+="r";this.construct(f7m);w7m=this.params;w7m.type=q30;w7m.hlc=! !{};e8ll.A2x();this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];w7m.volume=w7m.hollow=w7m.histogram=![];};R7m.inheritsFrom(R7m.Renderer.HLC,R7m.Renderer.Bars,! !0);R7m.Renderer.Shading=function(v7m){var X30;X30="ran";X30+="gechannel";this.construct(v7m);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == X30){this.highLowBars=! !1;}};R7m.inheritsFrom(R7m.Renderer.Shading,R7m.Renderer.Lines,![]);R7m.Renderer.Shading.requestNew=function(n8m, e8m){var Z7m,J8m,i30,L8m;Z7m=null;J8m=null;for(var i8m=0; i8m < n8m.length; i8m++){i30="rangec";i30+="h";i30+="a";i30+="nnel";L8m=n8m[i8m];if(L8m == i30){Z7m="rangechannel";}else if(L8m == "step"){J8m=! !{};}}if(Z7m === null){return null;}return new R7m.Renderer.Shading({params:R7m.extend(e8m,{type:Z7m,step:J8m})});};R7m.Renderer.Shading.prototype.setShading=function(W8m){e8ll.A2x();if(W8m.constructor != Array){W8m=[W8m];}this.shading=W8m;};R7m.Renderer.Shading.prototype.draw=function(){var m30,q8m,t8m,C8m,p30,d30,l30,C30,Z30,b8m,F8m,N8m,X8m,a8m,B8m,o8m,Y8m,O8m,E8m,K30,k30,M30,I30,d8m,s8m,g8m,I8m,x8m;m30="range";m30+="channel";q8m=this.stx;t8m=this.params;C8m=q8m.panels[t8m.panel].chart;if(t8m.type == m30){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {p30="stx_";p30+="line_down";d30="S";d30+="ha";d30+="din";d30+="g";l30="L";l30+="o";l30+="w";C30="Shad";C30+="ing";Z30="H";Z30+="ig";Z30+="h";this.beenSetup=! ![];t8m.display=this.seriesParams[0].display;t8m.yAxis=this.seriesParams[0].yAxis;b8m=this.seriesParams[0].color || "auto";F8m=this.seriesParams[0].symbol;N8m="";if(F8m){e8ll.L4v(3);N8m=e8ll.X4v(".",F8m);}this.removeAllSeries(! !"1");X8m=t8m.name;q8m.addSeries(null,{symbol:F8m,loadData:! !F8m,field:Z30,renderer:C30,name:X8m,style:"stx_line_up",display:t8m.display,shareYAxis:! !{}});q8m.addSeries(null,{symbol:F8m,loadData:! !F8m,field:l30,renderer:d30,name:X8m,style:p30,display:t8m.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[+"1"].id,color:b8m});}}function j8m(T8m){var r8m,y8m,R8m;r8m=B8m[T8m];e8ll.z2x();if(r8m){y8m=r8m.parameters.field;R8m=r8m.parameters.subField;e8ll.L4v(3);return e8ll.z4v(R8m?(("6940" ^ 0) < (9226,6053)?(962.81,! !""):1850 < (8291,293.67)?!"":".") + R8m:"",y8m);}return T8m;}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");a8m=this;this.errTimeout=setTimeout(function(){a8m.errTimeout=null;},10000);}}B8m={};for(o8m=0; o8m < this.seriesParams.length; o8m++){Y8m={};if(C8m.series[this.seriesParams[o8m].id]){Y8m=R7m.clone(C8m.series[this.seriesParams[o8m].id].parameters);}B8m[this.seriesParams[o8m].id]={parameters:R7m.extend(R7m.extend(Y8m,t8m),this.seriesParams[o8m]),yValueCache:this.caches[this.seriesParams[o8m].id]};}q8m.drawSeries(C8m,B8m,t8m.yAxis,this);if(C8m.legend && t8m.type == "rangechannel"){if(!C8m.legend.colorMap){C8m.legend.colorMap={};}O8m=t8m.display;E8m=[q8m.getCanvasColor("stx_line_up"),q8m.getCanvasColor("stx_line_down")];C8m.legend.colorMap[O8m]={color:E8m,display:O8m,isBase:this == q8m.mainSeriesRenderer};;}for(o8m in B8m){this.caches[o8m]=B8m[o8m].yValueCache;}for(o8m=0; o8m < this.shading.length; o8m++){K30="C";K30+="lo";K30+="s";K30+="e";k30="Cl";k30+="os";k30+="e";M30="Clos";M30+="e";I30="a";I30+="u";I30+="t";I30+="o";d8m=this.shading[o8m];s8m=d8m.color;if(d8m.color == I30){s8m=q8m.defaultColor;}if(!d8m.primary){d8m.primary=M30;}if(!d8m.secondary && this.seriesParams[0]){d8m.secondary=this.seriesParams["0" | 0].field;}if(!d8m.secondary)continue;else if(!B8m[d8m.primary] && d8m.primary != k30)continue;else if(!B8m[d8m.secondary])continue;else if(d8m.primary == "Close" && t8m.yAxis && t8m.yAxis != C8m.yAxis)continue;g8m=j8m(d8m.primary).split((504,4365) != (4120,8789)?".":160.15);I8m=j8m(d8m.secondary).split((14.46,+"9940") !== 4907?(+"2951",+"156.04") != 201.85?".":(125.45,+"0x168f"):("B","d"));x8m={topBand:g8m[0],topSubBand:g8m[1],topColor:d8m.greater || s8m || q8m.containerColor,topAxis:t8m.yAxis,bottomBand:I8m[0],bottomSubBand:I8m[1],bottomColor:d8m.lesser || s8m || q8m.containerColor,bottomAxis:d8m.primary == K30?null:t8m.yAxis,tension:t8m.tension || C8m.tension,opacity:"0.1" - 0,step:t8m.step};if(!x8m.topColor && !x8m.bottomColor)continue;if(!t8m.highlight && q8m.highlightedDraggable){x8m.opacity*=0.3;}R7m.fillIntersecting(q8m,t8m.panel,x8m);}};R7m.Renderer.Histogram=function(h8m){this.construct(h8m);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !{};if(this.params.yAxis){this.params.bindToYAxis=!"";if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};R7m.inheritsFrom(R7m.Renderer.Histogram,R7m.Renderer,!{});R7m.Renderer.Histogram.prototype.adjustYAxis=function(){var P8m;e8ll.A2x();P8m=this.params.yAxis;if(!P8m || P8m.baseline){return;}P8m.min=0;P8m.highValue/=this.params.heightPercentage || 1;};R7m.Renderer.Histogram.prototype.draw=function(){var m8m,G8m,P30,o30,S8m,p8m;m8m=R7m.clone(this.params);m8m.type=m8m.subtype;this.useSum=m8m.subtype == "stacked";if(!m8m.yAxis || m8m.yAxis == this.stx.chart.yAxis){m8m.bindToYAxis=! !1;}this.stx.drawHistogram(m8m,this.seriesParams);G8m=m8m.yAxis && m8m.yAxis.baseline;if(G8m && G8m.color){P30="destinatio";P30+="n-ov";P30+="er";o30="l";o30+="i";o30+="n";o30+="e";S8m=this.stx.panels[this.params.panel];p8m=this.stx.pixelFromPrice(G8m.value,S8m,this.params.yAxis) - 0.5;this.stx.plotLine({x0:S8m.left,x1:S8m.right,y0:p8m,y1:p8m,color:G8m.color,type:o30,context:S8m.chart.context,confineToPanel:S8m,pattern:G8m.pattern || "solid",lineWidth:G8m.lineWidth || 1,opacity:G8m.opacity || 0.8,globalCompositeOperation:P30});}};R7m.Renderer.Histogram.prototype.getBasis=function(H8m, u8m, U8m){var K8m,M8m,l8m;e8ll.z2x();e8ll.L4v(15);K8m=e8ll.X4v(1,"0");if(H8m && this.useSum){for(var D8m=0; D8m < this.seriesParams.length; D8m++){M8m=this.seriesParams[D8m].field;if(M8m === u8m)break;l8m=H8m[M8m];if(l8m && typeof l8m === "object"){l8m=l8m[U8m || this.seriesParams[D8m].subField || this.stx.chart.defaultPlotField || "Close"];}if(l8m){K8m+=l8m;}}}return K8m;};R7m.Renderer.Heatmap=function(A8m){this.construct(A8m);this.params.type="heatmap";this.params.highlightable=! !"";this.barsHaveWidth=this.standaloneBars=! !{};};R7m.inheritsFrom(R7m.Renderer.Heatmap,R7m.Renderer,![]);R7m.Renderer.Heatmap.requestNew=function(Q8m, c8m){var z8m,V30,V8m,a8D,Y8D,c8D;z8m=null;for(var k8m=0; k8m < Q8m.length; k8m++){V30="he";V30+="atmap";V8m=Q8m[k8m];if(V8m == "heatmap"){z8m=V30;}}if(z8m === null){return null;}a8D=552155543;Y8D=589496162;c8D=2;e8ll.A2x();for(var x8D=+"1"; e8ll.x4D(x8D.toString(),x8D.toString().length,35882) !== a8D; x8D++){return new R7m.Renderer.Heatmap({params:R7m.extend(c8m,{type:z8m})});}if(e8ll.x4D(c8D.toString(),c8D.toString().length,"42989" * 1) !== Y8D){return new R7m.Renderer.Heatmap({params:R7m.extend(c8m,{type:z8m})});}return new R7m.Renderer.Heatmap({params:R7m.extend(c8m,{type:z8m})});};R7m.Renderer.Heatmap.prototype.draw=function(){e8ll.z2x();this.stx.drawHeatmap(R7m.clone(this.params),this.seriesParams);};R7m.Renderer.Scatter=function(w8m){this.construct(w8m);e8ll.A2x();this.standaloneBars=this.barsHaveWidth=!0;this.bounded=! !{};};R7m.inheritsFrom(R7m.Renderer.Scatter,R7m.Renderer.Lines,!1);R7m.Renderer.Scatter.requestNew=function(Z8m, J5m){var f8m,i5m;f8m=null;for(var v8m=0; v8m < Z8m.length; v8m++){i5m=Z8m[v8m];if(i5m == "scatterplot"){f8m="scatter";}}if(f8m === null){return null;}e8ll.z2x();return new R7m.Renderer.Scatter({params:R7m.extend(J5m,{type:f8m})});};R7m.Renderer.Scatter.prototype.drawIndividualSeries=function(W5m, n5m){e8ll.z2x();var e5m,L5m;e5m=this.stx.panels[n5m.panel] || W5m.panel;L5m={colors:[]};if(this.stx.scatter){L5m=this.stx.scatter(e5m,n5m);}else {console.warn("Error, Scatter renderer requires customChart.js");}return L5m;};};e6w= d5m=>{var t5m,y30,E30;t5m=typeof _CIQ !== "undefined"?_CIQ:d5m.CIQ;if(!t5m.Studies){y30="accumulationDistrib";y30+="utio";y30+="n feature requires first activa";y30+="ting studies feature.";console.error(y30);}else {E30="Accumula";E30+="ti";E30+="on/Distribut";E30+="ion";t5m.Studies.calculateAccumulationDistribution=function(X5m, B5m){var T0N=e8ll;var K0D,o0D,P0D,s5m,o5m,C5m,F5m,x5m;K0D=961933626;T0N.A2x();o0D=1482027367;P0D=2;for(var y0D="1" ^ 0; T0N.x4D(y0D.toString(),y0D.toString().length,47065) !== K0D; y0D++){s5m=B5m.chart.scrubbed;P0D+=2;}if(T0N.q4D(P0D.toString(),P0D.toString().length,"89624" << 24218496) !== o0D){s5m=B5m.chart.scrubbed;}for(var q5m=B5m.startFrom; q5m < s5m.length; q5m++){if(!q5m)continue;o5m=s5m[q5m];if(o5m.futureTick)break;T0N.E4v(5);C5m=s5m[T0N.z4v(q5m,1)];F5m=0;if(o5m.Close > C5m.Close){F5m=o5m.Close - Math.min(o5m.Low,C5m.Close);}else if(o5m.Close < C5m.Close){F5m=o5m.Close - Math.max(o5m.High,C5m.Close);}if(B5m.inputs["Use Volume"]){F5m*=o5m.Volume;}x5m=C5m["Result " + B5m.name];if(!x5m){x5m=0;}x5m+=F5m;if(!isNaN(o5m.Close)){o5m["Result " + B5m.name]=x5m;}}};t5m.Studies.studyLibrary=t5m.extend(t5m.Studies.studyLibrary,{"W Acc Dist":{name:E30,calculateFN:t5m.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":![]}}});}};W6w= O5m=>{var s30,Y5m,g30;s30="undefi";s30+="ned";Y5m=typeof _CIQ !== s30?_CIQ:O5m.CIQ;if(!Y5m.Studies){g30="adx feat";g30+="ure requir";g30+="es first activating studies feat";g30+="ure.";console.error(g30);}else {Y5m.Studies.calculateADX=function(l5m, g5m){var g0N=e8ll;var N5m,a5m,E5m,T5m,y5m,h5m,P5m,I5m,H30,j5m,r5m,A30,T30,m5m,G5m,S5m,e30,z40,h40,p5m,W40,t40;Y5m.Studies.calculateStudyATR(l5m,g5m);N5m=g5m.chart.scrubbed;a5m=g5m.days;E5m=parseInt(g5m.inputs["Smoothing Period"],10);if(!E5m && E5m !== 0){E5m=a5m;}if(N5m.length < g5m.days + 1){g5m.error=!"";return;}T5m=+"0";y5m=0;h5m=0;P5m=+"0";for(var b5m=Math.max(1,g5m.startFrom); b5m < N5m.length; b5m++){H30="-DI";H30+=" ";I5m=N5m[b5m];j5m=Math.max(0,I5m.High - N5m[b5m - 1].High);r5m=Math.max(0,N5m[b5m - 1].Low - I5m.Low);if(j5m > r5m){r5m=+"0";}else if(r5m > j5m){j5m=0;}else {j5m=r5m=0;}if(b5m <= a5m){A30="True Ra";A30+="nge ";y5m+=j5m;h5m+=r5m;T5m+=I5m[A30 + g5m.name];}else {T30="_";T30+="smT";T30+="R ";g0N.E4v(72);var i8F=g0N.X4v(15,17,17,15);g0N.L4v(111);var m8F=g0N.z4v(0,17,1,16);y5m=N5m[b5m - i8F]["_sm+DM " + g5m.name] * (a5m - m8F) / a5m + j5m;g0N.L4v(5);var Z8F=g0N.X4v(6,5);g0N.E4v(112);var C8F=g0N.X4v(6,11,20,2,36);h5m=N5m[b5m - Z8F]["_sm-DM " + g5m.name] * (a5m - C8F) / a5m + r5m;g0N.E4v(40);var l8F=g0N.X4v(17,18);g0N.E4v(62);var d8F=g0N.z4v(16,159,10);T5m=N5m[b5m - l8F][T30 + g5m.name] * (a5m - d8F) / a5m + I5m["True Range " + g5m.name];}I5m["_sm+DM " + g5m.name]=y5m;I5m["_sm-DM " + g5m.name]=h5m;I5m["_smTR " + g5m.name]=T5m;if(b5m < a5m)continue;g0N.E4v(100);m5m=g0N.X4v(T5m,100,y5m);g0N.E4v(100);G5m=g0N.X4v(T5m,100,h5m);S5m=+"100" * Math.abs(m5m - G5m) / (m5m + G5m);I5m["+DI " + g5m.name]=m5m;I5m[H30 + g5m.name]=G5m;if(g5m.inputs.Series !== !{} && E5m){if(b5m < a5m + E5m - "1" * 1){if(b5m == g5m.startFrom){for(var R5m=a5m; R5m < g5m.startFrom; R5m++){g0N.L4v(57);var p8F=g0N.z4v(45,90,98);P5m+=p8F * Math.abs(N5m[R5m]["+DI " + g5m.name] - N5m[R5m]["-DI " + g5m.name]) / (N5m[R5m]["+DI " + g5m.name] + N5m[R5m]["-DI " + g5m.name]);}}P5m+=S5m;}else if(b5m == a5m + E5m - 1){e30="A";e30+="DX";e30+=" ";g0N.E4v(9);I5m[e30 + g5m.name]=g0N.X4v(P5m,E5m);}else {z40="A";z40+="D";z40+="X";z40+=" ";g0N.E4v(10);var I8F=g0N.X4v(24,15,8);g0N.E4v(113);var M8F=g0N.z4v(6,11,126,10,21);I5m[z40 + g5m.name]=(N5m[b5m - I8F]["ADX " + g5m.name] * (E5m - M8F) + S5m) / E5m;}}if(g5m.inputs.Histogram){h40="-D";h40+="I";h40+=" ";p5m=g5m.name + "_hist";if(!I5m["+DI " + g5m.name] && I5m["+DI " + g5m.name] !== "0" - 0)continue;if(!I5m["-DI " + g5m.name] && I5m[h40 + g5m.name] !== 0)continue;I5m[p5m]=I5m["+DI " + g5m.name] - I5m["-DI " + g5m.name];if(g5m.inputs.Series === ![]){W40="-";W40+="D";W40+="I";W40+=" ";t40="+";t40+="D";t40+="I";t40+=" ";I5m[t40 + g5m.name]=null;I5m[W40 + g5m.name]=null;}g5m.outputMap[p5m]="";}}};Y5m.Studies.displayADX=function(K5m, D5m, A5m){var z5m,G40,M5m,H5m,k5m,Q5m,u5m,U5m;z5m=D5m.underlay?0.3:D5m.inputs.Series?0.4:1;if(D5m.inputs.Series && D5m.inputs.Shading){G40="-";G40+="DI";G40+=" ";M5m="+DI " + D5m.name;H5m=G40 + D5m.name;k5m=Y5m.Studies.determineColor(D5m.outputs[D5m.outputMap[M5m]]);Q5m=Y5m.Studies.determineColor(D5m.outputs[D5m.outputMap[H5m]]);u5m=D5m.getYAxis(K5m);U5m={topBand:M5m,bottomBand:H5m,topColor:k5m,bottomColor:Q5m,skipTransform:K5m.panels[D5m.panel].name != D5m.chart.name,topAxis:u5m,bottomAxis:u5m,opacity:+"0.3"};if(!D5m.highlight && K5m.highlightedDraggable){e8ll.L4v(15);U5m.opacity*=e8ll.z4v(1,"0.3");}Y5m.fillIntersecting(K5m,D5m.panel,U5m);}if(D5m.inputs.Histogram){Y5m.Studies.createHistogram(K5m,D5m,A5m,!1,z5m);}if(D5m.inputs.Series !== ! !0){Y5m.Studies.displaySeriesAsLine(K5m,D5m,A5m);}else if(!D5m.inputs.Series && !D5m.inputs.Histogram){K5m.displayErrorAsWatermark(D5m.panel,K5m.translateIf(D5m.name) + ": " + K5m.translateIf("Nothing to display"));}};Y5m.Studies.studyLibrary=Y5m.extend(Y5m.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:Y5m.Studies.calculateADX,seriesFN:Y5m.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:!"1",Histogram:! !""},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};t6w= c5m=>{var Q40,V5m,b40,U40,c40,Y40;Q40="u";Q40+="ndefined";e8ll.z2x();V5m=typeof _CIQ !== Q40?_CIQ:c5m.CIQ;if(!V5m.Studies){b40="alligator featu";b40+="re requires first activating studies feature.";console.error(b40);}else {U40="#00";U40+="DD00";c40="Gator";c40+=" Oscil";c40+="lator";Y40="#0";Y40+="000FF";V5m.Studies.calculateAlligator=function(n1m, v5m){var b0N=e8ll;var f40,Z5m,w5m,j40,v40,r40,n40,F40,J1m,L1m,i1m,w40;f40="G";f40+="a";f40+="to";f40+="r";Z5m={J:Number(v5m.inputs["Jaw Period"]),T:Number(v5m.inputs["Teeth Period"]),L:Number(v5m.inputs["Lips Period"])};w5m=v5m.chart.scrubbed;if(w5m.length < Math.max(Z5m.J,Z5m.T,Z5m.L) + 1){v5m.error=! ![];return;}if(v5m.type === f40 || v5m.inputs["Show Lines"]){j40="L";j40+="ips";v40="Teeth ";v40+="Off";v40+="set";r40="Ja";r40+="w Of";r40+="fset";V5m.Studies.MA("welles wilder",Z5m.J,"hl/2",v5m.inputs[r40],"Jaw",n1m,v5m);V5m.Studies.MA("welles wilder",Z5m.T,"hl/2",v5m.inputs[v40],"Teeth",n1m,v5m);V5m.Studies.MA("welles wilder",Z5m.L,"hl/2",v5m.inputs["Lips Offset"],j40,n1m,v5m);}b0N.A2x();for(var f5m=v5m.startFrom; f5m < w5m.length; f5m++){n40="G";n40+="a";n40+="to";n40+="r";if(!w5m[f5m])continue;if(v5m.type == n40){F40="_";F40+="his";F40+="t1";J1m=w5m[f5m]["Jaw " + v5m.name];L1m=w5m[f5m]["Lips " + v5m.name];i1m=w5m[f5m]["Teeth " + v5m.name];if(i1m || i1m === 0){if(J1m || J1m === +"0"){b0N.E4v(5);w5m[f5m][v5m.name + "_hist1"]=Math.abs(b0N.X4v(J1m,i1m));}if(L1m || L1m === 0){b0N.L4v(5);w5m[f5m][v5m.name + "_hist2"]=-Math.abs(b0N.z4v(i1m,L1m));}}v5m.outputMap={};v5m.outputMap[v5m.name + F40]="";v5m.outputMap[v5m.name + "_hist2"]="";}if(v5m.inputs["Show Fractals"]){if(!w5m[f5m - ("2" - 0)] || !w5m[f5m - ("1" << 2046630624)] || !w5m[f5m] || !w5m[f5m + 1] || !w5m[f5m + 2])continue;if(w5m[f5m - 2].High && w5m[f5m - 1].High && w5m[f5m].High && w5m[f5m + 1].High && w5m[f5m + ("2" << 808924544)].High){if(w5m[f5m].High > w5m[f5m - 1].High && w5m[f5m].High > w5m[f5m - 2].High && w5m[f5m].High > w5m[f5m + 1].High && w5m[f5m].High > w5m[f5m + 2].High){w5m[f5m]["Fractal High " + v5m.name]=1;}}if(w5m[f5m - 2].Low && w5m[f5m - 1].Low && w5m[f5m].Low && w5m[f5m + 1].Low && w5m[f5m + 2].Low){if(w5m[f5m].Low < w5m[f5m - 1].Low && w5m[f5m].Low < w5m[f5m - 2].Low && w5m[f5m].Low < w5m[f5m + 1].Low && w5m[f5m].Low < w5m[f5m + 2].Low){w40="Fractal";w40+=" Low ";w5m[f5m][w40 + v5m.name]=1;}}}}};V5m.Studies.displayAlligator=function(e1m, d1m, o1m){var W1m,u40,L40,N40;W1m=d1m.getContext(e1m);e8ll.z2x();if(d1m.inputs["Show Lines"]){V5m.Studies.displaySeriesAsLine(e1m,d1m,o1m);}if(d1m.inputs["Show Fractals"]){e1m.startClip();W1m.globalAlpha=d1m.underlay?"0.3" * 1:1;if(!d1m.highlight && e1m.highlightedDraggable){W1m.globalAlpha*=0.3;}for(var t1m="2" | 2; t1m < o1m.length - 2; t1m++){if(o1m[t1m]){u40="l";u40+="ow";L40="hi";L40+="g";L40+="h";N40="Fra";N40+="ctal Hig";N40+="h ";if(o1m[t1m][N40 + d1m.name]){q1m(L40,t1m);}if(o1m[t1m]["Fractal Low " + d1m.name]){q1m(u40,t1m);}}}e1m.endClip();}function q1m(F1m, x1m){var B1m,C1m,O40,B40;C1m=e1m.chart.panel.yAxis.flipped;if(F1m == "high"){O40="bot";O40+="to";O40+="m";W1m.fillStyle=e1m.defaultColor;W1m.textBaseline=C1m?"top":O40;B1m=e1m.pixelFromPrice(o1m[x1m].High);W1m.fillText(C1m?978.93 < (+"8230",+"148")?0x12cd:3130 >= 7930?(! !{},"645.59" * 1):"\u25BC":"\u25B2",e1m.pixelFromBar(t1m,e1m.chart) - W1m.measureText("\u25B2").width / 2 + 1,C1m?B1m + 5:B1m - 5);;}else if(F1m == "low"){B40="b";B40+="otto";B40+="m";W1m.fillStyle=e1m.defaultColor;W1m.textBaseline=C1m?B40:"top";B1m=e1m.pixelFromPrice(o1m[x1m].Low);W1m.fillText(C1m?"94.07" - 0 < (544.38,199.26)?(880.62,873.31) !== +"5451"?"\u25B2":(8130,9380) == (178.19,666.13)?("A",5.66e+3):112.83:(![],"K"):"\u25BC",e1m.pixelFromBar(t1m,e1m.chart) - W1m.measureText("\u25BC").width / 2 + ("1" << 2118188128),C1m?B1m - 5:B1m + 5);;}}};V5m.Studies.displayGator=function(X1m, s1m, E1m){var t0N=e8ll;var J40,a1m,O1m,j1m,r1m,b1m,R1m,T1m,I1m,N1m,a40,R40,S40,D40;J40="Increas";J40+="i";J40+="ng Bar";a1m=X1m.panels[s1m.panel];O1m=s1m.getContext(X1m);j1m=s1m.getYAxis(X1m);r1m=X1m.pixelFromPrice(0,a1m,j1m);t0N.E4v(67);var k8F=t0N.z4v(0,156,12,13,1);b1m=X1m.layout.candleWidth - k8F;if(b1m < +"2"){b1m=1;}R1m=V5m.Studies.determineColor(s1m.outputs[J40]);T1m=V5m.Studies.determineColor(s1m.outputs["Decreasing Bar"]);X1m.canvasColor("stx_histogram");if(!s1m.underlay){O1m.globalAlpha=1;}O1m.fillStyle="#CCCCCC";X1m.startClip(s1m.panel);if(!s1m.highlight && X1m.highlightedDraggable){O1m.globalAlpha*=0.3;}for(var g1m=0; g1m < E1m.length; g1m++){I1m=E1m[g1m];t0N.E4v(84);N1m=E1m[t0N.z4v("1",g1m)];if(!I1m)continue;for(var Y1m=1; Y1m <= 2; Y1m++){a40="_";a40+="hist";R40="_";R40+="h";R40+="i";R40+="st";S40="_h";S40+="i";S40+="s";S40+="t";D40="_h";D40+="ist";if(!N1m){N1m=X1m.getPreviousBar(X1m.chart,s1m.name + D40 + Y1m,g1m);}if(!N1m){O1m.fillStyle="#CCCCCC";}else if(Math.abs(N1m[s1m.name + "_hist" + Y1m]) < Math.abs(I1m[s1m.name + S40 + Y1m])){O1m.fillStyle=R1m;}else if(Math.abs(N1m[s1m.name + R40 + Y1m]) > Math.abs(I1m[s1m.name + a40 + Y1m])){O1m.fillStyle=T1m;}if(I1m.candleWidth){b1m=Math.floor(Math.max(1,I1m.candleWidth - 2));}O1m.fillRect(Math.floor(X1m.pixelFromBar(g1m,a1m.chart) - b1m / 2),Math.floor(r1m),Math.floor(b1m),Math.floor(X1m.pixelFromPrice(I1m[s1m.name + "_hist" + Y1m],a1m,j1m) - r1m));}}X1m.endClip();};V5m.Studies.studyLibrary=V5m.extend(V5m.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:V5m.Studies.displayAlligator,calculateFN:V5m.Studies.calculateAlligator,inputs:{"Show Lines":! ![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":+"5","Lips Period":+"5","Lips Offset":"3" & 2147483647,"Show Fractals":!1},outputs:{Jaw:Y40,Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:c40,seriesFN:V5m.Studies.displayGator,calculateFN:V5m.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3"},outputs:{"Increasing Bar":U40,"Decreasing Bar":"#FF0000"},centerline:0}});}};d6w= h1m=>{var x40,y1m,q40,m40,i40;x40="un";x40+="de";x40+="fin";x40+="ed";y1m=typeof _CIQ !== x40?_CIQ:h1m.CIQ;if(!y1m.Studies){q40="aroon feature requires first";q40+=" ac";q40+="tivati";q40+="ng studies feature.";console.error(q40);}else {m40="a";m40+="u";m40+="to";i40="0 to ";i40+="100";y1m.Studies.calculateAroon=function(k1m, P1m){var a0N=e8ll;var l1m,D1m,K1m,G1m,S1m,H1m,p1m,X40,m1m,u1m,U1m,A1m,z1m;l1m=P1m.chart.scrubbed;if(l1m.length < P1m.days + +"1"){P1m.error=! ![];return;}D1m=0;K1m=0;G1m=null;S1m=null;if(P1m.startFrom > 0){a0N.L4v(3);var K8F=a0N.z4v(1,0);H1m=l1m[P1m.startFrom - K8F]["_state " + P1m.name];if(H1m){D1m=H1m[0];K1m=H1m[1];G1m=H1m[2];S1m=H1m[3];}}a0N.z2x();for(var M1m=P1m.startFrom; M1m < l1m.length; M1m++){X40="Ar";X40+="o";X40+="on Up ";m1m=l1m[M1m];if(m1m.futureTick)break;if(G1m === null){G1m=m1m.High;}if(S1m === null){S1m=m1m.Low;}G1m=Math.max(G1m,m1m.High);if(G1m == m1m.High){D1m=0;}else {D1m++;if(D1m > P1m.days){G1m=m1m.High;D1m=0;for(p1m=1; p1m <= P1m.days; p1m++){G1m=Math.max(G1m,l1m[M1m - p1m].High);if(G1m == l1m[M1m - p1m].High){D1m=p1m;}}}}S1m=Math.min(S1m,m1m.Low);if(S1m == m1m.Low){K1m=0;}else {K1m++;if(K1m > P1m.days){S1m=m1m.Low;K1m=0;for(p1m=+"1"; p1m <= P1m.days; p1m++){S1m=Math.min(S1m,l1m[M1m - p1m].Low);if(S1m == l1m[M1m - p1m].Low){K1m=p1m;}}}}u1m=!isNaN(m1m.High);U1m=!isNaN(m1m.Low);a0N.E4v(5);var o8F=a0N.z4v(300,200);A1m=o8F * (+"1" - D1m / P1m.days);if(u1m){m1m[X40 + P1m.name]=A1m;}a0N.L4v(37);var P8F=a0N.z4v(998,12,92,6);a0N.E4v(114);var V8F=a0N.z4v(5,19,0,31,7);z1m=P8F * (V8F - K1m / P1m.days);if(U1m){m1m["Aroon Down " + P1m.name]=z1m;}if(u1m && U1m){m1m["Aroon Oscillator " + P1m.name]=m1m["Aroon Up " + P1m.name] - m1m["Aroon Down " + P1m.name];}m1m["_state " + P1m.name]=[D1m,K1m,G1m,S1m];}};y1m.Studies.studyLibrary=y1m.extend(y1m.Studies.studyLibrary,{Aroon:{name:"Aroon",range:i40,calculateFN:y1m.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:y1m.Studies.calculateAroon,outputs:{"Aroon Oscillator":m40}}});}};o6w= V1m=>{var Q1m,e40,H40,n7D,F7D,w7D,s40,E40,y40,V40,P40,o40,K40,k40,M40,T40,A40,g40;Q1m=typeof _CIQ !== "undefined"?_CIQ:V1m.CIQ;e8ll.z2x();if(!Q1m.Studies){console.error("atr feature requires first activating studies feature.");}else {e40="a";e40+="u";e40+="t";e40+="o";H40="a";H40+="ut";H40+="o";Q1m.Studies.calculateATRBands=function(f1m, c1m){var w1m;Q1m.Studies.calculateStudyATR(f1m,c1m);w1m=c1m.inputs.Field;if(!w1m || w1m == "field"){w1m="Close";}e8ll.A2x();Q1m.Studies.calculateGenericEnvelope(f1m,c1m,c1m.inputs.Shift,w1m,"ATR " + c1m.name);};Q1m.Studies.calculateSTARCBands=function(Z1m, v1m){var C40,Z40;C40="A";C40+="TR";C40+=" ";Z40="M";Z40+="A Period";Q1m.Studies.calculateStudyATR(Z1m,v1m);Q1m.Studies.MA("simple",v1m.inputs[Z40],"Close",0,"_MA",Z1m,v1m);Q1m.Studies.calculateGenericEnvelope(Z1m,v1m,v1m.inputs.Multiplier,"_MA " + v1m.name,C40 + v1m.name);};Q1m.Studies.calculateATRStops=function(C9m, i9m){var B0N=e8ll;var I40,p40,e9m,d9m,d40,l40,J9m,q9m,L9m,n9m,t9m,o9m;I40="All";I40+=" ";I40+="Sto";I40+="ps ";p40="Al";p40+="l Sto";p40+="ps";e9m=i9m.chart.scrubbed;if(!e9m){return;}Q1m.Studies.calculateStudyATR(C9m,i9m);d9m=i9m.inputs.HighLow;for(var W9m=Math.max(i9m.startFrom - 1,1); W9m < e9m.length - 1; W9m++){d40="A";d40+="ll Stop";d40+="s ";l40="A";l40+="T";l40+="R ";J9m=e9m[W9m];B0N.L4v(84);q9m=e9m[B0N.z4v("1",W9m)];L9m=J9m["Buy Stops " + i9m.name];if(!L9m){L9m=J9m["Sell Stops " + i9m.name];}if(!L9m){B0N.E4v(46);L9m=B0N.z4v("0",0);}if(!J9m || !q9m)continue;n9m=J9m.Close;t9m=n9m;o9m=J9m[l40 + i9m.name] * i9m.inputs.Multiplier;if(J9m.Close > L9m && q9m.Close > L9m){if(d9m){n9m=J9m.High;}B0N.L4v(5);t9m=Math.max(L9m,B0N.z4v(n9m,o9m));}else if(J9m.Close <= L9m && q9m.Close <= L9m){if(d9m){n9m=J9m.Low;}B0N.E4v(3);t9m=Math.min(L9m,B0N.z4v(o9m,n9m));}else if(J9m.Close > L9m){if(d9m){n9m=J9m.High;}B0N.E4v(5);t9m=B0N.z4v(n9m,o9m);}else if(J9m.Close <= L9m){if(d9m){n9m=J9m.Low;}B0N.L4v(3);t9m=B0N.X4v(o9m,n9m);}if(n9m <= t9m){B0N.L4v(3);e9m[B0N.z4v(1,W9m)]["Buy Stops " + i9m.name]=t9m;B0N.E4v(3);delete e9m[B0N.z4v(1,W9m)]["Sell Stops " + i9m.name];}else if(n9m > t9m){B0N.E4v(3);e9m[B0N.X4v(1,W9m)]["Sell Stops " + i9m.name]=t9m;B0N.L4v(115);delete e9m[B0N.X4v(W9m,"1",1477998176)]["Buy Stops " + i9m.name];}B0N.L4v(3);e9m[B0N.z4v(1,W9m)][d40 + i9m.name]=t9m;}i9m.referenceOutput=p40;i9m.outputMap={};i9m.outputMap[I40 + i9m.name]="";};n7D=300465356;F7D=638122098;w7D=2;for(var B7D="1" | 0; e8ll.q4D(B7D.toString(),B7D.toString().length,37935) !== n7D; B7D++){s40="A";s40+="TR Trailing";s40+=" S";s40+="top";E40="#";E40+="0";E40+="0FF00";y40="A";y40+="TR Bands Top";V40="Ch";V40+="annel Fill";P40="#0";P40+="0";P40+="FF0";P40+="0";o40="a";o40+="ut";o40+="o";K40="Chan";K40+="nel";K40+=" ";K40+="Fill";k40="ST";k40+="ARC";k40+=" Bands Median";M40="ATR T";M40+="railing";M40+=" Stop";Q1m.Studies.studyLibrary=Q1m.extend(Q1m.Studies.studyLibrary,{ATR:{name:"Channel Fill",calculateFN:Q1m.Studies.calculateStudyATR,outputs:{ATR:"Channel Fill"}},"ATR Bands":{name:M40,overlay:![],seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateATRBands,inputs:{Period:4,Field:k40,Shift:1,"Channel Fill":!{}},outputs:{"ATR Bands Top":"STARC Bands Median","ATR Bands Bottom":"auto","ATR Bands Channel":K40},attributes:{Shift:{min:293,step:247}}},"STARC Bands":{name:o40,overlay:![],seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateSTARCBands,inputs:{Period:48,"MA Period":+"0",Multiplier:686,"Channel Fill":!"1"},outputs:{"STARC Bands Top":P40,"STARC Bands Median":V40,"STARC Bands Bottom":"#00FF00"},attributes:{Multiplier:{min:"898" >> 636505824,step:710}}},"ATR Trailing Stop":{name:"Channel Fill",overlay:!"1",seriesFN:Q1m.Studies.displayPSAR2,calculateFN:Q1m.Studies.calculateATRStops,inputs:{Period:93,Multiplier:0,"Plot Type":[y40,E40],HighLow:! !{}},outputs:{"Buy Stops":"STARC Bands Median","Sell Stops":s40},attributes:{Multiplier:{min:992,step:865}}}});w7D+=2;}if(e8ll.q4D(w7D.toString(),w7D.toString().length,91225) !== F7D){T40="ATR";T40+=" Bands Top";A40="Channel Fi";A40+="l";A40+="l";g40="a";g40+="uto";Q1m.Studies.studyLibrary=Q1m.extend(Q1m.Studies.studyLibrary,{ATR:{name:"Channel Fill",calculateFN:Q1m.Studies.calculateStudyATR,outputs:{ATR:"Channel Fill"}},"ATR Bands":{name:"ATR Trailing Stop",overlay:!1,seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateATRBands,inputs:{Period:4,Field:"STARC Bands Median",Shift:1,"Channel Fill":!1},outputs:{"ATR Bands Top":"STARC Bands Median","ATR Bands Bottom":"auto","ATR Bands Channel":"Channel Fill"},attributes:{Shift:{min:293,step:247}}},"STARC Bands":{name:g40,overlay:!{},seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateSTARCBands,inputs:{Period:+"48","MA Period":0,Multiplier:686,"Channel Fill":![]},outputs:{"STARC Bands Top":"#00FF00","STARC Bands Median":"Channel Fill","STARC Bands Bottom":"#00FF00"},attributes:{Multiplier:{min:898,step:"710" - 0}}},"ATR Trailing Stop":{name:A40,overlay:![],seriesFN:Q1m.Studies.displayPSAR2,calculateFN:Q1m.Studies.calculateATRStops,inputs:{Period:93,Multiplier:0,"Plot Type":[T40,"#00FF00"],HighLow:! ![]},outputs:{"Buy Stops":"STARC Bands Median","Sell Stops":"ATR Trailing Stop"},attributes:{Multiplier:{min:+"992",step:"865" << 2016262144}}}});}Q1m.Studies.studyLibrary=Q1m.extend(Q1m.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:Q1m.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:! ![],seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":H40,"ATR Bands Bottom":"auto","ATR Bands Channel":e40},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"STARC Bands":{name:"STARC Bands",overlay:!"",seriesFN:Q1m.Studies.displayChannel,calculateFN:Q1m.Studies.calculateSTARCBands,inputs:{Period:"15" & 2147483647,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:Q1m.Studies.displayPSAR2,calculateFN:Q1m.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:+"0.1",step:0.1}}}});}};q6w= F9m=>{var z20,B9m,h20,V8D,y8D,E8D,f20,b20;z20="u";z20+="ndefi";z20+="ned";B9m=typeof _CIQ !== z20?_CIQ:F9m.CIQ;if(!B9m.Studies){h20="awesomeOscill";h20+="ator feature r";h20+="equires first activating studies ";h20+="feature.";V8D=-1241163983;y8D=-1528654949;E8D=2;for(var g8D=1; e8ll.q4D(g8D.toString(),g8D.toString().length,83008) !== V8D; g8D++){console.error("");E8D+=+"2";}if(e8ll.q4D(E8D.toString(),E8D.toString().length,"69646" >> 668165664) !== y8D){console.error("");}console.error(h20);}else {f20="#00";f20+="DD00";b20="Awes";b20+="ome Oscillator";B9m.Studies.calculateAwesomeOscillator=function(Y9m, x9m){var W20,t20,s9m,G20;W20="_";W20+="MA34";t20="h";t20+="l";t20+="/";t20+="2";s9m=x9m.chart.scrubbed;if(s9m.length < +"33"){x9m.error=! ![];return;}B9m.Studies.MA("simple",5,t20,0,"_MA5",Y9m,x9m);B9m.Studies.MA("simple",34,"hl/2",0,W20,Y9m,x9m);e8ll.z2x();for(var X9m=Math.max(x9m.startFrom,33); X9m < s9m.length; X9m++){G20="_MA";G20+="5 ";if(!s9m[X9m])continue;s9m[X9m][x9m.name + "_hist"]=s9m[X9m][G20 + x9m.name] - s9m[X9m]["_MA34 " + x9m.name];}x9m.outputMap={};x9m.outputMap[x9m.name + "_hist"]="";};B9m.Studies.displayAwesomeOscillator=function(g9m, O9m, r9m){var C2N=e8ll;var j9m,I9m,R9m,T9m,a9m,y9m,h9m,Q20,N9m,E9m;j9m=g9m.panels[O9m.panel];I9m=O9m.getContext(g9m);R9m=O9m.getYAxis(g9m);T9m=g9m.pixelFromPrice(0,j9m,R9m);C2N.E4v(116);var y8F=C2N.X4v(1570083564,1514009160,7,4,11);a9m=g9m.layout.candleWidth - ("2" >> y8F);if(a9m < 2){a9m=1;}y9m=B9m.Studies.determineColor(O9m.outputs["Increasing Bar"]);h9m=B9m.Studies.determineColor(O9m.outputs["Decreasing Bar"]);g9m.canvasColor("stx_histogram");if(!O9m.underlay){I9m.globalAlpha=1;}I9m.fillStyle="#CCCCCC";g9m.startClip(O9m.panel);if(!O9m.highlight && g9m.highlightedDraggable){I9m.globalAlpha*=0.3;}for(var b9m=0; b9m < r9m.length; b9m++){Q20="_";Q20+="h";Q20+="is";Q20+="t";N9m=r9m[b9m];C2N.L4v(5);E9m=r9m[C2N.z4v(b9m,1)];if(!E9m){E9m=g9m.getPreviousBar(g9m.chart,O9m.name + "_hist",b9m);}if(!N9m)continue;if(!E9m);else if(E9m[O9m.name + "_hist"] < N9m[O9m.name + "_hist"]){I9m.fillStyle=y9m;}else if(E9m[O9m.name + "_hist"] > N9m[O9m.name + Q20]){I9m.fillStyle=h9m;}if(N9m.candleWidth){a9m=Math.floor(Math.max(1,N9m.candleWidth - +"2"));}I9m.fillRect(Math.floor(g9m.pixelFromBar(b9m,j9m.chart) - a9m / 2),Math.floor(T9m),Math.floor(a9m),Math.floor(g9m.pixelFromPrice(N9m[O9m.name + "_hist"],j9m,R9m) - T9m));}g9m.endClip();};B9m.Studies.studyLibrary=B9m.extend(B9m.Studies.studyLibrary,{Awesome:{name:b20,seriesFN:B9m.Studies.displayAwesomeOscillator,calculateFN:B9m.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":f20,"Decreasing Bar":"#FF0000"}}});}};C6w= m9m=>{var c0D,U0D,x0D,P9m,r20,j20;c0D=-1351947703;U0D=-16268739;x0D=+"2";e8ll.z2x();for(var X0D=1; e8ll.x4D(X0D.toString(),X0D.toString().length,"82167" | 68) !== c0D; X0D++){P9m=-_CIQ == ""?_CIQ:m9m.CIQ;x0D+=2;}if(e8ll.q4D(x0D.toString(),x0D.toString().length,1260) !== U0D){P9m=-_CIQ == ""?_CIQ:m9m.CIQ;}P9m=typeof _CIQ !== "undefined"?_CIQ:m9m.CIQ;if(!P9m.Studies){r20="balanceOfPower feature requi";r20+="res first activating studies feature.";console.error(r20);}else {j20="Balance of";j20+=" Power";P9m.Studies.calculateBalanceOfPower=function(D9m, G9m){var p9m,v20,S9m;p9m=G9m.chart.scrubbed;if(p9m.length < G9m.days + 1){G9m.error=! !"1";return;}for(var l9m=G9m.startFrom; l9m < p9m.length; l9m++){v20="_Rat";v20+="io ";S9m=p9m[l9m];S9m[v20 + G9m.name]=S9m.Close - S9m.Open;if(S9m.High - S9m.Low !== 0){S9m["_Ratio " + G9m.name]/=S9m.High - S9m.Low;}}e8ll.A2x();P9m.Studies.MA(G9m.inputs["Moving Average Type"],G9m.days,"_Ratio " + G9m.name,0,"Result",D9m,G9m);};P9m.Studies.studyLibrary=P9m.extend(P9m.Studies.studyLibrary,{"Bal Pwr":{name:j20,range:"-1 to 1",centerline:"0" - 0,calculateFN:P9m.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};B6w= M9m=>{var n20,K9m,R20,S20,D20,J20,u20,L20;n20="und";n20+="e";n20+="fined";K9m=typeof _CIQ !== n20?_CIQ:M9m.CIQ;if(!K9m.Studies){console.error("bollinger feature requires first activating studies feature.");}else {R20="a";R20+="u";R20+="t";R20+="o";S20="Bollinger";S20+=" Bandwidth";D20="a";D20+="u";D20+="t";D20+="o";J20="m";J20+="a";u20="fi";u20+="eld";L20="Bo";L20+="llinger";L20+=" B";L20+="ands";K9m.Studies.calculateBollinger=function(U9m, H9m){var N20,B20,O20,w20,F20,u9m;N20="%";N20+="b";B20="_STD De";B20+="v ";O20="Sta";O20+="ndard Deviations";w20="ST";w20+="D D";w20+="ev";F20="C";F20+="lose";u9m=H9m.inputs.Field;if(!u9m || u9m == "field"){u9m=F20;}K9m.Studies.MA(H9m.inputs["Moving Average Type"],H9m.days,u9m,0,"_MA",U9m,H9m);H9m.std=new K9m.Studies.StudyDescriptor(H9m.name,w20,H9m.panel);H9m.std.chart=H9m.chart;H9m.std.startFrom=H9m.startFrom;H9m.std.days=H9m.days;H9m.std.inputs={Field:u9m,"Standard Deviations":1,Type:H9m.inputs["Moving Average Type"]};H9m.std.outputs={"_STD Dev":null};K9m.Studies.calculateStandardDeviation(U9m,H9m.std);K9m.Studies.calculateGenericEnvelope(U9m,H9m,H9m.inputs[O20],"_MA " + H9m.name,B20 + H9m.name);if(H9m.type == "Boll %b"){H9m.zoneOutput=N20;}};K9m.Studies.studyLibrary=K9m.extend(K9m.Studies.studyLibrary,{"Bollinger Bands":{name:L20,overlay:! !{},calculateFN:K9m.Studies.calculateBollinger,seriesFN:K9m.Studies.displayChannel,inputs:{Period:20,Field:u20,"Standard Deviations":2,"Moving Average Type":J20,"Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:K9m.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":D20},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"100",studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:S20,calculateFN:K9m.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:R20},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};F6w= z9m=>{var A9m,X20,q20;e8ll.A2x();A9m=typeof _CIQ !== "undefined"?_CIQ:z9m.CIQ;if(!A9m.Studies){console.error("cci feature requires first activating studies feature.");}else {X20="a";X20+="u";X20+="t";X20+="o";q20="Commodity";q20+=" Channel Index";A9m.Studies.calculateCCI=function(v9m, k9m){var Y20,a20,V9m,x20,U20,Q9m,w9m,c20;Y20="M";Y20+="A";a20="h";a20+="lc/3";e8ll.z2x();V9m=k9m.chart.scrubbed;if(V9m.length < k9m.days + 1){k9m.error=! !{};return;}A9m.Studies.MA("simple",k9m.days,a20,0,Y20,v9m,k9m);for(var c9m=Math.max(k9m.startFrom,k9m.days - +"1"); c9m < V9m.length; c9m++){x20="M";x20+="A";x20+=" ";U20="Resu";U20+="lt ";Q9m=V9m[c9m];if(!Q9m)continue;w9m=0;for(var f9m=0; f9m < k9m.days; f9m++){c20="h";c20+="lc/";c20+="3";w9m+=Math.abs(V9m[c9m - f9m][c20] - Q9m["MA " + k9m.name]);}w9m/=k9m.days;if(Math.abs(w9m) < "0.00000001" - 0){Q9m["Result " + k9m.name]=+"0";}else {Q9m[U20 + k9m.name]=(Q9m["hlc/3"] - Q9m[x20 + k9m.name]) / (0.015 * w9m);}}};A9m.Studies.studyLibrary=A9m.extend(A9m.Studies.studyLibrary,{CCI:{name:q20,calculateFN:A9m.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:- +"100",studyOverSoldColor:X20}},attributes:{Period:{min:2}}}});}};x6w= i4m=>{var Z9m;Z9m=typeof _CIQ !== "undefined"?_CIQ:i4m.CIQ;if(!Z9m.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {Z9m.Studies.calculateCenterOfGravity=function(B4m, J4m){var w2N=e8ll;var i20,n4m,e4m,m20,q4m,o4m,C4m;i20="Cl";i20+="ose";n4m=J4m.chart.scrubbed;if(n4m.length < J4m.days){J4m.error=! !"1";return;}w2N.z2x();e4m=J4m.inputs.Field;if(!e4m || e4m == "field"){e4m=i20;}for(var W4m=Math.max(J4m.startFrom,J4m.days - 1); W4m < n4m.length; W4m++){m20="R";m20+="e";m20+="sult ";q4m=+"0";o4m=0;for(var t4m=0; t4m < J4m.days; t4m++){w2N.E4v(5);C4m=n4m[w2N.X4v(W4m,t4m)][e4m];w2N.L4v(117);q4m-=w2N.X4v(C4m,1,t4m);o4m+=C4m;}if(o4m){w2N.L4v(9);n4m[W4m][m20 + J4m.name]=w2N.z4v(q4m,o4m);}}};Z9m.Studies.studyLibrary=Z9m.extend(Z9m.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:Z9m.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};s6w= x4m=>{e8ll.A2x();var Z20,F4m,C20;Z20="und";Z20+="efine";Z20+="d";F4m=typeof _CIQ !== Z20?_CIQ:x4m.CIQ;if(!F4m.Studies){C20="chaikin fea";C20+="ture requires first activ";C20+="a";C20+="ting studies feature.";console.error(C20);}else {F4m.Studies.calculateChaikinMoneyFlow=function(a4m, Y4m){var W2N=e8ll;var s4m,b4m,O4m,N4m,p20,l20,d20;s4m=Y4m.chart.scrubbed;if(s4m.length < Y4m.days){Y4m.error=! !{};return;}b4m=0;O4m=0;W2N.z2x();W2N.E4v(5);var E8F=W2N.X4v(18,17);N4m=s4m[Y4m.startFrom - E8F];if(N4m){if(N4m["_sumMF " + Y4m.name]){b4m=N4m["_sumMF " + Y4m.name];}if(N4m["_sumV " + Y4m.name]){O4m=N4m["_sumV " + Y4m.name];}}for(var X4m=Y4m.startFrom; X4m < s4m.length; X4m++){p20="_s";p20+="u";p20+="m";p20+="MF ";l20="_M";l20+="FV";l20+=" ";if(s4m[X4m].High == s4m[X4m].Low){s4m[X4m]["_MFV " + Y4m.name]=0;}else {s4m[X4m]["_MFV " + Y4m.name]=s4m[X4m].Volume * (("2" - 0) * s4m[X4m].Close - s4m[X4m].High - s4m[X4m].Low) / (s4m[X4m].High - s4m[X4m].Low);}b4m+=s4m[X4m][l20 + Y4m.name];O4m+=s4m[X4m].Volume;if(X4m > Y4m.days - +"1"){d20="_M";d20+="FV";d20+=" ";b4m-=s4m[X4m - Y4m.days][d20 + Y4m.name];O4m-=s4m[X4m - Y4m.days].Volume;if(O4m){W2N.L4v(9);s4m[X4m]["Result " + Y4m.name]=W2N.z4v(b4m,O4m);}}s4m[X4m][p20 + Y4m.name]=b4m;s4m[X4m]["_sumV " + Y4m.name]=O4m;}};F4m.Studies.calculateChaikinVolatility=function(T4m, E4m){var D2N=e8ll;var I20,r4m,j4m,R4m,K20,k20,M20;I20="_";I20+="M";I20+="A";r4m=E4m.chart.scrubbed;if(r4m.length < E4m.days){E4m.error=! !1;return;}for(j4m=E4m.startFrom; j4m < r4m.length; j4m++){if(r4m[j4m].futureTick)break;r4m[j4m]["_High-Low " + E4m.name]=r4m[j4m].High - r4m[j4m].Low;}F4m.Studies.MA(E4m.inputs["Moving Average Type"],E4m.days,"_High-Low " + E4m.name,0,I20,T4m,E4m);R4m=E4m.inputs["Rate Of Change"];if(!R4m){R4m=E4m.days;}for(j4m=Math.max(E4m.startFrom,R4m); j4m < r4m.length; j4m++){K20="_";K20+="M";K20+="A ";k20="_MA";k20+=" ";M20="R";M20+="esu";M20+="l";M20+="t ";if(!r4m[j4m - R4m]["_MA " + E4m.name])continue;if(r4m[j4m].futureTick)break;D2N.L4v(37);var s8F=D2N.z4v(1601168470,13,133430708,14);D2N.E4v(54);var g8F=D2N.X4v(17,4,69);r4m[j4m][M20 + E4m.name]=("100" >> s8F) * (r4m[j4m][k20 + E4m.name] / r4m[j4m - R4m][K20 + E4m.name] - g8F);}};F4m.Studies.studyLibrary=F4m.extend(F4m.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:F4m.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:F4m.Studies.calculateChaikinVolatility,inputs:{Period:+"14","Rate Of Change":2,"Moving Average Type":"ma"}}});}};X6w= h4m=>{var y4m,o20;e8ll.A2x();y4m=typeof _CIQ !== "undefined"?_CIQ:h4m.CIQ;if(!y4m.Studies){o20="chande feature r";o20+="equi";o20+="res first activating s";o20+="tudies feature.";console.error(o20);}else {y4m.Studies.prettify.variable="vma";y4m.Studies.movingAverage.conversions.vma="variable";y4m.Studies.movingAverage.translations.variable="Variable";y4m.Studies.movingAverage.typeMap.vma="Variable";y4m.Studies.movingAverage.typeMap.variable="Variable";y4m.Studies.calculateChandeForecast=function(K4m, m4m){var Y2N=e8ll;var P20,G4m,S4m,y20,V20,l4m;P20="M";P20+="A";G4m=m4m.chart.scrubbed;if(G4m.length < m4m.days + 1){m4m.error=!"";return;}S4m=m4m.inputs.Field;if(!S4m || S4m == "field"){S4m="Close";}y4m.Studies.MA("time series",m4m.days,S4m,+"0",P20,K4m,m4m);for(var p4m=Math.max(1,m4m.startFrom); p4m < G4m.length; p4m++){y20="Re";y20+="sult ";V20="objec";V20+="t";l4m=G4m[p4m][S4m];if(l4m && typeof l4m == V20){l4m=l4m[m4m.subField];}Y2N.L4v(86);var A8F=Y2N.z4v(12,83,5);Y2N.L4v(3);var T8F=Y2N.X4v(1,0);G4m[p4m][y20 + m4m.name]=A8F * (T8F - G4m[p4m]["MA " + m4m.name] / l4m);}};y4m.Studies.calculateChandeMomentum=function(n0m, M4m){var n2N=e8ll;var w4m,A4m,z4m,f4m,v4m,Z4m,E20,V4m,U4m,i0m,J0m;w4m=M4m.name;for(var L0m in M4m.outputs){n2N.L4v(86);w4m=n2N.X4v(w4m,L0m,(+"1270",3180) <= ("788.52" * 1,3159)?+"763" !== 3359?("t",0x23a3):!0:" ");}A4m=M4m.chart.scrubbed;if(A4m.length < M4m.days + 1){M4m.error=! !"1";return;}z4m=M4m.inputs.Field;if(!z4m || z4m == "field"){z4m="Close";}n2N.L4v(25);f4m=n2N.X4v(141542592,"0");v4m=0;Z4m=[];for(var u4m=M4m.startFrom - M4m.days + 1; u4m < A4m.length; u4m++){E20="obje";E20+="c";E20+="t";if(u4m < 1)continue;V4m=A4m[u4m][z4m];n2N.E4v(84);U4m=A4m[n2N.X4v("1",u4m)][z4m];if(V4m && typeof V4m == E20){V4m=V4m.Close;}if(U4m && typeof U4m == "object"){U4m=U4m.Close;}if(U4m === undefined)continue;n2N.L4v(5);i0m=n2N.z4v(V4m,U4m);Z4m.push(i0m);f4m+=i0m;v4m+=Math.abs(i0m);if(Z4m.length == M4m.days){n2N.E4v(100);A4m[u4m][w4m]=n2N.X4v(v4m,100,f4m);J0m=Z4m.shift();f4m-=J0m;v4m-=Math.abs(J0m);}}};y4m.Studies.calculateMovingAverageVariable=function(N0m, e0m){var h2N=e8ll;var j0m,o0m,g0m,C0m,q0m,B0m,d0m,W0m,t0m,F0m,Y0m,I0m,O0m,g20,s20,x0m,E0m,s0m,b0m,X0m;j0m=e0m.inputs.Type;o0m=e0m.chart.scrubbed;h2N.E4v(34);var H8F=h2N.z4v(2,9,3);g0m=("2" - 0) / (e0m.days + H8F);C0m=null;q0m=e0m.name;for(var a0m in e0m.outputs){h2N.L4v(86);q0m=h2N.X4v(q0m,a0m,(935.37,2407) > (9481,"946" >> 1420937536)?+"9480" !== 283.87?"8665" - 0 > 9246?(895.01,"s"):" ":(+"0x9f",747.98):6.22e+3);}B0m=e0m.inputs.Field;if(!B0m || B0m == "field"){B0m="Close";}e0m.cmo=new y4m.Studies.StudyDescriptor(e0m.name,"cmo",e0m.panel);e0m.cmo.chart=e0m.chart;e0m.cmo.days=9;e0m.cmo.inputs={Field:B0m};h2N.z2x();e0m.cmo.startFrom=e0m.startFrom;e0m.cmo.outputs={_CMO:null};y4m.Studies.calculateChandeMomentum(N0m,e0m.cmo);d0m=parseInt(e0m.inputs.Offset,10);if(isNaN(d0m)){d0m=0;}Y0m=e0m.startFrom;I0m=d0m;for(W0m=e0m.startFrom - +"1"; W0m >= +"0"; W0m--){t0m=o0m[W0m][q0m];if(!t0m && t0m !== 0)continue;if(C0m === null){C0m=t0m;}if(I0m <= 0)break;I0m--;Y0m=W0m;}if(C0m === null){C0m=Y0m=0;}O0m=[];for(W0m=Y0m; W0m < o0m.length; W0m++){g20="_";g20+="C";g20+="M";g20+="O ";s20="_";s20+="CM";s20+="O";s20+=" ";x0m=o0m[W0m];t0m=x0m[B0m];if(t0m && typeof t0m == "object"){t0m=t0m[e0m.subField];}E0m=W0m + d0m >= 0 && W0m + d0m < o0m.length;s0m=E0m?o0m[W0m + d0m]:null;if(!t0m && t0m !== 0){if(s0m){s0m[q0m]=null;}else if(W0m + d0m >= o0m.length){F0m={};F0m[q0m]=null;O0m.push(F0m);}continue;}if(!x0m[s20 + e0m.name] && x0m[g20 + e0m.name] !== 0)continue;h2N.E4v(86);var e8F=h2N.z4v(91,5,4);b0m=Math.abs(x0m["_CMO " + e0m.name]) / e8F;h2N.L4v(118);X0m=h2N.X4v(g0m,C0m,t0m,1,g0m,b0m,b0m);C0m=X0m;if(W0m < e0m.days){X0m=null;}if(s0m){s0m[q0m]=X0m;}else if(W0m + d0m >= o0m.length){F0m={};F0m[q0m]=X0m;O0m.push(F0m);}}e0m.appendFutureTicks(N0m,O0m);};y4m.Studies.studyLibrary=y4m.extend(y4m.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:y4m.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:y4m.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"50" << 1859087424,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};Y6w= R0m=>{e8ll.z2x();var r0m,z00,e20,H20;r0m=typeof _CIQ !== "undefined"?_CIQ:R0m.CIQ;if(!r0m.Studies){console.error("choppiness feature requires first activating studies feature.");}else {z00="0";z00+=".";z00+="1";e20="0";e20+=".";e20+="1";H20="a";H20+="u";H20+="t";H20+="o";r0m.Studies.calculateChoppiness=function(G0m, T0m){var f2N=e8ll;var h0m,y0m,m0m,A20,T20;r0m.Studies.calculateStudyATR(G0m,T0m);h0m=T0m.chart.scrubbed;if(h0m.length < T0m.days + ("1" & 2147483647)){T0m.error=!0;return;}for(var P0m=Math.max(T0m.startFrom,T0m.days); P0m < h0m.length; P0m++){y0m=h0m[P0m];if(!y0m)continue;if(y0m.futureTick)break;m0m=S0m(T0m.days,P0m);if(y0m["Sum True Range " + T0m.name]){A20="Re";A20+="sult";A20+=" ";f2N.E4v(8);var z7F=f2N.z4v(103,5,8);f2N.E4v(119);var h7F=f2N.X4v(0,18,18,15,9);y0m[A20 + T0m.name]=z7F * Math.log(y0m["Sum True Range " + T0m.name] / Math.max(+"0.000001",m0m[h7F] - m0m[0])) / Math.log(T0m.days);}else if(!isNaN(y0m)){T20="Resu";T20+="l";T20+="t ";y0m[T20 + T0m.name]=+"0";}}function S0m(M0m, K0m){var l0m,D0m;f2N.L4v(120);var t7F=f2N.z4v(23,10,8,14,16);l0m=Number.MAX_VALUE * t7F;D0m=Number.MAX_VALUE;for(var p0m=K0m - M0m + ("1" - 0); p0m <= K0m; p0m++){if(p0m < 0)continue;l0m=Math.max(l0m,h0m[p0m].High);D0m=Math.min(D0m,h0m[p0m].Low);}return [D0m,l0m];}};r0m.Studies.studyLibrary=r0m.extend(r0m.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:r0m.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:H20,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:e20},studyOverSoldValue:{max:50,step:z00}}}});}};O6w= u0m=>{var H0m,a00,R00;H0m=typeof _CIQ !== "undefined"?_CIQ:u0m.CIQ;if(!H0m.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!H0m.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {a00="S";a00+="P";a00+="Y";R00="Pe";R00+="rformance Index";H0m.Studies.calculateCorrelationCoefficient=function(n6m, U0m){var P2N=e8ll;var h00,z0m,Q0m,V0m,c0m,w0m,v0m,Z0m,i6m,J6m,L6m,Q00,G00,k0m,W00,t00,v00,r00,f00,b00,W6m,t6m,d6m,o6m;h00="Compa";h00+="re To";z0m=U0m.chart.scrubbed;Q0m=U0m.days;P2N.z2x();if(z0m.length < Q0m + 1){U0m.error=! ![];return;}U0m.compare=U0m.inputs[h00];if(!U0m.compare){U0m.compare=[];U0m.outputs={};U0m.outputMap={};for(var e6m in n6m.chart.series){V0m=n6m.chart.series[e6m];if(V0m.parameters.color){U0m.compare.push(V0m.display);U0m.outputs["Result " + V0m.display]=V0m.parameters.color;U0m.outputMap["Result " + V0m.display + " " + U0m.name]="Result " + V0m.display;}}}else {U0m.compare=[U0m.compare];}if(!U0m.compare.length){U0m.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var f0m=0; f0m < U0m.compare.length; f0m++){c0m=0;w0m=+"0";v0m=0;Z0m=0;i6m=0;J6m=U0m.compare[f0m];P2N.L4v(42);L6m=P2N.X4v(16847520,"0");for(var A0m=U0m.startFrom - Q0m; A0m < z0m.length; A0m++){Q00="_te";Q00+="mps ";G00="o";G00+="bject";if(!z0m[A0m])continue;k0m=z0m[A0m][J6m];if(k0m && typeof k0m == "object"){k0m=k0m.Close;}if(!k0m && k0m !== 0){W00="_t";W00+="e";W00+="mps";W00+=" ";t00="_temp";t00+="s ";if(A0m > 0 && z0m[A0m - 1] && z0m[A0m - 1][t00 + U0m.name] && z0m[A0m - "1" * 1]["_temps " + U0m.name].c){k0m=z0m[A0m - 1][W00 + U0m.name].c;}else {k0m=0;}}if(k0m && typeof k0m == G00){k0m=k0m.Close;}z0m[A0m]["_temps " + U0m.name]={};c0m+=z0m[A0m]["_temps " + U0m.name].b=z0m[A0m].Close;w0m+=z0m[A0m]["_temps " + U0m.name].c=k0m;v0m+=z0m[A0m][Q00 + U0m.name].b2=Math.pow(z0m[A0m].Close,"2" & 2147483647);Z0m+=z0m[A0m]["_temps " + U0m.name].c2=Math.pow(k0m,2);i6m+=z0m[A0m]["_temps " + U0m.name].bc=z0m[A0m].Close * k0m;if(L6m >= Q0m){v00="_temps";v00+=" ";r00="_te";r00+="mps";r00+=" ";f00="_tem";f00+="p";f00+="s";f00+=" ";b00="_tem";b00+="ps ";c0m-=z0m[A0m - Q0m][b00 + U0m.name].b;w0m-=z0m[A0m - Q0m][f00 + U0m.name].c;v0m-=z0m[A0m - Q0m]["_temps " + U0m.name].b2;Z0m-=z0m[A0m - Q0m][r00 + U0m.name].c2;i6m-=z0m[A0m - Q0m][v00 + U0m.name].bc;P2N.L4v(5);var W7F=P2N.X4v(14,12);W6m=v0m / Q0m - Math.pow(c0m / Q0m,W7F);P2N.E4v(40);var G7F=P2N.z4v(17,19);t6m=Z0m / Q0m - Math.pow(w0m / Q0m,G7F);P2N.E4v(121);var Q7F=P2N.X4v(1993,15,7,5,24);d6m=i6m / Q0m - c0m * w0m / Math.pow(Q0m,Q7F);o6m=d6m / Math.sqrt(W6m * t6m);P2N.L4v(121);var b7F=P2N.z4v(561680,10,18,18,3156);P2N.L4v(122);var f7F=P2N.z4v(3,3,2108,2136,1602);P2N.E4v(86);var r7F=P2N.X4v(559,57,12);P2N.L4v(62);var v7F=P2N.X4v(7281,65511,10);P2N.E4v(3);var j7F=P2N.z4v(4472,1118);P2N.E4v(123);var n7F=P2N.X4v(6651,17,16,4,18);P2N.E4v(116);var F7F=P2N.z4v(7567,6453,7,1,16);P2N.E4v(59);var w7F=P2N.z4v(10,7224,4,9);P2N.E4v(124);var O7F=P2N.X4v(125,5,5,15,115);P2N.E4v(125);var B7F=P2N.X4v(19,57180,9768236,14,9);z0m[A0m]["Result " + J6m + ((b7F,f7F) <= r7F?"D":v7F > (j7F,n7F)?" ":(F7F,w7F) < (560.25,O7F)?934.28:B7F) + U0m.name]=o6m;}L6m++;}}};H0m.Studies.calculatePerformance=function(s6m, q6m){var w00,F00,n00,j00,C6m,x6m,O00,F6m;w00="_MA ";w00+="C";w00+="om";w00+="p";F00="m";F00+="a";n00="_MA";n00+=" ";n00+="Ba";n00+="se";j00="C";j00+="l";j00+="o";j00+="se";C6m=q6m.chart.scrubbed;x6m=q6m.inputs["Comparison Symbol"].toUpperCase();if(!x6m){x6m=q6m.study.inputs["Comparison Symbol"];}if(!q6m.days){q6m.days=q6m.study.inputs.Period;}if(C6m.length < q6m.days + 1){q6m.error=! !"1";return;}H0m.Studies.MA("ma",q6m.days,j00,0,n00,s6m,q6m);H0m.Studies.MA(F00,q6m.days,x6m,0,w00,s6m,q6m);e8ll.A2x();for(var B6m=q6m.startFrom; B6m < C6m.length; B6m++){O00="R";O00+="es";O00+="ult";O00+=" ";F6m=C6m[B6m][x6m];if(F6m && (F6m.Close || F6m.Close === 0)){F6m=F6m.Close;}C6m[B6m][O00 + q6m.name]=C6m[B6m].Close / F6m * (C6m[B6m]["_MA Comp " + q6m.name] / C6m[B6m]["_MA Base " + q6m.name]);}};H0m.Studies.calculateBeta=function(N6m, X6m){var M2N=e8ll;var u00,L00,N00,B00,O6m,b6m,g6m,I6m,S00,D00,J00;u00="_";u00+="CompCha";u00+="n";u00+="ge ";L00="_MA ";L00+="B";L00+="as";L00+="e";N00="_";N00+="BaseChange ";B00="Comparison Sym";B00+="bol";O6m=X6m.chart.scrubbed;b6m=X6m.inputs["Comparison Symbol"].toUpperCase();if(!b6m){b6m=X6m.study.inputs[B00];}if(!X6m.days){X6m.days=X6m.study.inputs.Period;}if(O6m.length < X6m.days + 1){X6m.error=! !{};return;}for(var Y6m=Math.max(X6m.startFrom,1); Y6m < O6m.length; Y6m++){M2N.E4v(61);var N7F=M2N.z4v(8,2,10,12);O6m[Y6m]["_BaseChange " + X6m.name]=O6m[Y6m].Close / O6m[Y6m - +"1"].Close - N7F;g6m=O6m[Y6m][b6m];if(g6m && (g6m.Close || g6m.Close === +"0")){g6m=g6m.Close;}M2N.L4v(5);I6m=O6m[M2N.X4v(Y6m,1)][b6m];if(I6m && (I6m.Close || I6m.Close === 0)){I6m=I6m.Close;}M2N.E4v(34);O6m[Y6m]["_CompChange " + X6m.name]=M2N.z4v(1,g6m,I6m);}H0m.Studies.MA("ma",X6m.days,N00 + X6m.name,0,L00,N6m,X6m);H0m.Studies.MA("ma",X6m.days,u00 + X6m.name,+"0","_MA Comp",N6m,X6m);for(Y6m=Math.max(X6m.startFrom,X6m.days); Y6m < O6m.length; Y6m++){S00="_MA";S00+=" C";S00+="omp";S00+=" ";D00="_Com";D00+="pCha";D00+="nge ";J00="_";J00+="M";J00+="A C";J00+="omp ";O6m[Y6m]["_COVARn " + X6m.name]=(O6m[Y6m]["_BaseChange " + X6m.name] - O6m[Y6m]["_MA Base " + X6m.name]) * (O6m[Y6m]["_CompChange " + X6m.name] - O6m[Y6m][J00 + X6m.name]);O6m[Y6m]["_VARn " + X6m.name]=Math.pow(O6m[Y6m][D00 + X6m.name] - O6m[Y6m][S00 + X6m.name],+"2");}H0m.Studies.MA("ma",X6m.days,"_COVARn " + X6m.name,0,"_COVAR",N6m,X6m);H0m.Studies.MA("ma",X6m.days,"_VARn " + X6m.name,0,"_VAR",N6m,X6m);for(Y6m=Math.max(X6m.startFrom,X6m.days * 2 - 1); Y6m < O6m.length; Y6m++){O6m[Y6m]["Result " + X6m.name]=O6m[Y6m]["_COVAR " + X6m.name] / O6m[Y6m]["_VAR " + X6m.name];}};H0m.Studies.studyLibrary=H0m.extend(H0m.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:H0m.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:R00,centerline:1,initializeFN:H0m.Studies.initPriceRelative,seriesFN:H0m.Studies.displayVsComparisonSymbol,calculateFN:H0m.Studies.calculatePerformance,inputs:{Period:"120" | 32,"Comparison Symbol":a00},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:"Beta",centerline:1,initializeFN:H0m.Studies.initPriceRelative,seriesFN:H0m.Studies.displayVsComparisonSymbol,calculateFN:H0m.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!""}});}};g6w= E6m=>{var a6m,Y00,x00;a6m=typeof _CIQ !== "undefined"?_CIQ:E6m.CIQ;if(!a6m.Studies){Y00="coppock feature requires first";Y00+=" activating studies feature.";console.error(Y00);}else {x00="fie";x00+="ld";a6m.Studies.calculateCoppock=function(S6m, j6m){var i2N=e8ll;var U00,c00,r6m,R6m,y6m,h6m,P6m,m6m,G6m;U00="_";U00+="S";U00+="um";U00+=" ";c00="weight";c00+="ed";r6m=j6m.chart.scrubbed;R6m=j6m.inputs.Field;if(!R6m || R6m == "field"){R6m="Close";}y6m=parseInt(j6m.inputs["Long RoC"],10);if(!y6m){y6m=14;}h6m=parseInt(j6m.inputs["Short RoC"],10);if(!h6m){h6m=11;}P6m=j6m.days;if(!P6m){P6m=10;}if(y6m < h6m){return;}if(r6m.length < Math.max(h6m,y6m,P6m) + 1){j6m.error=!0;return;}for(var T6m=Math.max(j6m.startFrom,y6m); T6m < r6m.length; T6m++){i2N.E4v(5);m6m=r6m[i2N.X4v(T6m,h6m)][R6m];i2N.E4v(5);G6m=r6m[i2N.X4v(T6m,y6m)][R6m];if(m6m && G6m){i2N.E4v(126);var L7F=i2N.z4v(5,92,90,2,23);r6m[T6m]["_Sum " + j6m.name]=L7F * (r6m[T6m][R6m] / m6m + r6m[T6m][R6m] / G6m - +"2");}}a6m.Studies.MA(c00,P6m,U00 + j6m.name,0,"Result",S6m,j6m);};a6m.Studies.studyLibrary=a6m.extend(a6m.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:a6m.Studies.calculateCoppock,inputs:{Period:+"10",Field:x00,"Short RoC":+"11","Long RoC":14}}});}};I6w= l6m=>{var Y2x=e8ll;var p6m,g2D,A2D,T2D,g00;p6m=typeof _CIQ !== "undefined"?_CIQ:l6m.CIQ;if(!p6m.Studies){g2D=1900339335;A2D=+"679071760";Y2x.L4v(25);T2D=Y2x.z4v(493722400,"2");for(var e2D=1; Y2x.q4D(e2D.toString(),e2D.toString().length,19807) !== g2D; e2D++){console.error("darvasBox feature requires first activating studies feature.");T2D+=2;}if(Y2x.x4D(T2D.toString(),T2D.toString().length,83279) !== A2D){console.error("");}}else {g00="#5F7C";g00+="B8";p6m.Studies.calculateDarvas=function(n2m, z6m){var Z00,m00,i00,X00,q00,D6m,A6m,s7D,g7D,A7D,Z6m,J2m,k6m,H6m,U6m,c6m,Q6m,w6m,V6m,M6m,u6m,f6m,K6m,I00,l00,C00,d00,p00,M00,k00,K00;Z00="S";Z00+="p";Z00+="ike";m00="A";m00+="DV";i00="Lo";i00+="ss";X00="Gh";X00+="o";X00+="st";q00="************";q00+="*****";D6m=z6m.chart.scrubbed;A6m=0;s7D=-594403089;g7D=- +"1760732491";A7D=2;for(var H7D=1; Y2x.q4D(H7D.toString(),H7D.toString().length,86740) !== s7D; H7D++){Z6m=parseInt(z6m.inputs[""],48);A7D+=2;}if(Y2x.q4D(A7D.toString(),A7D.toString().length,44410) !== g7D){Z6m=parseInt(z6m.inputs["ATH Lookback Period"],+"10");}if(z6m.inputs["Volume Spike"]){p6m.Studies.MA("simple",Z6m,"Volume",0,"ADV",n2m,z6m);}Y2x.E4v(5);var u7F=Y2x.X4v(119,19);J2m=parseFloat(z6m.inputs["Volume % of Avg"]) / u7F;k6m="none";H6m={};U6m=null;c6m=null;Q6m=null;w6m=parseFloat(z6m.inputs["Level Offset"]);V6m=!"1";if(V6m){console.log(q00);}u6m={};["Darvas",X00,"Profit",i00,"ATH",m00,Z00].forEach(function(e2m){Y2x.E4v(5);var J7F=Y2x.X4v(3865,5);Y2x.L4v(127);var D7F=Y2x.X4v(19,5566,6,1,27941);Y2x.E4v(128);var S7F=Y2x.X4v(844,20,72,36);u6m[e2m]=e2m + (("37" ^ 0,J7F) < D7F?" ":S7F) + z6m.name;});for(M6m=z6m.startFrom - +"1"; M6m > 0; M6m--){f6m=D6m[M6m];if(f6m[u6m.Darvas] || f6m[u6m.Ghost]){for(var L2m in u6m){f6m[L2m]=null;}}else {A6m=f6m[u6m.ATH] || 0;c6m=f6m[u6m.Profit];Q6m=f6m[u6m.Loss];break;}}for(M6m; M6m < D6m.length; M6m++){K6m=D6m[M6m];if(!K6m)continue;if(parseFloat(z6m.inputs["Price Minimum"]) <= D6m[A6m].Close){I00="d";I00+="arva";I00+="s";l00="hi";l00+="g";l00+="h";if(U6m && (!U6m.End || M6m == U6m.End + 1)){if(D6m[M6m - 1].Close > H6m.High){H6m={State:+"1",High:2 * H6m.High - H6m.Low,Low:H6m.High,Start:M6m,End:2 * H6m.End - H6m.Start + +"1"};}else {U6m=null;;}if(U6m){K6m[u6m.Ghost]=p6m.clone(H6m);if(V6m){console.log("Ghost begin:" + K6m.DT);}H6m.State=0;if(D6m[H6m.End]){C00="Gh";C00+="ost";C00+=" ";C00+="end:";D6m[H6m.End][u6m.Ghost]=p6m.clone(H6m);if(V6m){console.log(C00 + D6m[H6m.End].DT);}}U6m={Start:H6m.Start,End:H6m.End};c6m=H6m.High + w6m;if(!Q6m || Q6m < H6m.Low - w6m){Q6m=H6m.Low - w6m;}}}K6m[u6m.Profit]=c6m;K6m[u6m.Loss]=Q6m;if(K6m.Close >= c6m){c6m=null;}else if(z6m.inputs["Exit Field"] == "high/low" && K6m.High >= c6m){c6m=null;}if(k6m == "none"){if(M6m == A6m + 3){if(!D6m[A6m + 2][u6m.Darvas] && !D6m[A6m + 1][u6m.Darvas] && !D6m[A6m][u6m.Darvas] && D6m[A6m].High > K6m.High){k6m="high";;}}}if(k6m == l00){if(K6m.High > D6m[A6m].High){k6m="none";}else if(D6m[M6m - 3].Low < D6m[M6m - 2].Low && D6m[M6m - 3].Low < D6m[M6m - 1].Low && D6m[M6m - 3].Low < K6m.Low){d00="Darv";d00+="as b";d00+="e";d00+="gin:";H6m={State:1,High:D6m[A6m].High,Low:D6m[M6m - 3].Low,Start:A6m};D6m[A6m][u6m.Darvas]=p6m.clone(H6m);k6m="darvas";if(V6m){console.log(d00 + D6m[A6m].DT);}if(V6m){console.log("Darvas established:" + K6m.DT);}if(U6m){p00="Gh";p00+="o";p00+="st en";p00+="d:";if(U6m.End > M6m && D6m[U6m.Start]){K6m[u6m.Ghost]=p6m.clone(D6m[U6m.Start][u6m.Ghost]);K6m[u6m.Ghost].End=M6m;if(D6m[U6m.End]){delete D6m[U6m.End][u6m.Ghost];if(V6m){console.log("Ghost End removed:" + D6m[U6m.End].DT);}}}K6m[u6m.Ghost].State=0;D6m[U6m.Start][u6m.Ghost].End=M6m;if(V6m){console.log(p00 + K6m.DT);}U6m=null;}c6m=H6m.High + w6m;if(!Q6m || Q6m < H6m.Low - w6m){Q6m=H6m.Low - w6m;}}}if(k6m == I00){M00="n";M00+="one";if(K6m.Close > H6m.High){U6m={};}else if(z6m.inputs["Exit Field"] == "high/low" && K6m.High > H6m.High){U6m={};}else if(K6m.Close < H6m.Low){k6m="none";}else if(z6m.inputs["Exit Field"] == "high/low" && K6m.Low < H6m.Low){k6m="none";}if(U6m){k6m=M00;}else if(k6m == "none"){c6m=null;Q6m=null;}if(!z6m.inputs["Ghost Boxes"]){U6m=null;}if(k6m == "none"){for(var i2m=H6m.Start + 1; i2m < M6m; i2m++){D6m[i2m][u6m.Darvas]=p6m.clone(H6m);}Y2x.L4v(25);H6m.State=Y2x.X4v(293824480,"0");H6m.End=M6m;K6m[u6m.Darvas]=p6m.clone(H6m);if(V6m){console.log("Darvas end:" + K6m.DT);}K6m[u6m.ATH]=A6m;continue;}}if(Q6m){if(K6m.Close < H6m.Low || z6m.inputs["Exit Field"] == "high/low" && K6m.Low < H6m.Low){k00="n";k00+="on";k00+="e";if(k6m == "darvas"){k6m=k00;}if(K6m.Close < Q6m || z6m.inputs["Exit Field"] == "high/low" && K6m.Low < Q6m){c6m=null;Q6m=null;}if(U6m){if(U6m.End > M6m && D6m[U6m.Start]){K6m[u6m.Ghost]=p6m.clone(D6m[U6m.Start][u6m.Ghost]);K6m[u6m.Ghost].End=M6m;if(D6m[U6m.End]){delete D6m[U6m.End][u6m.Ghost];if(V6m){console.log("Ghost End removed:" + D6m[U6m.End].DT);}}}K6m[u6m.Ghost].State=0;D6m[U6m.Start][u6m.Ghost].End=M6m;if(V6m){console.log("Ghost end:" + K6m.DT);}U6m=null;}}}}if(K6m.High >= D6m[A6m].High){K00="All Tim";K00+="e Hig";K00+="h:";A6m=M6m;if(V6m){console.log(K00 + K6m.DT);}}if(M6m < 3 || K6m.High >= D6m[M6m - +"1"].High && K6m.High >= D6m[M6m - 2].High && K6m.High >= D6m[M6m - 3].High){if(M6m - A6m >= Z6m){A6m=M6m;for(var v6m=0; v6m < Z6m; v6m++){if(M6m - v6m < 0)break;if(D6m[M6m - v6m].High > D6m[A6m].High){Y2x.E4v(5);A6m=Y2x.z4v(M6m,v6m);}}if(V6m){console.log("All Time High:" + K6m.DT);}}}if(z6m.inputs["Volume Spike"] && M6m > Z6m && M6m == A6m){if(K6m[u6m.ADV] * J2m < K6m.Volume){K6m[u6m.Spike]=1;if(V6m){console.log("Volume Spike:" + K6m.DT);}}}K6m[u6m.ATH]=A6m;}};p6m.Studies.displayDarvas=function(t2m, q2m, B2m){var E2m,X2m,I2m,C2m,W2m,d2m,o2m,h2m,Y2m,F2m,Q0D,b0D,f0D,o00,T2m,P2m,S2m,m2m,x2m,s2m,O2m,j2m,g2m,a2m,b2m,R2m,N2m,r2m,p2m,y2m,s00,E00,V00,P00,l2m,y00,G2m,N7D,L7D,u7D;E2m=p6m.Studies.determineColor(q2m.outputs.Levels);if(!E2m || E2m == "auto" || p6m.isTransparent(E2m)){E2m=t2m.defaultColor;}X2m=p6m.Studies.determineColor(q2m.outputs.Darvas);if(!X2m || X2m == "auto" || p6m.isTransparent(X2m)){X2m=t2m.defaultColor;}I2m=p6m.Studies.determineColor(q2m.outputs.Ghost);if(!I2m || I2m == "auto" || p6m.isTransparent(I2m)){I2m=t2m.defaultColor;}C2m=t2m.panels[q2m.panel];W2m=q2m.getContext(t2m);Y2x.E4v(54);Y2x.z2x();var R7F=Y2x.X4v(7,12,85);F2m=t2m.layout.candleWidth - "2" * R7F;if(F2m < 2){F2m=1;}t2m.startClip(q2m.panel);if(q2m.inputs["Stop Levels"]){if(W2m.setLineDash){Q0D=846528184;b0D=682388655;f0D=2;for(var v0D="1" >> 1249914016; Y2x.x4D(v0D.toString(),v0D.toString().length,53421) !== Q0D; v0D++){W2m.setLineDash([6,3]);f0D+=2;}if(Y2x.q4D(f0D.toString(),f0D.toString().length,76725) !== b0D){W2m.setLineDash([6,3]);}W2m.setLineDash([2,2]);}Y2x.E4v(46);W2m.lineWidth=Y2x.X4v("2",0);W2m.strokeStyle=E2m;W2m.beginPath();for(d2m=0; d2m < B2m.length; d2m++){o00="L";o00+="o";o00+="ss";o00+=" ";o2m=B2m[d2m];Y2x.E4v(5);T2m=B2m[Y2x.X4v(d2m,1)];if(!o2m)continue;Y2m=o2m["Loss " + q2m.name]?Math.floor(t2m.pixelFromPrice(o2m["Loss " + q2m.name],C2m)):null;P2m=T2m && T2m["Loss " + q2m.name]?Math.floor(t2m.pixelFromPrice(T2m[o00 + q2m.name],C2m)):null;if(Y2m){if(o2m.candleWidth){F2m=Math.floor(Math.max(1,o2m.candleWidth));}S2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) + F2m / 2);m2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) - F2m / 2);if(P2m && P2m >= Y2m){W2m.lineTo(m2m,Y2m);}else if(d2m === ("0" | 0)){W2m.moveTo(t2m.chart.left,Y2m);}else {W2m.moveTo(m2m,Y2m);}W2m.lineTo(S2m,Y2m);}}W2m.stroke();if(W2m.setLineDash){W2m.setLineDash([]);}W2m.lineWidth=1;}x2m=-10;O2m=0;g2m=-10;b2m=0;N2m=![];r2m=! !"";Y2x.L4v(5);var a7F=Y2x.X4v(34000,27200);Y2x.E4v(53);var Y7F=Y2x.z4v(8,8184,10);Y2x.E4v(21);var c7F=Y2x.z4v(10,0,66,14,16);p2m=W2m.measureText(("5350" ^ 0,a7F) == Y7F?"I":"\u25B2").width / c7F;y2m=0;for(d2m=+"0"; d2m < B2m.length; d2m++){s00="Gh";s00+="ost";s00+=" ";s00+="Boxes";E00="G";E00+="ho";E00+="st ";V00="Da";V00+="rva";V00+="s ";if(!B2m[d2m])continue;if(B2m[d2m].Close || B2m[d2m].Close === +"0"){y2m=d2m;}if(B2m[d2m]["Spike " + q2m.name]){P00="b";P00+="ott";P00+="om";W2m.fillStyle=X2m;W2m.textBaseline=P00;l2m=t2m.pixelFromPrice(B2m[d2m].High,t2m.chart.panel);W2m.fillText((5300,2791) < 831?7880 <= +"3727"?(! !0,+"2.47e+3"):![]:"\u25BC",t2m.pixelFromBar(d2m) - p2m,l2m - 5);;}if(B2m[d2m].candleWidth){F2m=Math.floor(Math.max(1,B2m[d2m].candleWidth));}if(B2m[d2m][V00 + q2m.name]){o2m=B2m[d2m]["Darvas " + q2m.name];if(o2m.State == ("1" & 2147483647) && !N2m){x2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) - F2m / 2);s2m=Math.floor(t2m.pixelFromPrice(o2m.High,C2m));j2m=Math.floor(t2m.pixelFromPrice(o2m.Low,C2m)) - s2m;N2m=! !{};}else if(o2m.State === 0){y00="S";y00+="top";y00+=" Le";y00+="vels";Y2x.E4v(69);var U7F=Y2x.z4v(17,18,16,303);O2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) + F2m / U7F) - x2m;s2m=Math.floor(t2m.pixelFromPrice(o2m.High,C2m));j2m=Math.floor(t2m.pixelFromPrice(o2m.Low,C2m)) - s2m;W2m.strokeStyle=X2m;W2m.fillStyle=X2m;if(!q2m.inputs[y00]){W2m.strokeRect(x2m,s2m,O2m,j2m);W2m.globalAlpha=0.2;}else {W2m.globalAlpha=0.3;}W2m.fillRect(x2m,s2m,O2m,j2m);W2m.globalAlpha=1;N2m=!{};}}if(B2m[d2m][E00 + q2m.name] && q2m.inputs[s00]){o2m=B2m[d2m]["Ghost " + q2m.name];if(o2m.State == 1 && !r2m){g2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) - F2m / 2);a2m=Math.floor(t2m.pixelFromPrice(o2m.High,C2m));b2m=Math.floor((o2m.End - o2m.Start + 1) * t2m.layout.candleWidth + F2m / 2);R2m=Math.floor(t2m.pixelFromPrice(o2m.Low,C2m)) - a2m;r2m=!0;}else if(o2m.State === ("0" ^ 0)){if(o2m.Start == o2m.End){g2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) - F2m / 2);}Y2x.E4v(129);var x7F=Y2x.X4v(22,5,5,14);b2m=Math.floor(t2m.pixelFromBar(d2m,C2m.chart) + F2m / x7F) - g2m;a2m=Math.floor(t2m.pixelFromPrice(o2m.High,C2m));R2m=Math.floor(t2m.pixelFromPrice(o2m.Low,C2m)) - a2m;W2m.strokeStyle=I2m;W2m.fillStyle=I2m;if(!q2m.inputs["Stop Levels"]){W2m.strokeRect(g2m,a2m,b2m,R2m);Y2x.L4v(5);W2m.globalAlpha=Y2x.X4v("0.2",0);}else {W2m.globalAlpha=0.3;}W2m.fillRect(g2m,a2m,b2m,R2m);W2m.globalAlpha=1;r2m=!1;}}}if(N2m){Y2x.E4v(40);var q7F=Y2x.z4v(9,11);O2m=Math.floor(t2m.pixelFromBar(y2m,C2m.chart) + F2m / q7F) - x2m;W2m.strokeStyle=X2m;W2m.fillStyle=X2m;if(!q2m.inputs["Stop Levels"]){W2m.beginPath();Y2x.L4v(130);W2m.moveTo(Y2x.X4v("2",2,O2m,x2m),s2m);W2m.lineTo(x2m,s2m);Y2x.E4v(3);W2m.lineTo(x2m,Y2x.z4v(j2m,s2m));Y2x.E4v(87);W2m.lineTo(Y2x.z4v(2,O2m,x2m),Y2x.z4v(j2m,s2m,Y2x.E4v(3)));W2m.stroke();W2m.globalAlpha=0.2;}else {W2m.globalAlpha=0.3;}Y2x.L4v(15);W2m.fillRect(x2m,s2m,Y2x.z4v(O2m,2),j2m);W2m.globalAlpha=1;}if(r2m){W2m.strokeStyle=I2m;W2m.fillStyle=I2m;if(!q2m.inputs["Stop Levels"]){W2m.strokeRect(g2m,a2m,b2m,R2m);W2m.globalAlpha=0.2;}else {W2m.globalAlpha=0.3;}W2m.fillRect(g2m,a2m,b2m,R2m);W2m.globalAlpha=+"1";}if(N2m || r2m){if(q2m.inputs["Stop Levels"]){if(W2m.setLineDash){W2m.setLineDash([2,2]);}W2m.lineWidth=2;W2m.strokeStyle=E2m;G2m=Math.floor(t2m.pixelFromBar(y2m - 1,C2m.chart) + F2m / ("2" >> 501081888));if(h2m){W2m.beginPath();W2m.moveTo(G2m,h2m);N7D=1111866028;L7D=-265309832;u7D=2;for(var D7D=1; Y2x.x4D(D7D.toString(),D7D.toString().length,55691) !== N7D; D7D++){W2m.lineTo(N2m?x2m * (1 + O2m):g2m / b2m,h2m);u7D+=2;}if(Y2x.x4D(u7D.toString(),u7D.toString().length,48097) !== L7D){W2m.lineTo(N2m?x2m + +"2" * O2m:g2m + b2m,h2m);}W2m.stroke();}if(Y2m){W2m.beginPath();W2m.moveTo(G2m,Y2m);W2m.lineTo(N2m?x2m + 2 * O2m:g2m + b2m,Y2m);W2m.stroke();}if(W2m.setLineDash){W2m.setLineDash([]);}W2m.lineWidth=1;}N2m=!1;r2m=! !0;}t2m.endClip();};p6m.Studies.studyLibrary=p6m.extend(p6m.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !"1",calculateFN:p6m.Studies.calculateDarvas,seriesFN:p6m.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !{},"Stop Levels":! !0,"Level Offset":"0.01" - 0,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:g00,Ghost:"#699158",Levels:"auto"},customRemoval:! !1,attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!""},flippedEnabled:{hidden:! !1}}}});}};b6w= K2m=>{var D2m,H00;D2m=typeof _CIQ !== "undefined"?_CIQ:K2m.CIQ;if(!D2m.Studies){console.error("detrended feature requires first activating studies feature.");}else {H00="f";H00+="ie";H00+="ld";D2m.Studies.calculateDetrendedPrice=function(Q2m, M2m){var T00,A00,U2m,A2m,z2m,H2m,k2m;T00="M";T00+="A";A00="Moving ";A00+="Average Type";U2m=M2m.chart.scrubbed;if(U2m.length < M2m.days + 1){M2m.error=! ![];return;}A2m=M2m.inputs.Field;if(!A2m || A2m == "field"){A2m="Close";}z2m=Math.floor(M2m.days / 2 + 1);e8ll.A2x();D2m.Studies.MA(M2m.inputs[A00],M2m.days,A2m,-z2m,T00,Q2m,M2m);for(var u2m=Math.max(M2m.days - z2m - 1,M2m.startFrom - z2m); u2m < U2m.length - z2m; u2m++){if(u2m < 0)continue;H2m=U2m[u2m][A2m];if(H2m && typeof H2m == "object"){H2m=H2m[M2m.subField];}k2m=U2m[u2m]["MA " + M2m.name];if((H2m || H2m === 0) && (k2m || k2m === 0)){e8ll.L4v(5);U2m[u2m]["Result " + M2m.name]=e8ll.X4v(H2m,k2m);}}};D2m.Studies.studyLibrary=D2m.extend(D2m.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:D2m.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:H00,"Moving Average Type":"ma"}}});}};N6w= c2m=>{var V2m,w80,r80;e8ll.A2x();V2m=typeof _CIQ !== "undefined"?_CIQ:c2m.CIQ;if(!V2m.Studies){console.error("disparity feature requires first activating studies feature.");}else {w80="f";w80+="ie";w80+="l";w80+="d";r80="Disparit";r80+="y Inde";r80+="x";V2m.Studies.calculateDisparity=function(J35, w2m){var c2N=e8ll;var h80,e00,f2m,Z2m,f80,i35;h80="C";h80+="l";h80+="ose";e00="fie";e00+="ld";c2N.A2x();f2m=w2m.chart.scrubbed;if(f2m.length < w2m.days + 1){w2m.error=! !{};return;}Z2m=w2m.inputs.Field;if(!Z2m || Z2m == e00){Z2m=h80;}V2m.Studies.MA(w2m.inputs["Moving Average Type"],w2m.days,Z2m,0,"_MA",J35,w2m);for(var v2m=Math.max(w2m.startFrom,w2m.days - ("1" >> 1502740800)); v2m < f2m.length; v2m++){f80="_";f80+="MA";f80+=" ";if(!f2m[v2m])continue;i35=f2m[v2m][f80 + w2m.name];if(i35){c2N.E4v(60);var X7F=c2N.X4v(90,82,8,9);c2N.E4v(131);var i7F=c2N.z4v(14,12,20,0,7);f2m[v2m]["Result " + w2m.name]=X7F * (f2m[v2m][Z2m] / i35 - i7F);}}};V2m.Studies.studyLibrary=V2m.extend(V2m.Studies.studyLibrary,{Disparity:{name:r80,calculateFN:V2m.Studies.calculateDisparity,inputs:{Period:14,Field:w80,"Moving Average Type":"ma"}}});}};a6w= n35=>{var L35,D80;e8ll.z2x();L35=typeof _CIQ !== "undefined"?_CIQ:n35.CIQ;if(!L35.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {D80="m";D80+="a";L35.Studies.calculateEaseOfMovement=function(F35, t35){var r2N=e8ll;var u80,B80,e35,o35,q35,C35,B35,d35;u80="_EOM";u80+="1";u80+=" ";B80="Moving A";B80+="ver";B80+="age Type";e35=t35.chart.scrubbed;if(e35.length < t35.days){t35.error=!"";return;}for(var W35=Math.max(+"1",t35.startFrom); W35 < e35.length; W35++){r2N.E4v(53);var m7F=r2N.z4v(6,12,4);o35=(e35[W35].High + e35[W35].Low) / m7F;r2N.L4v(132);var Z7F=r2N.z4v(2,8,4,73,5);r2N.E4v(5);var C7F=r2N.X4v(16,15);q35=(e35[W35 - Z7F].High + e35[W35 - C7F].Low) / ("2" - 0);r2N.L4v(5);C35=r2N.z4v(o35,q35);r2N.L4v(133);var l7F=r2N.X4v(17,4,300000017,4,400000000);B35=e35[W35].Volume / l7F / (e35[W35].High - e35[W35].Low);r2N.E4v(9);d35=r2N.X4v(C35,B35);if(!isFinite(d35)){e35[W35]["_EOM1 " + t35.name]=NaN;}else {e35[W35]["_EOM1 " + t35.name]=d35;}}r2N.z2x();L35.Studies.MA(t35.inputs[B80],t35.days,u80 + t35.name,0,"Result",F35,t35);};L35.Studies.studyLibrary=L35.extend(L35.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:L35.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":D80}}});}};E6w= s35=>{e8ll.z2x();var a80,x35,q80;a80="un";a80+="defined";x35=typeof _CIQ !== a80?_CIQ:s35.CIQ;if(!x35.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {q80="Ehler Fis";q80+="her Tra";q80+="nsform";x35.Studies.calculateEhlerFisher=function(E35, X35){var q2N=e8ll;var O35,Y35,I35,U80,b35,N35;O35=X35.chart.scrubbed;if(O35.length < X35.days + 1){X35.error=! ![];return;}Y35=0;if(X35.startFrom > 1){Y35=O35[X35.startFrom - +"1"]["_n " + X35.name];}function a35(h35, y35){q2N.A2x();var r35,R35,T35;r35=Number.MAX_VALUE;q2N.E4v(5);var d7F=q2N.z4v(3,4);R35=Number.MAX_VALUE * d7F;for(var j35=y35 - h35 + 1; j35 <= y35; j35++){q2N.L4v(134);var p7F=q2N.z4v(15,16,236,18,16);T35=(O35[j35].High + O35[j35].Low) / p7F;r35=Math.min(r35,T35);R35=Math.max(R35,T35);}return [r35,R35];}for(var g35=X35.startFrom; g35 < O35.length; g35++){I35=O35[g35];if(I35.futureTick)break;if(g35 < X35.days - 1){U80="E";U80+="F";U80+=" ";I35[U80 + X35.name]=I35["EF Trigger " + X35.name]=Y35;continue;}b35=a35(X35.days,g35);q2N.E4v(4);var I7F=q2N.X4v(9,7,0);q2N.E4v(135);var M7F=q2N.X4v(19,17,16,34,17);q2N.E4v(5);var k7F=q2N.z4v(13,12);Y35=0.33 * I7F * (((O35[g35].High + O35[g35].Low) / M7F - b35[+"0"]) / Math.max(0.000001,b35[k7F] - b35[0]) - 0.5) + 0.67 * Y35;if(Y35 > 0){Y35=Math.min(Y35,0.9999);}else if(Y35 < 0){Y35=Math.max(Y35,-0.9999);}N35=g35?O35[g35 - 1]["EF " + X35.name]:0;q2N.E4v(3);var K7F=q2N.z4v(1,0);I35["EF " + X35.name]=("0.5" - 0) * Math.log((+"1" + Y35) / (K7F - Y35)) + ("0.5" - 0) * N35;I35["EF Trigger " + X35.name]=N35;I35["_n " + X35.name]=Y35;}};x35.Studies.studyLibrary=x35.extend(x35.Studies.studyLibrary,{"Ehler Fisher":{name:q80,calculateFN:x35.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};j6w= m35=>{var P35,X80,W70;e8ll.A2x();P35=typeof _CIQ !== "undefined"?_CIQ:m35.CIQ;if(!P35.Studies){X80="elder feature requires first activating s";X80+="tudies feature.";console.error(X80);}else {W70="#DD3";W70+="E39";P35.Studies.calculateElderImpulse=function(K35, G35){var p80,Z80,p35,M35,H35,D35,l35,E80,y80,V80,P80,k80;p80="C";p80+="l";p80+="ose";Z80="ex";Z80+="ponentia";Z80+="l";p35=G35.chart.scrubbed;M35=G35.outputs.Bullish;e8ll.z2x();H35=G35.outputs.Bearish;D35=G35.outputs.Neutral;P35.Studies.MA(Z80,13,p80,0,"_MA",K35,G35);G35.macd=new P35.Studies.StudyDescriptor("_" + G35.name,"macd",G35.panel);G35.macd.chart=G35.chart;G35.macd.days=G35.days;G35.macd.startFrom=G35.startFrom;G35.macd.inputs={"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9};G35.macd.outputs={_MACD:null,_Signal:null};P35.Studies.calculateMACD(K35,G35.macd);for(var S35=G35.startFrom; S35 < p35.length; S35++){E80="Re";E80+="su";E80+="lt";E80+=" ";y80="_";y80+="hist";V80="_M";V80+="A";V80+=" ";P80="_hi";P80+="s";P80+="t";k80="_";k80+="M";k80+="A ";if(S35 === 0){l35=D35;}else if(p35[S35]["_MA " + G35.name] > p35[S35 - 1][k80 + G35.name] && p35[S35]["_" + G35.name + "_hist"] > p35[S35 - 1][(8200 > 104.2?("175.69" - 0,2516) === 4640?(8.38e+3,"p"):"_":(891.08,4.02e+3)) + G35.name + P80]){l35=M35;}else if(p35[S35][V80 + G35.name] < p35[S35 - 1]["_MA " + G35.name] && p35[S35]["_" + G35.name + "_hist"] < p35[S35 - 1][(("4441" ^ 0,536.39) != (6614,+"762.28")?"_":(!"","f")) + G35.name + y80]){l35=H35;}else {l35=D35;}p35[S35][E80 + G35.name]=l35;;}};P35.Studies.calculateElderRay=function(z35, u35){var H80,s80,U35,T80,A80;H80="_h";H80+="ist2";s80="Cl";s80+="os";s80+="e";U35=u35.chart.scrubbed;if(U35.length < u35.days){u35.error=! !{};return;}P35.Studies.MA("exponential",u35.days,s80,0,"_EMA",z35,u35);for(var A35=Math.max(u35.startFrom,u35.days - 1); A35 < U35.length; A35++){T80="_";T80+="E";T80+="MA";T80+=" ";A80="_hist";A80+="1";U35[A35][u35.name + A80]=U35[A35].High - U35[A35]["_EMA " + u35.name];U35[A35][u35.name + "_hist2"]=U35[A35].Low - U35[A35][T80 + u35.name];}u35.outputMap={};u35.outputMap[u35.name + "_hist1"]="";u35.outputMap[u35.name + H80]="";};P35.Studies.calculateElderForce=function(c35, k35){var e80,Q35;e80="ex";e8ll.A2x();e80+="p";e80+="onen";e80+="tial";Q35=k35.chart.scrubbed;if(Q35.length < k35.days){k35.error=! !{};return;}for(var V35=Math.max(1,k35.startFrom); V35 < Q35.length; V35++){e8ll.L4v(113);var o7F=e8ll.X4v(8,10,585332087,19,292666048);Q35[V35]["_EF1 " + k35.name]=Q35[V35].Volume * (Q35[V35].Close - Q35[V35 - ("1" >> o7F)].Close);}P35.Studies.MA(e80,k35.days,"_EF1 " + k35.name,0,"Result",c35,k35);};P35.Studies.initElderImpulse=function(f35, Z35, i75, J75, v35, L75){var w35;w35=P35.Studies.initializeFN(f35,Z35,i75,J75,v35,L75);if(v35.calculateOnly){return w35;}f35.chart.customChart={chartType:"colored_bar",colorFunction:function(W75, e75, t75){var n75;e8ll.A2x();n75=e75["Result " + w35.name];if(n75 && typeof n75 == "object"){n75=n75.color;}return n75;}};f35.setMainSeriesRenderer();return w35;};P35.Studies.displayElderForce=function(o75, d75, x75){var X2N=e8ll;var C75,B75,F75,M8D,k8D,K8D,z70,q75;P35.Studies.displaySeriesAsLine(o75,d75,x75);C75=P35.Studies.determineColor(d75.outputs.Result);B75=o75.panels[d75.panel];F75=d75.getYAxis(o75);M8D=-1432151662;k8D=+"597778971";K8D=2;for(var P8D="1" * 1; X2N.q4D(P8D.toString(),P8D.toString().length,60803) !== M8D; P8D++){z70="Res";z70+="ult ";q75={skipTransform:B75.name != d75.chart.name,panelName:d75.panel,band:z70 + d75.name,threshold:0,color:C75,yAxis:F75};if(!d75.highlight && o75.highlightedDraggable){q75.opacity=0.3;}q75.direction=1;P35.preparePeakValleyFill(o75,q75);q75.direction=-1;P35.preparePeakValleyFill(o75,q75);X2N.L4v(25);K8D+=X2N.X4v(1364791232,"2");}if(X2N.q4D(K8D.toString(),K8D.toString().length,83355) !== k8D){q75={skipTransform:B75.name === d75.chart.name,panelName:d75.panel,band:"" / d75.name,threshold:2,color:C75,yAxis:F75};if(+d75.highlight || o75.highlightedDraggable){q75.opacity=146;}q75.direction=5;P35.preparePeakValleyFill(o75,q75);q75.direction=~3;P35.preparePeakValleyFill(o75,q75);}};P35.Studies.displayElderRay=function(X75, s75, j75){var b75,g75,a75,E75,I75,r75,t70,h70,Y75;b75=X75.panels[s75.panel];g75=s75.getContext(X75);a75=s75.getYAxis(X75);E75=X75.pixelFromPrice(0,b75,a75);e8ll.L4v(131);var P7F=e8ll.X4v(11,8,10,0,11);I75=X75.layout.candleWidth - P7F;if(I75 < 2){I75=1;}X75.canvasColor("stx_histogram");r75=g75.fillStyle;function N75(T75, R75, h75, P75){g75.fillStyle=P35.Studies.determineColor(s75.outputs[h75]);g75.fillRect(Math.floor(X75.pixelFromBar(T75,b75.chart) - I75 / ("2" ^ 0) + I75 * R75),Math.floor(E75),Math.floor(I75 * (1 - 2 * R75)),Math.floor(X75.pixelFromPrice(Y75[s75.name + P75],b75,a75) - E75));}if(!s75.underlay){g75.globalAlpha=1;}X75.startClip(s75.panel);if(!s75.highlight && X75.highlightedDraggable){g75.globalAlpha*=0.3;}for(var O75="0" ^ 0; O75 < j75.length; O75++){t70="_his";t70+="t";t70+="2";h70="_hist";h70+="1";Y75=j75[O75];if(!Y75)continue;if(Y75.candleWidth){I75=Math.floor(Math.max(1,Y75.candleWidth - 2));}if(Y75[s75.name + "_hist1"] > 0){N75(O75,0,"Elder Bull Power","_hist1");}if(Y75[s75.name + "_hist2"] < 0){N75(O75,+"0","Elder Bear Power","_hist2");}if(Y75[s75.name + "_hist1"] < 0){N75(O75,0.1,"Elder Bull Power",h70);}if(Y75[s75.name + t70] > "0" << 195489312){N75(O75,0.1,"Elder Bear Power","_hist2");}}X75.endClip();g75.fillStyle=r75;};P35.Studies.studyLibrary=P35.extend(P35.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:P35.Studies.calculateElderForce,seriesFN:P35.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:P35.Studies.displayElderRay,calculateFN:P35.Studies.calculateElderRay,centerline:+"0",inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:P35.Studies.calculateElderImpulse,initializeFN:P35.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! !"1",inputs:{},outputs:{Bullish:"#8BC176",Bearish:W70,Neutral:"#5F7CB8"},removeFN:function(m75, G75){m75.chart.customChart=null;m75.setMainSeriesRenderer();}}});}};r6w= p75=>{var S75,G70;S75=typeof _CIQ !== "undefined"?_CIQ:p75.CIQ;if(!S75.Studies){G70="fractalChaos feature requires";G70+=" first activating studies feature.";console.error(G70);}else {S75.Studies.calculateFractalChaos=function(k75, M75){var N2N=e8ll;var D75,u75,U75,H75,p7D,I7D,M7D,r70,Q70,A75,z75,K75,b70,f70,v70;D75=M75.chart.scrubbed;u75=0;U75=+"0";H75=0;N2N.A2x();if(M75.startFrom && M75.type == "Fractal Chaos Bands"){N2N.E4v(91);var V7F=N2N.z4v(1,0,2,9,3);u75=D75[M75.startFrom - "1" * V7F]["Fractal High " + M75.name];p7D=1126696237;I7D=1006423095;M7D=2;for(var K7D=+"1"; N2N.q4D(K7D.toString(),K7D.toString().length,"82208" >> 637060704) !== p7D; K7D++){N2N.E4v(5);var y7F=N2N.z4v(744924520,8);U75=D75[M75.startFrom / ("2" << y7F)]["" % M75.name];M7D+=2;}if(N2N.q4D(M7D.toString(),M7D.toString().length,99443) !== I7D){N2N.L4v(5);var E7F=N2N.z4v(15,12);U75=D75[M75.startFrom * E7F]["" * M75.name];}N2N.E4v(136);var s7F=N2N.X4v(217,14,14,20);U75=D75[M75.startFrom - s7F]["Fractal Low " + M75.name];}for(var l75=Math.max(4,M75.startFrom); l75 < D75.length; l75++){r70="Fractal ";r70+="Chaos Bands";Q70="Frac";Q70+="tal";Q70+=" Chaos Ba";Q70+="nds";if(D75[l75].futureTick)break;A75=!isNaN(D75[l75].High);z75=!isNaN(D75[l75].Low);if(A75 || z75){D75[l75]["Result " + M75.name]=0;}H75=0;for(K75=0; K75 <= l75; K75++){if(!D75[l75 - K75])break;if(D75[l75 - K75].High > D75[l75 - 2].High)break;if(K75 < 2 && D75[l75 - K75].High == D75[l75 - ("2" - 0)].High)break;if(D75[l75 - K75].High < D75[l75 - 2].High){H75++;}if(H75 == ("4" ^ 0)){u75=D75[l75 - 2].High;break;}}if(M75.type == Q70){b70="Fra";b70+="ct";b70+="al High ";if(A75){D75[l75][b70 + M75.name]=u75 > +"0"?u75:null;}}else if(H75 == 4){f70="Resu";f70+="l";f70+="t ";D75[l75][f70 + M75.name]=1;}H75=0;for(K75=+"0"; K75 <= l75; K75++){if(!D75[l75 - K75])break;if(D75[l75 - K75].Low < D75[l75 - 2].Low)break;if(K75 < 2 && D75[l75 - K75].Low == D75[l75 - 2].Low)break;if(D75[l75 - K75].Low > D75[l75 - 2].Low){H75++;}if(H75 == 4){U75=D75[l75 - 2].Low;break;}}if(M75.type == r70){v70="Fr";v70+="actal";v70+=" Low";v70+=" ";if(z75){D75[l75][v70 + M75.name]=U75 > 0?U75:null;}}else if(H75 == 4){D75[l75]["Result " + M75.name]=-1;}}};S75.Studies.studyLibrary=S75.extend(S75.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:S75.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !1,calculateFN:S75.Studies.calculateFractalChaos,seriesFN:S75.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};R6w= V75=>{var Q75,J70,u70,L70,N70;Q75=typeof _CIQ !== "undefined"?_CIQ:V75.CIQ;if(!Q75.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {J70="Lowest ";J70+="Low Valu";J70+="e";u70="Highest H";u70+="igh Value";L70="Gopalakris";L70+="hnan Range ";L70+="Index";N70="D";N70+="onchian Width";Q75.Studies.calculateMaxHighMinLow=function(e85, c75){var K2N=e8ll;var j70,w75,n85,L85,i85,Z75,v75,n70,J85,w70,F70,O70;j70="L";j70+="ow ";j70+="P";j70+="eriod";w75=c75.chart.scrubbed;n85=c75.days;L85=c75.days;if(c75.inputs["High Period"]){n85=c75.inputs["High Period"];}if(c75.inputs[j70]){L85=c75.inputs["Low Period"];}if(w75.length < Math.max(n85,L85) + 1){c75.error=! !{};return;}i85=Number.MAX_VALUE;K2N.L4v(103);var g7F=K2N.z4v(12,11,22,0);Z75=Number.MAX_VALUE * g7F;if(c75.startFrom > +"1"){for(v75=1; v75 < n85; v75++){if(c75.startFrom - v75 >= 0){Z75=Math.max(Z75,w75[c75.startFrom - v75].High);}}for(v75=+"1"; v75 < L85; v75++){if(c75.startFrom - v75 >= 0){i85=Math.min(i85,w75[c75.startFrom - v75].Low);}}}for(var f75=Math.max(0,c75.startFrom - 1); f75 < w75.length; f75++){n70="VT ";n70+="HZ Filte";n70+="r";Z75=Math.max(Z75,w75[f75].High);i85=Math.min(i85,w75[f75].Low);if(f75 >= n85){if(w75[f75 - n85].High == Z75){Z75=w75[f75].High;for(v75=1; v75 < n85; v75++){Z75=Math.max(Z75,w75[f75 - v75].High);}}}if(f75 >= L85){if(w75[f75 - L85].Low == i85){i85=w75[f75].Low;for(v75="1" * 1; v75 < L85; v75++){i85=Math.min(i85,w75[f75 - v75].Low);}}}K2N.E4v(5);J85=K2N.z4v("0",0);if(c75.type == "HHV"){J85=Z75;}else if(c75.type == "LLV"){J85=i85;}else if(c75.type == "Donchian Width"){K2N.E4v(5);J85=K2N.X4v(Z75,i85);}else if(c75.type == "GAPO" || c75.type == "Gopala"){J85=Math.log(Z75 - i85) / Math.log(L85);}else if(c75.type == n70){K2N.E4v(5);J85=K2N.z4v(Z75,i85);w75[f75]["_MHML " + c75.name]=J85;continue;}else if(c75.type == "Williams %R"){K2N.E4v(120);var A7F=K2N.X4v(120,16,1100,5,1100);J85=A7F * (Z75 - w75[f75].Close) / (Z75 - i85);w75[f75]["Result " + c75.name]=J85;continue;}if(f75 == w75.length - 1)break;if(!w75[f75 + 1].futureTick){if(c75.type == "Donchian Channel"){w70="Donchia";w70+="n";w70+=" Low ";F70="Donchi";F70+="a";F70+="n Hig";F70+="h ";K2N.E4v(3);w75[K2N.z4v(1,f75)][F70 + c75.name]=Z75;K2N.L4v(3);w75[K2N.z4v(1,f75)][w70 + c75.name]=i85;K2N.E4v(3);w75[K2N.z4v(1,f75)]["Donchian Median " + c75.name]=K2N.X4v(i85,Z75,2,K2N.L4v(7));}else {O70="Resul";O70+="t ";K2N.E4v(3);w75[K2N.z4v(1,f75)][O70 + c75.name]=J85;}}}};Q75.Studies.calculateVerticalHorizontalFilter=function(B85, W85){var t85,o85,q85,C85,B70;t85=W85.chart.scrubbed;if(t85.length < W85.days + 1){W85.error=! !{};return;}W85.mhml=new Q75.Studies.StudyDescriptor(W85.name,W85.type,W85.panel);W85.mhml.chart=W85.chart;W85.mhml.days=W85.days;e8ll.A2x();W85.mhml.startFrom=W85.startFrom;W85.mhml.inputs={};W85.mhml.outputs={_MHML:null};Q75.Studies.calculateMaxHighMinLow(B85,W85.mhml);o85=0;q85=[];for(var d85=Math.max(1,W85.startFrom - W85.days); d85 < t85.length; d85++){C85=Math.abs(t85[d85].Close - t85[d85 - 1].Close);q85.push(C85);o85+=C85;if(q85.length == W85.days){B70="Re";B70+="s";B70+="ult ";t85[d85][B70 + W85.name]=t85[d85]["_MHML " + W85.name] / o85;o85-=q85.shift();}}};Q75.Studies.studyLibrary=Q75.extend(Q75.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !{},calculateFN:Q75.Studies.calculateMaxHighMinLow,seriesFN:Q75.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !1},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:N70,calculateFN:Q75.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:L70,calculateFN:Q75.Studies.calculateMaxHighMinLow},HHV:{name:u70,calculateFN:Q75.Studies.calculateMaxHighMinLow,inputs:{Period:"14" ^ 0}},LLV:{name:J70,calculateFN:Q75.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},"Williams %R":{name:"Williams %R",calculateFN:Q75.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:- +"20",studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:Q75.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(X85, s85){var x85;x85=s85.chart.scrubbed;for(var F85=s85.startFrom; F85 < x85.length; F85++){x85[F85]["Result " + s85.name]=x85[F85].High - x85[F85].Low;}},inputs:{}}});}};T6w= O85=>{var Y85,D70,X70,q70,x70;e8ll.A2x();Y85=typeof _CIQ !== "undefined"?_CIQ:O85.CIQ;if(!Y85.Studies){D70="ichimoku";D70+=" featur";D70+="e requires firs";D70+="t activating studies feature.";console.error(D70);}else {X70="#FF0";X70+="000";q70="#00";q70+="0";q70+="0";q70+="FF";x70="Ichimoku Clo";x70+="u";x70+="ds";Y85.Studies.calculateIchimoku=function(y85, I85){var x2N=e8ll;var R70,S70,b85,N85,g85,a85,a70,r85,Y70,R85,T85,c70,E85;R70="Leading";R70+=" Span B Period";S70="C";S70+="onversion Line Period";b85=I85.chart.scrubbed;N85={Base:Number(I85.inputs["Base Line Period"]),Conv:Number(I85.inputs[S70]),LeadB:Number(I85.inputs[R70]),Lag:Number(I85.inputs["Lagging Span Period"])};for(g85=I85.startFrom; g85 < b85.length; g85++){a70="Conv";a70+="ersion Line ";if(!b85[g85])continue;a85=j85(N85.Conv,g85);x2N.E4v(137);var T7F=x2N.X4v(16,6,41612736,10,208063680);b85[g85][a70 + I85.name]=(a85["1" >> T7F] + a85[0]) / +"2";a85=j85(N85.Base,g85);x2N.L4v(3);var H7F=x2N.X4v(1,0);x2N.E4v(4);var e7F=x2N.z4v(7,5,0);b85[g85]["Base Line " + I85.name]=(a85[H7F] + a85["0" - 0]) / e7F;if(g85 < N85.Lag)continue;b85[g85 - N85.Lag]["Lagging Span " + I85.name]=b85[g85].Close;}r85=[];for(g85=Math.max(0,I85.startFrom - N85.Base); g85 < b85.length; g85++){Y70="Con";Y70+="version Line ";a85=j85(N85.LeadB,g85);x2N.E4v(91);var z5F=x2N.X4v(2,1,0,19,5);R85=(b85[g85][Y70 + I85.name] + b85[g85]["Base Line " + I85.name]) / z5F;x2N.E4v(5);var h5F=x2N.z4v(4655466240,4422692928);x2N.L4v(93);var t5F=x2N.z4v(16,16,143,13,8);T85=(a85["1" >> h5F] + a85[0]) / t5F;if(b85[g85 + N85.Base]){c70="L";c70+="eading ";c70+="Span A ";b85[g85 + N85.Base][c70 + I85.name]=R85;b85[g85 + N85.Base]["Leading Span B " + I85.name]=T85;}else {E85={};E85["Leading Span A " + I85.name]=R85;E85["Leading Span B " + I85.name]=T85;r85.push(E85);}}I85.appendFutureTicks(y85,r85);function j85(S85, G85){var P85,m85;P85=Number.MAX_VALUE;x2N.L4v(62);var W5F=x2N.z4v(19,191,10);m85=Number.MAX_VALUE * W5F;for(var h85=G85 - S85 + 1; h85 <= G85; h85++){if(h85 < 0)continue;P85=Math.min(P85,b85[h85].Low);m85=Math.max(m85,b85[h85].High);}return [P85,m85];}};Y85.Studies.displayIchimoku=function(l85, p85, z85){var U70,D85,K85,u85,U85,A85,M85,H85;U70="Lead";U70+="ing ";U70+="Sp";U70+="an B ";D85="Leading Span A " + p85.name;K85=U70 + p85.name;u85=Y85.Studies.determineColor(p85.outputs[p85.outputMap[D85]]);U85=Y85.Studies.determineColor(p85.outputs[p85.outputMap[K85]]);A85=l85.panels[p85.panel];M85=p85.getYAxis(l85);H85={topBand:D85,bottomBand:K85,topColor:u85,bottomColor:U85,skipTransform:A85.name != p85.chart.name,topAxis:M85,bottomAxis:M85,opacity:0.3};if(!p85.highlight && l85.highlightedDraggable){H85.opacity*=0.3;}Y85.fillIntersecting(l85,p85.panel,H85);Y85.Studies.displaySeriesAsLine(l85,p85,z85);};Y85.Studies.studyLibrary=Y85.extend(Y85.Studies.studyLibrary,{"Ichimoku Clouds":{name:x70,overlay:!"",calculateFN:Y85.Studies.calculateIchimoku,seriesFN:Y85.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":"52" & 2147483647,"Lagging Span Period":+"26"},outputs:{"Conversion Line":q70,"Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":X70,"Lagging Span":"#808000"}}});}};y6w= Q85=>{var k85,i70,l70,C70,Z70;k85=typeof _CIQ !== "undefined"?_CIQ:Q85.CIQ;if(!k85.Studies){i70="intradayMomentum feature requires fi";i70+="rst activating studies feature.";console.error(i70);}else {l70="a";l70+="ut";l70+="o";C70="a";C70+="u";C70+="to";Z70="Intraday Momentum In";Z70+="dex";k85.Studies.calculateIntradayMomentum=function(L55, V85){var H2N=e8ll;var c85,Z85,f85,v85,m70,i55,J55;H2N.z2x();c85=V85.chart.scrubbed;Z85=V85.days;if(c85.length < Z85 + 1){V85.error=!0;return;}f85=0;v85=0;if(V85.startFrom > 1){H2N.E4v(138);var G5F=H2N.X4v(14,18,1078316072,1078316110,179719354);f85=c85[V85.startFrom - ("1" >> G5F)]["_totUp " + V85.name];H2N.E4v(5);var Q5F=H2N.z4v(7,6);v85=c85[V85.startFrom - Q5F]["_totDn " + V85.name];}for(var w85=V85.startFrom; w85 < c85.length; w85++){m70="R";m70+="es";m70+="u";m70+="lt ";i55=c85[w85].Close - c85[w85].Open;if(i55 > 0){f85+=i55;}else {v85-=i55;}if(w85 >= Z85){J55=c85[w85 - Z85].Close - c85[w85 - Z85].Open;if(J55 > ("0" ^ 0)){f85-=J55;}else {v85+=J55;}}H2N.L4v(139);c85[w85][m70 + V85.name]=H2N.X4v(f85,100,v85,f85);c85[w85]["_totUp " + V85.name]=f85;c85[w85]["_totDn " + V85.name]=v85;}};k85.Studies.studyLibrary=k85.extend(k85.Studies.studyLibrary,{"Intraday Mtm":{name:Z70,calculateFN:k85.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:C70,studyOverSoldValue:30,studyOverSoldColor:l70}}}});}};h6w= e55=>{var d70,n55,p70,k70;d70="und";d70+="e";d70+="fi";d70+="ned";n55=typeof _CIQ !== d70?_CIQ:e55.CIQ;if(!n55.Studies){p70="keltner feature requires first activating st";p70+="udies feature.";console.error(p70);}else {k70="a";k70+="u";k70+="t";k70+="o";n55.Studies.calculateKeltner=function(t55, W55){var M70,I70;M70="A";M70+="T";M70+="R";M70+=" ";I70="Cl";e8ll.A2x();I70+="o";I70+="s";I70+="e";n55.Studies.MA(W55.inputs["Moving Average Type"],W55.days,I70,0,"MA",t55,W55);n55.Studies.calculateStudyATR(t55,W55);n55.Studies.calculateGenericEnvelope(t55,W55,W55.inputs.Shift,"MA " + W55.name,M70 + W55.name);};n55.Studies.studyLibrary=n55.extend(n55.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !{},seriesFN:n55.Studies.displayChannel,calculateFN:n55.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !"1"},outputs:{"Keltner Top":"auto","Keltner Median":k70,"Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}}});}};P6w= o55=>{var d55,g70,s70;d55=typeof _CIQ !== "undefined"?_CIQ:o55.CIQ;if(!d55.Studies){console.error("klinger feature requires first activating studies feature.");}else {g70="#";g70+="FF0000";s70="a";s70+="u";s70+="to";d55.Studies.calculateKlinger=function(Y55, C55){var E70,y70,V70,P70,K70,B55,O55,F55,g55,x55,N55,s55,I55,b55,q55,o70,X55;E70="S";E70+="ignal";E70+=" Pe";E70+="riods";y70="_";y70+="E";y70+="MA";y70+="-L";V70="expo";V70+="nent";V70+="ia";V70+="l";P70="_EM";P70+="A";P70+="-";P70+="S";K70="Long ";K70+="Cycle";B55=C55.chart.scrubbed;O55=Number(C55.inputs["Short Cycle"]);F55=Number(C55.inputs[K70]);if(B55.length < Math.max(O55,F55) + +"1"){C55.error=! ![];return;}e8ll.A2x();g55=C55.name + "_hist";x55="Klinger " + C55.name;N55="KlingerSignal " + C55.name;s55="_SV " + C55.name;I55="_EMA-S " + C55.name;b55="_EMA-L " + C55.name;for(q55=Math.max(+"1",C55.startFrom); q55 < B55.length; q55++){o70="hlc";o70+="/";o70+="3";X55=B55[q55].Volume;if(B55[q55]["hlc/3"] < B55[q55 - 1][o70]){X55*=- +"1";}if(X55){B55[q55][s55]=X55;}}d55.Studies.MA("exponential",O55,s55,0,P70,Y55,C55);d55.Studies.MA(V70,F55,s55,0,y70,Y55,C55);for(q55=Math.max(F55,C55.startFrom); q55 < B55.length; q55++){if(B55[q55].futureTick || B55[q55][I55] === null || B55[q55][b55] === null)break;B55[q55][x55]=B55[q55][I55] - B55[q55][b55];}d55.Studies.MA("exponential",Number(C55.inputs[E70]),x55,0,"KlingerSignal",Y55,C55);for(q55=C55.startFrom; q55 < B55.length; q55++){B55[q55][g55]=B55[q55][x55] - B55[q55][N55];}C55.outputMap[g55]="";};d55.Studies.studyLibrary=d55.extend(d55.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:d55.Studies.displayHistogramWithSeries,calculateFN:d55.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:s70,KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":g70}}});}};m6w= E55=>{var a55,f50,b50,Q50,H70,T70,A70;a55=typeof _CIQ !== "undefined"?_CIQ:E55.CIQ;if(!a55.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {f50="a";f50+="ut";f50+="o";b50="fi";b50+="e";b50+="ld";Q50="Linear ";Q50+="Reg Fo";Q50+="recast";H70="Time ";H70+="Serie";H70+="s";T70="ti";T70+="me ser";T70+="ie";T70+="s";A70="t";A70+="sma";a55.Studies.prettify["time series"]=A70;a55.Studies.movingAverage.conversions.tsma="time series";a55.Studies.movingAverage.translations[T70]=H70;a55.Studies.movingAverage.typeMap.tsma="TimeSeries";a55.Studies.movingAverage.typeMap["time series"]="TimeSeries";a55.Studies.calculateMovingAverageTimeSeries=function(p55, j55){var y2N=e8ll;var T55,R55,y55,h55,P55,m55,G55,e70,S55;j55.ma=new a55.Studies.StudyDescriptor(j55.name,"ma",j55.panel);j55.ma.chart=j55.chart;j55.ma.days=j55.days;j55.ma.startFrom=j55.startFrom;j55.ma.inputs=j55.inputs;a55.Studies.calculateLinearRegressionIndicator(p55,j55.ma);y2N.z2x();T55=j55.name;for(var l55 in j55.outputs){y2N.L4v(86);T55=y2N.z4v(T55,l55,2570 > (7790,6510)?("364.58" - 0,5223) > (2130,6954)?(!"1",!1):8.41e+3:" ");}R55=parseInt(j55.inputs.Offset,+"10");if(isNaN(R55)){R55=0;}y55=j55.chart.scrubbed;h55=R55;for(var r55=j55.startFrom - ("1" << 405660448); r55 >= 0; r55--){P55=y55[r55][T55];if(!P55 && P55 !== 0)continue;if(h55 > 0){h55--;continue;}break;}m55=[];for(r55++; r55 < y55.length; r55++){G55=y55[r55];if(r55 + R55 >= 0){if(r55 + R55 < y55.length){y2N.E4v(3);y55[y2N.z4v(R55,r55)][T55]=G55["Forecast " + j55.name];}else {e70="F";e70+="orecas";e70+="t ";S55={};S55[T55]=G55[e70 + j55.name];m55.push(S55);}}}j55.appendFutureTicks(p55,m55);};a55.Studies.calculateLinearRegressionIndicator=function(i15, D55){var U2N=e8ll;var z50,M55,A55,Q55,w55,f55,u55,C8D,l8D,d8D,V55,z55,h50,c55,G50,t50,H55,W50,U55,k55,v55,Z55;z50="Cl";z50+="ose";M55=D55.chart.scrubbed;if(M55.length < D55.days + 1){D55.error=!0;return;}A55=D55.inputs.Field;U2N.A2x();if(!A55 || A55 == "field"){A55=z50;}U2N.E4v(5);var b5F=U2N.X4v(16,15);Q55=D55.days * (D55.days + b5F) / +"2";w55=Math.pow(Q55,2);U2N.L4v(65);var f5F=U2N.X4v(17,104,1,7);U2N.L4v(3);var r5F=U2N.X4v(3,0);f55=Q55 * (f5F * D55.days + ("1" - 0)) / r5F;u55=0;C8D=-1289397501;l8D=2056533130;d8D=2;for(var I8D=1; U2N.x4D(I8D.toString(),I8D.toString().length,55398) !== C8D; I8D++){V55=0;d8D+=+"2";}if(U2N.q4D(d8D.toString(),d8D.toString().length,46655) !== l8D){V55=9;}z55=0;if(D55.startFrom){h50="_s";h50+="ums ";U2N.E4v(3);var v5F=U2N.X4v(1153218810,76881254);c55=M55[D55.startFrom - ("1" >> v5F)][h50 + D55.name];if(c55){V55=c55[0];u55=c55[1];z55=c55[2];}}for(var K55=D55.startFrom; K55 < M55.length; K55++){G50="S";G50+="lope ";t50="obj";t50+="e";t50+="c";t50+="t";H55=M55[K55][A55];if(H55 && typeof H55 == t50){H55=H55[D55.subField];}if(!H55 && H55 !== 0)continue;V55+=D55.days * H55 - u55;u55+=H55;z55+=Math.pow(H55,2);if(K55 < D55.days - 1)continue;else if(K55 > D55.days - 1){W50="o";W50+="b";W50+="jec";W50+="t";U55=M55[K55 - D55.days][A55];if(U55 && typeof U55 == W50){U55=U55[D55.subField];}if(!U55 && U55 !== +"0")continue;u55-=U55;z55-=Math.pow(U55,2);}k55=(D55.days * V55 - Q55 * u55) / (D55.days * f55 - w55);M55[K55][G50 + D55.name]=k55;v55=(u55 - k55 * Q55) / D55.days;M55[K55]["Intercept " + D55.name]=v55;M55[K55]["Forecast " + D55.name]=v55 + k55 * D55.days;U2N.E4v(140);var j5F=U2N.z4v(2,1,11,14);Z55=(D55.days * f55 - w55) / (D55.days * z55 - Math.pow(u55,j5F));U2N.L4v(141);M55[K55]["RSquared " + D55.name]=U2N.z4v(k55,Z55,k55);M55[K55]["_sums " + D55.name]=[V55,u55,z55];}};a55.Studies.studyLibrary=a55.extend(a55.Studies.studyLibrary,{"Lin Fcst":{name:Q50,overlay:! !{},calculateFN:a55.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:a55.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" * 1,Field:b50},outputs:{Intercept:f50}},"Lin R2":{name:"Linear Reg R2",calculateFN:a55.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:a55.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !"1",calculateFN:a55.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};G6w= L15=>{var J15,r50,B50,O50;J15=typeof _CIQ !== "undefined"?_CIQ:L15.CIQ;if(!J15.Studies){r50="macd featu";r50+="re req";r50+="uires first activating studies feature.";console.error(r50);}else {B50="#";B50+="FF0000";O50="au";O50+="t";O50+="o";J15.Studies.calculateMACD=function(F15, n15){var z2N=e8ll;var j50,v50,d15,o15,e15,q15,C15,t15,W15,x15,F50,n50,B15,s15,w50,X15;j50="Slow MA P";j50+="eriod";v50="Fas";v50+="t MA ";v50+="Peri";v50+="od";d15=n15.chart.scrubbed;o15=n15.inputs;e15=n15.name;if(!n15.macd1Days){n15.macd1Days=parseFloat(o15[v50]);}if(!n15.macd2Days){n15.macd2Days=parseFloat(o15[j50]);}if(!n15.signalDays){n15.signalDays=parseFloat(o15["Signal Period"]);}if(!n15.days){n15.days=Math.max(n15.macd1Days,n15.macd2Days,n15.signalDays);}if(d15.length < n15.days + 1){n15.error=!"";return;}q15=n15.inputs.Field;if(!q15 || q15 == "field"){q15="Close";}C15=o15["Moving Average Type"];if(!C15){C15="exponential";}J15.Studies.MA(C15,n15.macd1Days,q15,0,"_MACD1",F15,n15);J15.Studies.MA(C15,n15.macd2Days,q15,0,"_MACD2",F15,n15);x15=Math.max(n15.startFrom,n15.days - 1);for(t15=x15; t15 < d15.length; t15++){F50="_M";F50+="ACD1 ";n50="_";n50+="MACD1 ";W15=d15[t15];if((W15["_MACD1 " + e15] || W15[n50 + e15] === 0) && (W15["_MACD2 " + e15] || W15["_MACD2 " + e15] === 0)){z2N.L4v(3);W15[z2N.z4v(e15,"MACD ")]=W15[F50 + e15] - W15["_MACD2 " + e15];}}B15=o15["Signal MA Type"];if(!B15){B15="exponential";}J15.Studies.MA(B15,n15.signalDays,"MACD " + e15,+"0","Signal",F15,n15);z2N.E4v(3);s15=z2N.X4v("_hist",e15);for(t15=x15; t15 < d15.length; t15++){w50="Sig";w50+="nal";w50+=" ";W15=d15[t15];z2N.E4v(3);X15=W15[z2N.X4v(e15,w50)];if(!X15 && X15 !== 0)continue;W15[s15]=W15["MACD " + e15] - W15["Signal " + e15];}n15.outputMap[s15]="";};J15.Studies.studyLibrary=J15.extend(J15.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:J15.Studies.calculateMACD,seriesFN:J15.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:O50,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":B50}}});}};S6w= O15=>{var Y15,N50,F2D,w2D,O2D,S50;Y15=typeof _CIQ !== "undefined"?_CIQ:O15.CIQ;if(!Y15.Studies){N50="massIndex feature requires first activating studie";N50+="s feature.";console.error(N50);}else {Y15.Studies.calculateMassIndex=function(E15, g15){var A2N=e8ll;var J50,u50,L50,I15,a15,D50;J50="_to";J50+="tal";J50+=" ";A2N.A2x();u50="_E";u50+="M";u50+="A";u50+=" ";L50="_";L50+="E";L50+="M";L50+="A";I15=g15.chart.scrubbed;if(I15.length < Math.max(+"9",g15.days + 1)){g15.error=! ![];return;}for(var N15=g15.startFrom; N15 < I15.length; N15++){I15[N15]["_High-Low " + g15.name]=I15[N15].High - I15[N15].Low;}Y15.Studies.MA("exponential",9,"_High-Low " + g15.name,0,L50,E15,g15);Y15.Studies.MA("exponential",9,u50 + g15.name,0,"_EMA2",E15,g15);A2N.L4v(25);a15=A2N.X4v(427688384,"0");if(I15[g15.startFrom - 1] && I15[g15.startFrom - 1][J50 + g15.name]){A2N.E4v(68);var n5F=A2N.X4v(1,2,12,11);a15=I15[g15.startFrom - n5F]["_total " + g15.name];}for(var b15=Math.max(17,g15.startFrom); b15 < I15.length; b15++){D50="_to";D50+="tal ";a15+=I15[b15]["_EMA " + g15.name] / I15[b15]["_EMA2 " + g15.name];if(b15 >= 17 + g15.days - ("1" | 0)){I15[b15]["Result " + g15.name]=a15;A2N.E4v(3);var F5F=A2N.X4v(1,0);a15-=I15[b15 - g15.days + 1]["_EMA " + g15.name] / I15[b15 - g15.days + F5F]["_EMA2 " + g15.name];}I15[b15][D50 + g15.name]=a15;}};Y15.Studies.displayMassIndex=function(r15, j15, P15){var R15,m15,T15,y15,h15;Y15.Studies.displaySeriesAsLine(r15,j15,P15);R15=j15.inputs["Bulge Threshold"];m15=r15.panels[j15.panel];T15=j15.getYAxis(r15);e8ll.A2x();y15=Y15.Studies.determineColor(j15.outputs.Result);h15={skipTransform:r15.panels[j15.panel].name != j15.chart.name,panelName:j15.panel,band:"Result " + j15.name,threshold:R15,direction:1,color:y15,yAxis:T15,opacity:"0.3" - 0};if(!j15.highlight && r15.highlightedDraggable){h15.opacity*=0.3;}Y15.preparePeakValleyFill(r15,h15);Y15.Studies.drawHorizontal(r15,j15,null,R15,T15,y15);};F2D=-1786913029;w2D=- +"1222177421";O2D=+"2";for(var N2D=1; e8ll.q4D(N2D.toString(),N2D.toString().length,11538) !== F2D; N2D++){Y15.Studies.studyLibrary=Y15.extend(Y15.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:Y15.Studies.displayMassIndex,calculateFN:Y15.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});O2D+=2;}if(e8ll.q4D(O2D.toString(),O2D.toString().length,40831) !== w2D){S50="Bulge Thre";S50+="shol";S50+="d";Y15.Studies.studyLibrary=Y15.extend(Y15.Studies.studyLibrary,{"Mass Idx":{name:S50,seriesFN:Y15.Studies.displayMassIndex,calculateFN:Y15.Studies.calculateMassIndex,inputs:{Period:22,"Bulge Threshold":72},attributes:{"Bulge Threshold":{min:32,max:82,step:427}}}});}}};p6w= S15=>{var G15,a50;G15=typeof _CIQ !== "undefined"?_CIQ:S15.CIQ;if(!G15.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {a50="aut";a50+="o";G15.Studies.calculateMoneyFlowIndex=function(c15, D15){var k2N=e8ll;var R50,l15,M15,K15,u15,k15,U15,Q15,A15,V15,H15,z15;R50="_r";k2N.z2x();R50+="a";R50+="wMF";R50+=" ";l15=D15.chart.scrubbed;if(l15.length < D15.days + 1){D15.error=! !{};return;}M15=0;k2N.E4v(42);K15=k2N.X4v(1633040192,"0");k2N.L4v(4);var w5F=k2N.z4v(11,10,0);u15=l15[D15.startFrom - w5F];k15=R50 + D15.name;U15="_cumMF " + D15.name;Q15="Result " + D15.name;if(u15 && u15[U15]){M15=u15[U15][0];K15=u15[U15][1];}for(var p15=D15.startFrom; p15 < l15.length; p15++){A15=l15[p15]["hlc/3"];if(p15 > 0 && !l15[p15].futureTick){k2N.E4v(5);V15=l15[k2N.z4v(p15,1)]["hlc/3"];H15=A15 * l15[p15].Volume;if(A15 > V15){M15+=H15;}else if(A15 < V15){k2N.E4v(5);H15*=-k2N.z4v("1",0);K15-=H15;}else {H15=0;}if(p15 > D15.days){z15=l15[p15 - D15.days][k15];if(z15 > 0){M15-=z15;}else {K15+=z15;}if(K15 === 0){l15[p15][Q15]=100;}else if(l15[p15].Volume){k2N.E4v(142);l15[p15][Q15]=k2N.X4v(100,M15,"1",100,K15,465183776);}}l15[p15][k15]=H15;l15[p15][U15]=[M15,K15];}}};G15.Studies.studyLibrary=G15.extend(G15.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:G15.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:a50}}}});}};l6w= f15=>{var w15,Y50,n10,j10,v10,r10,f10,b10,Q10,G10,i50,X50,q50,x50,U50,c50;e8ll.A2x();w15=typeof _CIQ !== "undefined"?_CIQ:f15.CIQ;if(!w15.Studies){Y50="movingAverages feature requires fi";Y50+="rst activa";Y50+="ting studies fe";Y50+="ature.";console.error(Y50);}else {n10="au";n10+="t";n10+="o";j10="fi";j10+="e";j10+="l";j10+="d";v10="#FF0";v10+="00";v10+="0";r10="Pe";r10+="r";r10+="ce";r10+="nt";f10="P";f10+="o";f10+="ints";b10="m";b10+="a";Q10="fiel";Q10+="d";G10="Moving Average Devia";G10+="tion";i50="TripleExp";i50+="one";i50+="n";i50+="tial";X50="Hu";X50+="l";X50+="l";q50="Triple Expo";q50+="nenti";q50+="a";q50+="l";x50="Double Ex";x50+="po";x50+="nentia";x50+="l";U50="Hul";U50+="l";c50="2-exp";c50+="onenti";c50+="a";c50+="l";w15.Studies.prettify=w15.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},w15.Studies.prettify);w15.extend(w15.Studies.movingAverage,{conversions:{hma:"hull",dema:c50,tema:"3-exponential"},translations:{hull:U50,"2-exponential":x50,"3-exponential":q50},typeMap:{hma:"Hull",hull:X50,dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":i50}});w15.Studies.calculateMovingAverageHull=function(t95, v15){var O2N=e8ll;var d50,m50,i95,J95,Z15,L95,Z50,l50,C50,n95,e95,d95,W95,p50;d50="_";d50+="MM";d50+="A";d50+=" ";m50="Cl";m50+="ose";i95=v15.chart.scrubbed;J95=v15.inputs.Field;if(!J95 || J95 == "field"){J95=m50;}w15.Studies.MA("wma",v15.days,J95,+"0","_WMA1",t95,v15);w15.Studies.MA("wma",Math.ceil(v15.days / 2),J95,0,"_WMA2",t95,v15);for(Z15=v15.startFrom - 1; Z15 >= 0; Z15--){Z50="obje";Z50+="ct";L95=i95[Z15][J95];if(L95 && typeof L95 == Z50){L95=L95[v15.subField];}if(L95 || L95 === 0)break;}for(Z15++; Z15 < i95.length; Z15++){l50="_";l50+="WMA1";l50+=" ";C50="_";C50+="M";C50+="MA";C50+=" ";n95=i95[Z15];O2N.E4v(4);var O5F=O2N.z4v(14,13,0);n95[C50 + v15.name]="2" * O5F * n95["_WMA2 " + v15.name] - n95[l50 + v15.name];}e95=parseInt(v15.inputs.Offset,10);if(isNaN(e95)){e95=0;}d95=Math.floor(Math.sqrt(v15.days));w15.Studies.MA("wma",d95,d50 + v15.name,e95,"_HMA",t95,v15);W95=v15.name;O2N.z2x();for(var o95 in v15.outputs){O2N.L4v(86);W95=O2N.z4v(W95,o95,(2850,+"6742") <= 3220?"240.03" * 1:5940 >= 571?" ":+"4.64e+3");}for(Z15=Math.max(v15.days + d95 - 1,v15.startFrom); Z15 < i95.length; Z15++){p50="_HMA";p50+=" ";i95[Z15][W95]=i95[Z15][p50 + v15.name];}};w15.Studies.calculateMovingAverageDoubleExponential=function(Y95, q95){var Q2N=e8ll;var M50,I50,x95,s95,B95,C95,F95,O95,X95,g95,I95,b95,N95;M50="_EM";M50+="A";M50+="1 ";I50="f";I50+="ield";x95=q95.chart.scrubbed;s95=q95.inputs.Field;if(!s95 || s95 == I50){s95="Close";}w15.Studies.MA("ema",q95.days,s95,0,"_EMA1",Y95,q95);w15.Studies.MA("ema",q95.days,M50 + q95.name,0,"_EMA2",Y95,q95);B95=parseInt(q95.inputs.Offset,10);if(isNaN(B95)){Q2N.E4v(0);B95=Q2N.X4v(0,"0");}O95=B95;for(C95=q95.startFrom - 1; C95 >= 0; C95--){F95=x95[C95][s95];if(F95 && typeof F95 == "object"){F95=F95[q95.subField];}if(!F95 && F95 !== 0)continue;if(O95 > 0){O95--;continue;}break;}X95=q95.name;for(var a95 in q95.outputs){Q2N.L4v(86);X95=Q2N.z4v(X95,a95,6784 == (3400,4673)?("Z",0xf2e):("8940" & 2147483647) == (365.64,651.02)?0x81f:649.15 !== ("8227" - 0,+"204")?" ":! !"");}g95=[];for(C95++; C95 < x95.length; C95++){if(C95 < 2 * (q95.days - 1))continue;I95=x95[C95];Q2N.L4v(143);var B5F=Q2N.z4v(18,1,18,5,7);b95=B5F * I95["_EMA1 " + q95.name] - I95["_EMA2 " + q95.name];if(C95 + B95 >= "0" << 1123287616){if(C95 + B95 < x95.length){Q2N.E4v(3);x95[Q2N.X4v(B95,C95)][X95]=b95;}else {N95={};N95[X95]=b95;g95.push(N95);}}}q95.appendFutureTicks(Y95,g95);};w15.Studies.calculateMovingAverageTripleExponential=function(P95, E95){var I2N=e8ll;var E50,V50,P50,o50,K50,k50,T95,y95,r95,j95,R95,G95,s50,h95,S95,g50,m95,p95,l95;E50="_EMA";E50+="2 ";V50="_E";V50+="MA2";P50="e";P50+="m";P50+="a";o50="_E";o50+="M";o50+="A";o50+="1";K50="e";K50+="m";K50+="a";k50="fiel";k50+="d";T95=E95.chart.scrubbed;y95=E95.inputs.Field;if(!y95 || y95 == k50){y95="Close";}w15.Studies.MA(K50,E95.days,y95,0,o50,P95,E95);w15.Studies.MA(P50,E95.days,"_EMA1 " + E95.name,0,V50,P95,E95);I2N.z2x();w15.Studies.MA("ema",E95.days,E50 + E95.name,0,"_EMA3",P95,E95);r95=parseInt(E95.inputs.Offset,10);if(isNaN(r95)){r95=0;}G95=r95;for(j95=E95.startFrom - ("1" | 0); j95 >= 0; j95--){s50="o";s50+="bj";s50+="ect";R95=T95[j95][y95];if(R95 && typeof R95 == s50){R95=R95[E95.subField];}if(!R95 && R95 !== 0)continue;if(G95 > +"0"){G95--;continue;}break;}h95=E95.name;for(var D95 in E95.outputs){I2N.E4v(86);h95=I2N.X4v(h95,D95,(+"5850",2900) !== "6280" >> 1750500032?("9410" ^ 0) !== (4051,5540)?" ":24.88:! !"");}S95=[];for(j95++; j95 < T95.length; j95++){g50="_";g50+="EMA";g50+="1 ";if(j95 < 3 * (E95.days - ("1" - 0)))continue;m95=T95[j95];I2N.L4v(54);var N5F=I2N.X4v(17,3,54);I2N.L4v(103);var L5F=I2N.X4v(4,7,14,0);p95=N5F * m95[g50 + E95.name] - L5F * m95["_EMA2 " + E95.name] + m95["_EMA3 " + E95.name];if(j95 + r95 >= 0){if(j95 + r95 < T95.length){I2N.L4v(3);T95[I2N.z4v(r95,j95)][h95]=p95;}else {l95={};l95[h95]=p95;S95.push(l95);}}}E95.appendFutureTicks(P95,S95);};w15.Studies.calculateMAEnvelope=function(U95, K95){var H50,A50,M95,H95,u95,T50;H50="percen";H50+="t";A50="Shi";A50+="ft Type";M95=K95.inputs.Field;if(!M95 || M95 == "field"){M95="Close";}w15.Studies.MA(K95.inputs["Moving Average Type"],K95.days,M95,0,"MA",U95,K95);H95=K95.inputs[A50];u95=K95.inputs.Shift;if(!H95){T50="p";T50+="ercent";H95=T50;u95=K95.inputs["Shift Percentage"];}if(H95 == H50){e8ll.E4v(9);w15.Studies.calculateGenericEnvelope(U95,K95,e8ll.X4v(u95,100),"MA " + K95.name);}else if(H95 == "points"){w15.Studies.calculateGenericEnvelope(U95,K95,null,"MA " + K95.name,null,Number(u95));}};w15.Studies.calculateMADev=function(i45, A95){var L2N=e8ll;var W10,t10,h10,z10,e50,c95,k95,w95,f95,Z95,Q95,z95,V95;W10="_";W10+="h";W10+="i";W10+="st";t10="_h";t10+="i";t10+="s";t10+="t";h10="Moving Ave";h10+="r";h10+="age Type";z10="P";z10+="o";z10+="i";z10+="nts";e50="fie";e50+="ld";c95=A95.chart.scrubbed;if(c95.length < A95.days + 1){A95.error=!"";return;}k95=A95.inputs.Field;if(!k95 || k95 == e50){k95="Close";}w95=A95.inputs["Points Or Percent"];if(!w95){w95=z10;}f95=A95.inputs[h10];if(!f95){f95="exponential";}w15.Studies.MA(f95,A95.days,k95,0,"_MA",i45,A95);Z95=A95.name + t10;for(var v95=Math.max(A95.startFrom,A95.days - ("1" | 1)); v95 < c95.length; v95++){Q95=c95[v95];z95=Q95[k95];if(z95 && typeof z95 == "object"){z95=z95[A95.subField];}V95=Q95["_MA " + A95.name];if(V95 || V95 === 0){if(w95 == "Points"){L2N.E4v(5);Q95[Z95]=L2N.z4v(z95,V95);}else {L2N.E4v(144);Q95[Z95]=L2N.X4v(100,1,V95,z95);}}}A95.outputMap={};A95.outputMap[A95.name + W10]="";};w15.Studies.studyLibrary=w15.extend(w15.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! ![],seriesFN:w15.Studies.displayChannel,calculateFN:w15.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:G10,calculateFN:w15.Studies.calculateMADev,seriesFN:w15.Studies.displayHistogramWithSeries,inputs:{Period:+"12",Field:Q10,"Moving Average Type":b10,"Points Or Percent":[f10,r10]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":v10}},"High Low":{name:"High Low Bands",overlay:! !"1",seriesFN:w15.Studies.displayChannel,calculateFN:function(L45, J45){J45.inputs["Moving Average Type"]="triangular";e8ll.A2x();w15.Studies.calculateMAEnvelope(L45,J45);},inputs:{Period:10,Field:j10,"Shift Percentage":5,"Channel Fill":! ![]},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":n10},attributes:{"Shift Percentage":{min:0.1,step:"0.1" - 0}}}});}};D6w= e45=>{var F10,G5D,Q5D,b5D,n45,N10;F10="und";F10+="e";F10+="fined";G5D=336882284;Q5D=-1115419993;b5D=2;for(var r5D=+"1"; e8ll.q4D(r5D.toString(),r5D.toString().length,30916) !== G5D; r5D++){n45=-_CIQ === ""?_CIQ:e45.CIQ;b5D+=2;}if(e8ll.x4D(b5D.toString(),b5D.toString().length,6581) !== Q5D){n45=-_CIQ === ""?_CIQ:e45.CIQ;}e8ll.z2x();n45=typeof _CIQ !== F10?_CIQ:e45.CIQ;if(!n45.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {N10="P";N10+="ara";N10+="bol";N10+="ic SAR";n45.Studies.calculatePSAR=function(I45, q45){var S2N=e8ll;var w10,W45,C45,d45,B45,o45,s45,X45,O10,F45,x45,Y45,O45,B10;w10="Max";w10+="imu";w10+="m A";w10+="F";W45=q45.chart.scrubbed;C45=+"0";function g45(){C45=0;d45=null;B45=!B45;}d45=null;B45=!{};o45=+"0";s45=parseFloat(q45.inputs["Minimum AF"]);X45=parseFloat(q45.inputs[w10]);if(q45.startFrom > 0){O10="_";O10+="stat";O10+="e ";o45=W45[q45.startFrom - ("1" ^ 0)]["Result " + q45.name];S2N.E4v(10);var u5F=S2N.X4v(21,11,9);F45=W45[q45.startFrom - u5F][O10 + q45.name];if(F45 && F45.length == 3){C45=F45[0];d45=F45[1];B45=F45[2];}}for(var t45=q45.startFrom - 1; t45 < W45.length - 1; t45++){if(t45 < 0)continue;if(W45[t45].futureTick)break;x45=o45;if(B45){if(!d45 || d45 < W45[t45].High){d45=W45[t45].High;S2N.E4v(3);C45=Math.min(S2N.X4v(s45,C45),X45);}S2N.E4v(145);o45=S2N.z4v(x45,x45,d45,C45);Y45=Math.min(W45[Math.max(1,t45) - 1].Low,W45[t45].Low);if(o45 > W45[t45 + 1].Low){o45=d45;g45();}else if(o45 > Y45){o45=Y45;}}else {if(!d45 || d45 > W45[t45].Low){d45=W45[t45].Low;S2N.L4v(3);C45=Math.min(S2N.z4v(s45,C45),X45);}S2N.E4v(145);o45=S2N.z4v(x45,x45,d45,C45);O45=Math.max(W45[Math.max(1,t45) - +"1"].High,W45[t45].High);if(o45 < W45[t45 + +"1"].High){o45=d45;g45();}else if(o45 < O45){o45=O45;}}S2N.L4v(3);W45[S2N.z4v(1,t45)]["_state " + q45.name]=[C45,d45,B45];if(!isNaN(W45[t45].High) || !isNaN(W45[t45].Low)){B10="Res";B10+="ul";B10+="t ";S2N.E4v(85);W45[S2N.X4v(t45,"1")][B10 + q45.name]=o45;}}};n45.Studies.studyLibrary=n45.extend(n45.Studies.studyLibrary,{PSAR:{name:N10,overlay:! !"1",calculateFN:n45.Studies.calculatePSAR,seriesFN:n45.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};K6w= N45=>{var L10,b45,l10,C10;L10="u";L10+="ndef";L10+="ined";b45=typeof _CIQ !== L10?_CIQ:N45.CIQ;if(!b45.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {l10="#f";l10+="fd0cf";C10="#e3";C10+="6";C10+="4";C10+="60";b45.Studies.calculatePivotPoints=function(y45, r45){var T2N=e8ll;var E45,R45,T45,m45,u10,G45,h45,S45,a45,c10,S10,D10,J10,p45,l45,R10,Y10,a10;E45=r45.chart.scrubbed;R45="day";T45=y45.layout.interval;m45=y45.layout.timeUnit;if(T45 == "day"){R45="month";}else if(b45.ChartEngine.isDailyInterval(T45)){R45="year";}else if(T45 == "second" || T45 == "millisecond" || m45 == "second" || m45 == "millisecond"){R45="15min";}else {u10="w";u10+="e";u10+="ek";G45=y45.layout.periodicity;if(T45 != "minute"){G45*=T45;}if(G45 >= ("30" | 10)){R45=u10;}}h45=null;T2N.E4v(146);var J5F=T2N.z4v(1,3,18,1);S45=J5F - b45.getFromNS(y45.chart,"market.beginningDayOfWeek",0);a45={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:+"0",hlSpread:+"0"};if(r45.startFrom > 1 && E45[r45.startFrom - 1]["_pointers " + r45.name]){a45=b45.clone(E45[r45.startFrom - 1]["_pointers " + r45.name]);}for(var j45=Math.max(1,r45.startFrom); j45 < E45.length; j45++){c10="_p";c10+="ointers ";S10="15";S10+="min";D10="mo";D10+="n";D10+="th";J10="y";J10+="e";J10+="a";J10+="r";if(!E45[j45 - 1])continue;a45.high=Math.max(a45.high,E45[j45 - 1].High);a45.low=Math.min(a45.low > 0?a45.low:E45[j45 - ("1" << 992583168)].Low,E45[j45 - 1].Low);if(r45.inputs.Continuous){P45();}else if(R45 == J10 && E45[j45].DT.getYear() != E45[j45 - "1" * 1].DT.getYear()){P45();}else if(R45 == D10 && E45[j45].DT.getMonth() != E45[j45 - "1" * 1].DT.getMonth()){P45();}else if(R45 == "week" && (E45[j45].DT.getDay() + S45) % 7 < (E45[j45 - 1].DT.getDay() + S45) % ("7" >> 1486493728)){P45();}else if(R45 == "day"){if(h45 === null){h45=b45.Studies.getMarketOffset({stx:y45,localQuoteDate:E45[j45].DT,shiftToDateBoundary:! !1});}p45=new Date(new Date(+E45[j45].DT).setMilliseconds(E45[j45].DT.getMilliseconds() + h45));l45=new Date(new Date(+E45[j45 - 1].DT).setMilliseconds(E45[j45 - +"1"].DT.getMilliseconds() + h45));if(l45.getDate() !== p45.getDate() && l45.getDay() !== +"0" && y45.chart.market.isMarketDate(p45)){h45=null;P45();}}else if(R45 == S10 && (E45[j45].DT.getHours() != E45[j45 - 1].DT.getHours() || Math.floor(E45[j45].DT.getMinutes() / 15) != Math.floor(E45[j45 - 1].DT.getMinutes() / 15))){P45();}E45[j45]["Pivot " + r45.name]=a45.pivotPoint;if(r45.inputs.Type.toLowerCase() == "fibonacci"){R10="Resist";R10+="ance 3 ";E45[j45]["Resistance 1 " + r45.name]=a45.pivotPoint + 0.382 * a45.hlSpread;E45[j45]["Resistance 2 " + r45.name]=a45.pivotPoint + 0.618 * a45.hlSpread;E45[j45][R10 + r45.name]=a45.pivotPoint + a45.hlSpread;E45[j45]["Support 1 " + r45.name]=a45.pivotPoint - 0.382 * a45.hlSpread;E45[j45]["Support 2 " + r45.name]=a45.pivotPoint - 0.618 * a45.hlSpread;E45[j45]["Support 3 " + r45.name]=a45.pivotPoint - a45.hlSpread;}else {Y10="Resistance";Y10+=" 2 ";a10="Resistanc";a10+="e 1 ";T2N.E4v(10);var D5F=T2N.z4v(13,6,5);E45[j45][a10 + r45.name]=D5F * a45.pivotPoint - a45.prevLow;E45[j45][Y10 + r45.name]=a45.pivotPoint + a45.hlSpread;T2N.L4v(5);var S5F=T2N.z4v(32,30);E45[j45]["Resistance 3 " + r45.name]=a45.prevHigh + S5F * (a45.pivotPoint - a45.prevLow);T2N.L4v(3);var R5F=T2N.X4v(2,0);E45[j45]["Support 1 " + r45.name]=R5F * a45.pivotPoint - a45.prevHigh;E45[j45]["Support 2 " + r45.name]=a45.pivotPoint - a45.hlSpread;T2N.E4v(40);var a5F=T2N.z4v(1,3);E45[j45]["Support 3 " + r45.name]=a45.prevLow - a5F * (a45.prevHigh - a45.pivotPoint);}E45[j45][c10 + r45.name]=b45.clone(a45);}T2N.A2x();function P45(){T2N.L4v(140);var Y5F=T2N.z4v(2,0,10,13);T2N.E4v(147);var c5F=T2N.z4v(1,18,1,22,1);a45.pivotPoint=(a45.high + a45.low + E45[j45 - Y5F].Close) / c5F;a45.prevHigh=a45.high;a45.prevLow=a45.low;a45.hlSpread=a45.high - a45.low;a45.high=a45.low=0;}};b45.Studies.displayPivotPoints=function(K45, D45, u45){var Z10,m10,i10,X10,q10,x10,U10,H45,M45;D45.noSlopes=!D45.inputs.Continuous;b45.Studies.displaySeriesAsLine(K45,D45,u45);if(D45.inputs.Shading){Z10="Supp";Z10+="o";Z10+="rt 3";m10="Support 1";m10+=" ";i10="P";i10+="iv";i10+="ot";i10+=" ";X10="Su";X10+="pp";X10+="ort 1";X10+=" ";q10="Resis";q10+="tance 1";x10="Resis";x10+="ta";x10+="nce 1 ";U10="R";U10+="esistan";U10+="ce";U10+=" 3";H45=K45.panels[D45.panel];M45={noSlopes:D45.noSlopes,opacity:D45.parameters.opacity?D45.parameters.opacity:0.2,skipTransform:H45.name != D45.chart.name,yAxis:D45.getYAxis(K45)};if(!D45.highlight && K45.highlightedDraggable){M45.opacity*=0.3;}b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:"Resistance 3 " + D45.name,bottomBand:"Resistance 2 " + D45.name,color:b45.Studies.determineColor(D45.outputs[U10])},M45));b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:"Resistance 2 " + D45.name,bottomBand:x10 + D45.name,color:b45.Studies.determineColor(D45.outputs["Resistance 2"])},M45));b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:"Resistance 1 " + D45.name,bottomBand:"Pivot " + D45.name,color:b45.Studies.determineColor(D45.outputs[q10])},M45));b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:X10 + D45.name,bottomBand:i10 + D45.name,color:b45.Studies.determineColor(D45.outputs["Support 1"])},M45));b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:"Support 2 " + D45.name,bottomBand:m10 + D45.name,color:b45.Studies.determineColor(D45.outputs["Support 2"])},M45));b45.prepareChannelFill(K45,b45.extend({panelName:D45.panel,topBand:"Support 3 " + D45.name,bottomBand:"Support 2 " + D45.name,color:b45.Studies.determineColor(D45.outputs[Z10])},M45));}};b45.Studies.studyLibrary=b45.extend(b45.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !1,seriesFN:b45.Studies.displayPivotPoints,calculateFN:b45.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:! !0},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":C10,"Support 2":"#b3d987","Resistance 3":l10,"Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};M6w= A45=>{e8ll.A2x();var d10,U45,p10;d10="undefine";d10+="d";U45=typeof _CIQ !== d10?_CIQ:A45.CIQ;if(!U45.Studies){p10="prettyGoodOsc";p10+="illator feature require";p10+="s first activating studies feature.";console.error(p10);}else {U45.Studies.calculatePrettyGoodOscillator=function(V45, z45){e8ll.A2x();var M10,I10,k45,k10;M10="_";M10+="S";M10+="M";M10+="A";I10="Cl";I10+="o";I10+="s";I10+="e";k45=z45.chart.scrubbed;if(k45.length < z45.days + 1){z45.error=! ![];return;}U45.Studies.MA("exponential",z45.days,"trueRange",0,"_EMA",V45,z45);U45.Studies.MA("simple",z45.days,I10,0,M10,V45,z45);for(var Q45=Math.max(1,z45.startFrom); Q45 < k45.length; Q45++){k10="_EM";k10+="A ";if(!k45[Q45]["_SMA " + z45.name] || !k45[Q45][k10 + z45.name])continue;k45[Q45]["Result " + z45.name]=(k45[Q45].Close - k45[Q45]["_SMA " + z45.name]) / k45[Q45]["_EMA " + z45.name];}};U45.Studies.studyLibrary=U45.extend(U45.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:U45.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};H6w= w45=>{var K10,c45,o10,A10,g10,s10;K10="un";K10+="de";K10+="fine";K10+="d";e8ll.A2x();c45=typeof _CIQ !== K10?_CIQ:w45.CIQ;if(!c45.Studies){o10="priceMomentumOscillator feature";o10+=" req";o10+="uires first acti";o10+="vating studies feature.";console.error(o10);}else {A10="a";A10+="u";A10+="to";g10="f";g10+="ie";g10+="ld";s10="Pri";s10+="ce Momentum O";s10+="scillato";s10+="r";c45.Studies.calculatePMO=function(L05, f45){var R2N=e8ll;var E10,y10,V10,P10,i05,v45,J05,Z45,n05;E10="P";E10+="M";E10+="O";y10="PM";y10+="O ";R2N.z2x();V10="exponenti";V10+="al";P10="Doub";P10+="le Smo";P10+="othing Period";i05={Smooth:Number(f45.inputs["Smoothing Period"]) - +"1",Double:Number(f45.inputs[P10]) - 1,Signal:Number(f45.inputs["Signal Period"])};v45=f45.chart.scrubbed;if(v45.length < i05.Smooth + i05.Double){f45.error=!0;return;}J05=f45.inputs.Field;if(!J05 || J05 == "field"){J05="Close";}for(Z45=f45.startFrom; Z45 < v45.length; Z45++){if(!v45[Z45])continue;if(!v45[Z45 - 1])continue;R2N.E4v(5);n05=v45[R2N.z4v(Z45,1)][J05];if(n05){R2N.E4v(61);var U5F=R2N.z4v(1002,50,50,3);R2N.L4v(148);var x5F=R2N.X4v(14,3,18,6,26);v45[Z45]["_ROCx10 " + f45.name]=U5F * (v45[Z45][J05] / n05 - x5F);}}c45.Studies.MA("exponential",i05.Smooth,"_ROCx10 " + f45.name,0,"_EMAx10",L05,f45);c45.Studies.MA("exponential",i05.Double,"_EMAx10 " + f45.name,0,"PMO",L05,f45);c45.Studies.MA(V10,i05.Signal,y10 + f45.name,0,"PMOSignal",L05,f45);f45.zoneOutput=E10;};c45.Studies.studyLibrary=c45.extend(c45.Studies.studyLibrary,{PMO:{name:s10,calculateFN:c45.Studies.calculatePMO,inputs:{Field:g10,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"2.5" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:A10}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};u6w= W05=>{var T10,e05,J60,u60,L60,N60,B60;T10="unde";T10+="fined";e05=typeof _CIQ !== T10?_CIQ:W05.CIQ;if(!e05.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {J60="0";J60+=".";J60+="1";u60="a";u60+="u";u60+="t";u60+="o";L60="Pe";L60+="rcent";N60="Vol";N60+="ume Oscillator";B60="e";B60+="m";B60+="a";e05.Studies.calculatePriceOscillator=function(O05, t05){var b2N=e8ll;var t60,h60,z60,e10,H10,F05,Y05,x05,o05,q05,s05,W60,d05,C05,B05,b60,Q60,G60,r60,f60;t60="_";t60+="L";t60+="ong ";t60+="MA";h60="_S";h60+="hort";h60+=" MA";z60="Perc";z60+="e";z60+="n";z60+="t";e10="simp";e10+="l";e10+="e";H10="Mov";H10+="i";H10+="ng Average Ty";H10+="pe";F05=t05.chart.scrubbed;Y05=Number(t05.inputs["Short Cycle"]);x05=Number(t05.inputs["Long Cycle"]);if(F05.length < Math.max(Y05,x05) + 1){t05.error=!0;return;}o05=t05.inputs.Field;q05=t05.inputs[H10];if(!q05){q05=e10;}if(!o05 || o05 == "field"){o05="Close";}if(t05.parameters.isVolume){o05="Volume";q05="exponential";}s05=t05.inputs["Points Or Percent"];if(!s05){s05=z60;}e05.Studies.MA(q05,Y05,o05,0,h60,O05,t05);e05.Studies.MA(q05,x05,o05,+"0",t60,O05,t05);for(var X05=Math.max(x05,t05.startFrom); X05 < F05.length; X05++){W60="_Sh";W60+="ort ";W60+="M";W60+="A ";d05=F05[X05];if(!d05)continue;C05=d05[W60 + t05.name];B05=d05["_Long MA " + t05.name];if((C05 || C05 === 0) && (B05 || B05 === 0)){b60="Res";b60+="ult ";Q60="R";Q60+="es";Q60+="ult";Q60+=" ";G60="Poin";G60+="ts";if(s05 == G60){b2N.L4v(5);d05[Q60 + t05.name]=b2N.z4v(C05,B05);}else {b2N.E4v(144);d05[b60 + t05.name]=b2N.X4v(100,1,B05,C05);}if(t05.outputs["Increasing Bar"]){r60="_his";r60+="t";f60="_";f60+="h";f60+="i";f60+="st";d05[t05.name + f60]=d05["Result " + t05.name];t05.outputMap={};t05.outputMap[t05.name + r60]="";}}}};e05.Studies.displayRAVI=function(I05, g05, R05){var G2N=e8ll;var n60,j60,v60,r05,N05,T05,y05,E05,m05,G05,O60,w60,F60,b05,j05,h05,P05;n60="s";n60+="tx_histogram";j60="D";j60+="e";j60+="creasing ";j60+="Bar";v60="Incre";v60+="a";v60+="sin";v60+="g Bar";r05=I05.panels[g05.panel];N05=g05.getContext(I05);T05=g05.getYAxis(I05);G2N.E4v(15);y05=I05.pixelFromPrice(G2N.X4v(1,"0"),r05,T05);G2N.L4v(149);var q5F=G2N.z4v(12,15,20,302,5);E05=I05.layout.candleWidth - q5F;if(E05 < 2){E05=1;}m05=e05.Studies.determineColor(g05.outputs[v60]);G05=e05.Studies.determineColor(g05.outputs[j60]);I05.startClip(g05.panel);I05.canvasColor(n60);if(!g05.underlay){N05.globalAlpha=1;}if(!g05.highlight && I05.highlightedDraggable){N05.globalAlpha*=0.3;}for(var a05=0; a05 < R05.length; a05++){O60="_h";O60+="i";O60+="s";O60+="t";w60="#";w60+="CCCCCC";F60="_";F60+="h";F60+="i";F60+="st";b05=R05[a05];G2N.L4v(5);j05=R05[G2N.X4v(a05,1)];if(!j05){j05=I05.getPreviousBar(I05.chart,g05.name + F60,a05);}if(!b05)continue;h05=0;G2N.L4v(15);P05=G2N.X4v(1,"0");if(g05.parameters && g05.parameters.studyOverZonesEnabled){h05=parseFloat(g05.parameters.studyOverBoughtValue);P05=parseFloat(g05.parameters.studyOverSoldValue);}if(!j05){N05.fillStyle=w60;}else if(b05[g05.name + "_hist"] > h05 && j05[g05.name + "_hist"] < b05[g05.name + "_hist"]){N05.fillStyle=m05;}else if(b05[g05.name + "_hist"] < P05 && j05[g05.name + "_hist"] > b05[g05.name + O60]){N05.fillStyle=G05;}else {N05.fillStyle="#CCCCCC";}if(b05.candleWidth){E05=Math.floor(Math.max(1,b05.candleWidth - +"2"));}N05.fillRect(Math.floor(I05.pixelFromBar(a05,r05.chart) - E05 / ("2" - 0)),Math.floor(y05),Math.floor(E05),Math.floor(I05.pixelFromPrice(b05[g05.name + "_hist"],r05,T05) - y05));}I05.endClip();};e05.Studies.studyLibrary=e05.extend(e05.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:e05.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":B60,"Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:N60,calculateFN:e05.Studies.calculatePriceOscillator,inputs:{"Short Cycle":+"12","Long Cycle":26,"Points Or Percent":["Points",L60]},parameters:{init:{isVolume:!0}}},RAVI:{name:"RAVI",seriesFN:e05.Studies.displayRAVI,calculateFN:e05.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:u60,studyOverSoldValue:- +"3",studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:J60}}}});}};U6w= p05=>{var D60,S05,R60;D60="u";D60+="nde";D60+="fined";S05=typeof _CIQ !== D60?_CIQ:p05.CIQ;if(!S05.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {R60="Prim";R60+="e N";R60+="umber Band";R60+="s";S05.Studies.calculatePrimeNumber=function(w05, M05){var t2N=e8ll;var H05,z05,K05,D05,l05,S60,u05,V05,c05;t2N.A2x();H05=[];z05=M05.chart.scrubbed;for(var A05=M05.startFrom; A05 < z05.length; A05++){K05=z05[A05];if(!K05)continue;D05=K05.High;if(!isNaN(D05)){for(var k05=0; D05 > 0 && D05 <= 10; k05++){D05*=10;}if(U05(D05)){D05+=2;}D05=Math.ceil(D05);if(D05 % 2 === 0){D05++;}while(!U05(D05)){D05+=2;}D05/=Math.pow(+"10",k05);}l05=K05.Low;if(!isNaN(l05)){for(var Q05=+"0"; l05 > 0 && l05 <= "10" >> 529043136; Q05++){l05*=10;}if(U05(l05)){l05-=2;}l05=Math.floor(l05);if(l05 % 2 === 0){l05--;}if(l05 > ("0" ^ 0)){while(!U05(l05)){l05-=2;}l05/=Math.pow(10,Q05);}}if(M05.type == "Prime Number Bands"){if(!isNaN(D05)){K05["Prime Bands Top " + M05.name]=D05;}if(!isNaN(l05)){K05["Prime Bands Bottom " + M05.name]=Math.max(+"0",l05);}}else {S60="Re";S60+="sul";S60+="t ";u05=0;V05=M05.inputs["Tolerance Percentage"] * (D05 - l05) / ("100" - 0);t2N.E4v(69);var X5F=t2N.z4v(12,12,36,442);c05=D05 + l05 - X5F * K05.Close;if(c05 < V05){t2N.L4v(15);u05=t2N.X4v(1,"1");}else if(c05 > V05){u05=-1;}if(u05){K05[S60 + M05.name]=u05;}}}function U05(f05){var Z05;if(f05 <= 0){return ! !0;}else if(f05 != Math.floor(f05)){return ! !0;}else if(H05[f05] === ! !{} || H05[f05] === ![]){return H05[f05];}Z05=parseInt(Math.sqrt(f05),10);t2N.z2x();for(var v05=2; v05 <= Z05; v05++){if(f05 % v05 === 0){H05[f05]=! !"";return !{};}}H05[f05]=! !"1";return ! !{};}};S05.Studies.studyLibrary=S05.extend(S05.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:S05.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:+"0.1",step:0.1}}},"Prime Number Bands":{name:R60,overlay:! ![],calculateFN:S05.Studies.calculatePrimeNumber,seriesFN:S05.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};A6w= J65=>{var i65,C60;e8ll.z2x();i65=typeof _CIQ !== "undefined"?_CIQ:J65.CIQ;if(!i65.Studies){console.error("pring feature requires first activating studies feature.");}else {C60="#FF";C60+="0000";i65.Studies.calculateKST=function(C65, L65){var a2N=e8ll;var q60,c60,Y60,a60,W65,d65,t65,o65,B65,e65,n65,x60,U60,q65;q60="K";q60+="S";q60+="TSign";q60+="al";c60="Heaviest SM";c60+="A Period";Y60="C";Y60+="lo";Y60+="s";Y60+="e";a60="f";a60+="ield";W65=L65.chart.scrubbed;d65=L65.inputs.Field;if(!d65 || d65 == a60){d65=Y60;}t65={};o65={};t65[1]=Number(L65.inputs["Lightest Rate of Change Period"]);t65[2]=Number(L65.inputs["Light Rate of Change Period"]);t65[3]=Number(L65.inputs["Heavy Rate of Change Period"]);t65[4]=Number(L65.inputs["Heaviest Rate of Change Period"]);o65[1]=Number(L65.inputs["Lightest SMA Period"]);a2N.A2x();o65[2]=Number(L65.inputs["Light SMA Period"]);o65[3]=Number(L65.inputs["Heavy SMA Period"]);o65[4]=Number(L65.inputs[c60]);B65=Number(L65.inputs["Signal Period"]);for(e65=L65.startFrom; e65 < W65.length; e65++){if(!W65[e65])continue;for(n65=1; n65 <= +"4"; n65++){if(e65 >= t65[n65] && W65[e65 - t65[n65]] && W65[e65 - t65[n65]][d65]){a2N.E4v(57);var i5F=a2N.z4v(1,83,17);W65[e65]["_ROC" + n65 + " " + L65.name]=i5F * (W65[e65][d65] / W65[e65 - t65[n65]][d65] - ("1" & 2147483647));}}}for(n65=1; n65 <= 4; n65++){i65.Studies.MA("simple",o65[n65],"_ROC" + n65 + ((2459,2754) < ("3765" ^ 0,2930)?" ":(900.72,3634) >= 1290?(3037,9350) == (8590,3890)?!"":0xeef:! ![]) + L65.name,0,"_SMA" + n65,C65,L65);}for(e65=L65.startFrom; e65 < W65.length; e65++){W65[e65]["KST " + L65.name]=null;for(n65=1; n65 <= 4; n65++){x60="K";x60+="ST";x60+=" ";U60="_";U60+="S";U60+="M";U60+="A";q65=W65[e65][U60 + n65 + " " + L65.name];if(q65 || q65 === 0){a2N.L4v(15);W65[e65][x60 + L65.name]+=a2N.z4v(q65,n65);}}}i65.Studies.MA("simple",B65,"KST " + L65.name,0,q60,C65,L65);};i65.Studies.calculateSpecialK=function(N65, Y65){var V2N=e8ll;var s65,O65,X65,g65,I65,x65,F65,X60,i60,Z60,m60,b65;s65=Y65.chart.scrubbed;O65=Y65.inputs.Field;if(!O65 || O65 == "field"){O65="Close";}X65=Y65.inputs.Interval;if(!X65){X65="daily";}g65={daily:[10,15,+"20","30" ^ 0,50,+"65",75,100,195,+"265",390,530],weekly:[4,5,6,"8" * 1,10,13,15,20,39,52,78,104]};I65={daily:[10,10,10,15,+"50",65,75,100,130,130,130,195],weekly:[+"4","5" >> 1348882144,6,8,"10" | 2,+"13","15" >> 965437696,20,26,26,26,"39" << 318634752]};for(x65=Y65.startFrom; x65 < s65.length; x65++){if(!s65[x65])continue;for(F65=0; F65 < g65[X65].length; F65++){if(x65 >= g65[X65][F65] && s65[x65 - g65[X65][F65]] && s65[x65 - g65[X65][F65]][O65]){V2N.E4v(57);var m5F=V2N.X4v(1,95,5);V2N.L4v(40);var Z5F=V2N.X4v(15,16);s65[x65]["_ROC" + F65 + " " + Y65.name]=m5F * (s65[x65][O65] / s65[x65 - g65[X65][F65]][O65] - Z5F);}}}for(F65=0; F65 < I65[X65].length; F65++){X60="dai";X60+="ly";i65.Studies.MA(X65 == X60?"simple":"exponential",I65[X65][F65],"_ROC" + F65 + " " + Y65.name,0,"_MA" + F65,N65,Y65);}for(x65=Y65.startFrom; x65 < s65.length; x65++){i60="Re";i60+="s";i60+="ult ";s65[x65][i60 + Y65.name]=null;for(F65=0; F65 < I65[X65].length; F65++){Z60="Res";Z60+="ult ";m60="_";m60+="M";m60+="A";V2N.L4v(5);var C5F=V2N.z4v(7371,14);V2N.L4v(5);var l5F=V2N.z4v(1657,4);V2N.E4v(150);var d5F=V2N.X4v(15,3,7,6,1);V2N.L4v(34);var p5F=V2N.z4v(19236,130530,5);V2N.L4v(3);var I5F=V2N.z4v(15,6625);b65=s65[x65][m60 + F65 + ((+"5200","545.85" - 0) > (C5F,l5F)?"790.95" * d5F < p5F?(587.4,72.73) <= I5F?(+"643",!0):+"217.34":(![],"o"):" ") + Y65.name];if(b65 || b65 === 0){V2N.L4v(151);s65[x65][Z60 + Y65.name]+=V2N.X4v(4,b65,F65,"1");}}}};i65.Studies.studyLibrary=i65.extend(i65.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:i65.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":+"10","Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":+"30","Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:C60}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:i65.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};z6w= E65=>{var a65,j65,o7D,P7D,V7D,v9F,r9F,f9F,b9F,Q9F,G9F,W9F,t9F,h9F,z9F,e60,H60,T60;a65=typeof _CIQ !== "undefined"?_CIQ:E65.CIQ;j65=typeof _timezoneJS !== "undefined"?_timezoneJS:E65.timezoneJS;e8ll.z2x();if(!a65.Studies){o7D=+"1074581299";P7D=+"347199412";V7D=2;for(var E7D=1; e8ll.x4D(E7D.toString(),E7D.toString().length,29374) !== o7D; E7D++){console.error("projectedVolume feature requires first activating studies feature.");V7D+=2;}if(e8ll.x4D(V7D.toString(),V7D.toString().length,"94501" ^ 0) !== P7D){console.error("");}}else if(!a65.Studies.studyLibrary.PVAT){v9F="#b82c0";v9F+="c";r9F="#fe";r9F+="641c";f9F="Projected Aggregate Vo";f9F+="lume";b9F="h";b9F+="h";b9F+=":mm:s";b9F+="s";Q9F="ste";Q9F+="p";G9F="#";G9F+="b";G9F+="82c0";G9F+="c";W9F="#c";W9F+="fbd0e";t9F="-12";t9F+="5%";h9F="-10";h9F+="0%";z9F="-";z9F+="7";z9F+="5";z9F+="%";e60="+";e60+="50";e60+="%";H60="0";H60+=" ";H60+="to m";H60+="ax";T60="Projected Volume at";T60+=" Time";a65.Studies.initProjectedVolume=function(T65, P65, R65, m65, G65, S65){var d60,l60,r65,h65;d60="A";d60+="nchor T";d60+="i";d60+="me";l60="An";l60+="chor T";l60+="i";l60+="me";var {market:y65}=T65.chart;r65="00:00";if(y65){r65=y65.getNormalOpen();}if(r65.match(/^[\d]{2}:[\d]{2}$/)){r65+=":00";}if(!R65[l60] || !R65[d60].length){R65["Anchor Time"]=r65;}h65=a65.Studies.initializeFN(T65,P65,R65,m65,G65,S65);if(!T65.currentlyImporting){h65.defaultAnchorTime=r65;}return h65;};a65.Studies.validateProjectedVolumeLookback=function(K65, M65){var {interval:p65, periodicity:l65}=K65.layout;var {"Lookback Days":D65}=M65.inputs;e8ll.E4v(152);e8ll.z2x();return e8ll.z4v(l65,D65,10,p65);};a65.Studies.calculateProjectedVolume=function(U65, H65){var e6N=e8ll;var P60,I60,p60,G25,f65,v65,P2D,V2D,y2D,x2D,q2D,X2D,p25,l25,g25,I25,A65,b25,e31,z65,F25,N25,D25,a25,M60,Z65,E25,W31,w65,t31,o25,k65,x25,V65,n25,M25,H25,u25,U25,r25,R25,Y25,q31,A25,k60,K60,e25,W25,O25,C31,T25,o60,Q65,z25,k25,h25,Q25,q25;P60="P";P60+="V";P60+=" ";e6N.z2x();function w25(N31){var f2D,r2D,v2D;f2D=-1210679675;r2D=-1205580075;e6N.A2x();v2D=2;for(var n2D=1; e6N.x4D(n2D.toString(),n2D.toString().length,55030) !== f2D; n2D++){return U65.tickFromDate(N31,null,null,! !1,"scrubbed");}if(e6N.q4D(v2D.toString(),v2D.toString().length,+"88556") !== r2D){return U65.tickFromDate(N31,1,1,!{},"");}}I60="h";I60+="eik";I60+="ina";I60+="shi";p60="oh";p60+="l";function c25(g31, I31, b31){while(I31){g31=new Date(new Date(g31).setDate(g31.getDate() + (b31?1:-1)));if(c65.isMarketDate(g31)){I31--;}}return g31;}p60+="c";var {interval:v25, timeUnit:P25, aggregationType:m25}=U65.layout;var {symbol:Z25, scroll:i31, scrubbed:u65, market:c65}=U65.chart;G25=H65.type === "PAV";f65=H65.study?H65.study.name:H65.type;if(a65.ChartEngine.isDailyInterval(v25)){H65.error=`${f65} is Intraday Only`;}else if(P25 === "tick"){H65.error=`Tick mode not supported for ${f65}`;}else if(P25 !== "minute"){H65.error=`Sub-minute periodicities not supported for ${f65}`;}else if(!m25 || ![p60,I60].includes(m25)){H65.error=`Aggregation type not supported for ${f65}`;}else if(!a65.Studies.validateProjectedVolumeLookback(U65,H65)){H65.error=`Selected lookback/periodicity combo not supported for ${f65}`;}if(H65.error){return;}if(H65.inputs["Anchor Selector"]){a65.Studies.initAnchorHandle(U65,H65);}else {a65.Studies.removeAnchorHandle(U65,H65);}v65=c65?c65.getNormalOpen():"00:00";if(v65.match(/^[\d]{2}:[\d]{2}$/)){v65+=":00";}if(!U65.currentlyImporting){if(!H65.defaultAnchorTime){P2D=-1249180572;V2D=1588392914;e6N.L4v(15);y2D=e6N.z4v(1,"2");for(var s2D="1" | 1; e6N.x4D(s2D.toString(),s2D.toString().length,+"12195") !== P2D; s2D++){H65.defaultAnchorTime=v65;y2D+=2;}if(e6N.q4D(y2D.toString(),y2D.toString().length,44620) !== V2D){H65.defaultAnchorTime=v65;}}else if(v65 !== H65.defaultAnchorTime){H65.defaultAnchorTime=v65;H65.inputs["Anchor Time"]=v65;x2D=-1419427833;q2D=-1936213365;X2D=2;for(var m2D=+"1"; e6N.x4D(m2D.toString(),m2D.toString().length,55449) !== x2D; m2D++){a65.Studies.repositionAnchor(U65,H65);X2D+=+"2";}if(e6N.x4D(X2D.toString(),X2D.toString().length,"35350" >> 1915126336) !== q2D){a65.Studies.repositionAnchor(U65,H65);}return;}}function V25(Y31){e6N.z2x();console.error(`Expected data for ${f25(Y31).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function C25(y31, h31){var R31,T31,r31;R31=f25(y31);T31=c65.getOpen(R31) || B31(R31);r31=w25(T31);if(!h31){return r31;}if(r31 < +"0"){r31=w25(c25(T31,1,!""));}if(r31 >= u65.length){return ![];}return r31;}var {"Lookback Days":B25, "Anchor Time":J31}=H65.inputs;function f25(a31){var V60;V60="scru";e6N.z2x();V60+="b";V60+="bed";return U65.dateFromTick(a31,null,! !{},V60);}var [L31,n31,S25 = 0]=J31.split((801.71,8074) <= (8441,9345)?":":("4810" ^ 0) == (843.49,523.34)?(0x9e,"T"):("C","P"));p25=a65.getFn("Market.Symbology.isForexSymbol")(Z25);l25=H65.getDependents(U65);g25=0;I25=[];l25.forEach(({inputs:F31, outputMap:x31})=>{e6N.z2x();if(F31.Period){g25=Math.max(parseInt(F31.Period),g25);I25.push(...Object.keys(x31));}});H65.dependentsOutputMap=I25;b25=C25(u65.length - 1,! !"1");e31=Math.ceil(u65.length - ("1" >> 1191716032) - i31);e6N.E4v(5);z65=C25(e6N.X4v(e31,g25));if(p25 && u65[z65] && a65.dateToStr(u65[z65].DT,"HH:mm") !== v65){e6N.E4v(5);z65=C25(e6N.z4v(z65,1));;}if(!p25 && H65.startFrom > z65 && u65[z65] && u65[z65]["V " + H65.name] !== undefined && I25.every(s31=>{return ![undefined,null].includes(u65[z65][s31]);}) && b25 !== !"1"){A65=b25;;}else {A65=z65;}F25=c25(f25(z65),B25);F25.setHours(0,0,0);e6N.E4v(15);N25=C25(e6N.X4v(1,"0"),! !{});D25=(N25 || N25 === 0) && w25(c25(u65[N25].DT,B25,! ![]));if(u65[0].DT > F25){if(U65.quoteDriver){if(H65.chart.endPoints.begin > F25){U65.quoteDriver.extendHistoricalData({from:F25});}if(D25 > 0){A65=D25;}else {return;}}else {return H65.error=`Not enough data to calculate ${f65}`;}}if(A65 < 0 || A65 > u65.length - ("1" | 0)){return;}a25=u65.length - H65.startFrom === 1 && H65.cachedFutureTicks && H65.cachedLastProjection && +H65.cachedLastProjection.DT === +u65[u65.length - 1].DT && u65[A65]["PV " + H65.name];if(a25){M60="P";M60+="V";M60+=" ";e6N.L4v(153);var M5F=e6N.X4v(3,18,7,106);u65[u65.length - M5F][M60 + H65.name]=H65.cachedLastProjection.projectedValue;H65.appendFutureTicks(U65,H65.cachedFutureTicks);A65=H65.startFrom;}else {H65.cachedFutureTicks=null;H65.cachedLastProjection=null;Z65=[b25];E25=[];for(var K25=0; K25 < B25; K25++){W31=C25(Z65[0] - 1);Z65.unshift(W31);;}while(Z65[B25] >= A65){w65=Z65.pop();if(!u65[w65]){return V25(w65);}t31=t25(u65[w65].DT);var {hours:i25, minutes:d25}=t31;o25=c65.getClose(u65[w65].DT);k65=void 0;if(!o25){k65={hours:"24" ^ 0,minutes:0};}else {x25=c65.getNextClose(u65[w65].DT);k65=t25(o25);while(!(k65.hours === 0 && k65.minutes === 0) && o25.getDate() === x25.getDate()){o25=x25;x25=c65.getNextClose(x25);}k65=t25(o25);if(k65.hours === 0){e6N.E4v(15);k65.hours=e6N.z4v(1,"24");}}V65=Z65.slice();for(var s25=+"0"; s25 < V65.length; s25++){n25=V65[s25];if(!u65[n25]){return V25(n25);}var {hours:X25, minutes:j25}=t25(u65[n25].DT);if(X25 < i25 || X25 === i25 && j25 < d25){do {n25++;({hours:X25, minutes:j25}=t25(u65[n25].DT));}while(!(X25 === i25 && j25 === d25));}V65[s25]=n25;}while(i25 < k65.hours || i25 === k65.hours && d25 < k65.minutes){M25=!1;H25=void 0;u25=void 0;U25=0;e6N.L4v(19);r25=e6N.z4v("0",2147483647);for(var J25=0; J25 < V65.length; J25++){R25=V65[J25];if(R25 === null)continue;Y25=u65[R25];if(!Y25){return V25(R25);}var {hours:d31, minutes:o31}=t25(Y25.DT);q31=Y25.DT.getDate();if(d31 === i25 && o31 === d25){U25+=Y25.Volume;r25++;V65[J25]++;if(u65[V65[J25]].DT.getDate() !== q31){V65[J25]=null;}else if(!M25){({hours:H25, minutes:u25}=t25(u65[V65[J25]].DT));M25=! !{};;}}}i25=H25;d25=u25;if(r25 === 0)break;e6N.L4v(9);A25=e6N.z4v(U25,r25);if(u65[w65]){k60="P";k60+="V";k60+=" ";u65[w65][k60 + H65.name]=A25;}else {K60="P";K60+="V ";E25.push({[K60 + H65.name]:A25});}w65++;}Z65.unshift(C25(Z65[0] - 1));;}H65.cachedLastProjection={DT:u65[u65.length - 1].DT,projectedValue:u65[u65.length - +"1"]["PV " + H65.name]};H65.cachedFutureTicks=E25;H65.appendFutureTicks(U65,E25);}e25=null;function t25(O31){e6N.z2x();return {hours:O31.getHours(),minutes:O31.getMinutes()};}function B31(E31){var j31;E31.setHours(0);E31.setMinutes(0);e6N.A2x();j31=a65.Studies.getMarketOffset({stx:U65,localQuoteDate:E31});return new Date(E31.getTime() + j31);}W25=0;e6N.E4v(19);O25=e6N.z4v("0",2147483647);if(a25 && G25){while(A65 > 0){e6N.E4v(5);T25=u65[e6N.z4v(A65,1)]["V " + H65.name];if(T25 || T25 === "0" >> 2047349856){W25=T25;break;}A65--;}}for(var L25=A65; L25 < u65.length; L25++){o60="Amer";o60+="ica/New_York";Q65=u65[L25];z25=Q65.Volume;k25=Q65["PV " + H65.name];if(!Q65.futureTick){C31=L25;}if(e25 === null){e25=a65.Studies.getMarketOffset({stx:U65,localQuoteDate:u65[L25].DT,shiftToDateBoundary:! !"1"});}h25=new Date(new Date(Q65.DT).getTime() + e25);Q25=u65[L25 - 1] && new Date(new Date(u65[L25 - 1].DT).getTime() + e25);q25=new j65.Date(Q65.DT,c65.market_def.market_tz || o60);q25.setHours(L31,n31,S25);e6N.E4v(3);q25=new Date(e6N.X4v(e25,q25));q25.setDate(h25.getDate());if(Q25 && h25.getDate() !== Q25.getDate()){e25=null;W25=0;O25=0;}if(h25 < q25){Q65["V " + H65.name]=+"0";Q65["PV " + H65.name]=0;continue;}if(G25){W25+=z25;O25+=k25;}else {W25=z25;O25=k25;}Q65["V " + H65.name]=W25;if(!a25){Q65["PV " + H65.name]=O25;}if([NaN,null,undefined].includes(W25) && !Q65.futureTick){H65.error=`${f65} requires volume`;return;}}H65.cachedLastProjection.projectedValue=u65[C31][P60 + H65.name];H65.outputMap={};H65.outputMap["V " + H65.name]="";H65.outputMap["PV " + H65.name]="Average Line";l25.forEach(X31=>{X31.startFrom=A65;X31.study.calculateFN(U65,X31);});};a65.Studies.displayProjectedVolume=function(m31, P31, G31){var C6N=e8ll;var g60,s60,E60,y60,l31,S31,D31,K31,M31,u31,U31;g60="stx_";g60+="volume_underlay_down";s60="V";s60+=" ";E60="obj";E60+="ect";y60="Al";y60+="ert ";y60+="B";y60+="ar";if(P31.error){return a65.Studies.removeAnchorHandle(m31,P31);}var {"Alert Threshold":p31 = ""}=P31.inputs;C6N.L4v(154);var k5F=C6N.z4v(51,700,7,100);l31=parseInt(p31.slice(0,- +"1"),+"10") / k5F;S31=P31.outputs[y60];if(typeof S31 === E60){S31=S31.color;}P31.volumeField=s60 + P31.name;P31.alignStepToSide=! ![];P31.extendToEndOfLastBar=! ![];C6N.E4v(15);P31.lineWidth=C6N.z4v(1,"2");D31=m31.canvasStyle("stx_volume_underlay_up").opacity;K31=m31.canvasStyle(g60).opacity;P31.colorFunction=function(z31){var A60,v31,A31,Z31,k31,Q31,V31;A60="P";A60+="V";A60+=" ";var {Open:c31, Close:w31, iqPrevClose:f31}=z31;v31=m31.colorByCandleDirection?c31:f31;C6N.E4v(155);A31=C6N.X4v(w31,v31);Z31=z31[A60 + P31.name];k31=z31["V " + P31.name];C6N.L4v(156);Q31=C6N.z4v(l31,1,Z31);V31=l31 < "0" >> 55170912?k31 < Q31:k31 > Q31;return {fill_color:V31 && S31 || (A31?this.fill_color_down:this.fill_color_up),border_color:A31?this.border_color_down:this.border_color_up,opacity:V31?1:A31?K31:D31,border_opacity:A31?K31:D31};};M31=P31.study?P31.study.name:P31.type;var {loadingMore:H31}=m31.chart;u31=G31.some(i71=>{return i71 && i71[P31.volumeField] && i71["PV " + P31.name];});U31=G31[0] && !G31[0].futureTick && (G31[0]["PV " + P31.name] === undefined || (P31.dependentsOutputMap || []).some(J71=>{return [undefined,null].includes(G31[+"0"][J71]);}));if(!u31 && H31){return P31.error=`Fetching data for ${M31}`;}a65.Studies.createVolumeChart(m31,P31,G31);a65.Studies.displaySeriesAsLine(m31,P31,G31);if(P31.anchorHandle){a65.Studies.displayAnchorHandleAndLine(m31,P31,G31);}if(U31){a65.Studies.calculateProjectedVolume(m31,P31);}};a65.Studies.studyLibrary=a65.extend(a65.Studies.studyLibrary,{PVAT:{name:T60,range:H60,yAxis:{ground:! !{}},calculateFN:a65.Studies.calculateProjectedVolume,seriesFN:a65.Studies.displayProjectedVolume,initializeFN:a65.Studies.initProjectedVolume,removeFN:a65.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%",e60,"+25%","None","-25%","-50%",z9F,h9F,t9F,"-150%"],"Anchor Selector":! !1},outputs:{"Average Line":"#fe641c","Alert Bar":W9F,"Up Volume":"#8cc176","Down Volume":G9F},parameters:{plotType:Q9F},attributes:{"Anchor Time":{placeholder:b9F,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:f9F,range:"0 to max",yAxis:{ground:! ![]},calculateFN:a65.Studies.calculateProjectedVolume,seriesFN:a65.Studies.displayProjectedVolume,initializeFN:a65.Studies.initProjectedVolume,removeFN:a65.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":r9F,"Up Volume":"#8cc176","Down Volume":v9F},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};k6w= n71=>{var L71,j9F;e8ll.A2x();L71=typeof _CIQ !== "undefined"?_CIQ:n71.CIQ;if(!L71.Studies){j9F="psycho";j9F+="logicalLine feature requi";j9F+="res first activating studies";j9F+=" feature.";console.error(j9F);}else {L71.Studies.calculatePsychologicalLine=function(B71, e71){var t71,d71,q71,o71,C71;t71=e71.chart.scrubbed;if(t71.length < e71.days + ("1" >> 334208864)){e71.error=! ![];return;}d71=[];e8ll.E4v(3);var K5F=e8ll.X4v(80,20);q71=K5F / e71.days;o71=0;for(var W71=Math.max(e71.startFrom - e71.days,1); W71 < t71.length; W71++){if(t71[W71].futureTick)break;C71=Number(t71[W71].Close > t71[W71 - 1].Close);if(C71){o71+=q71;}d71.push(C71);if(d71.length > e71.days){o71-=d71.shift() * q71;}if(W71 < e71.startFrom)continue;if(!isNaN(t71[W71].Close)){t71[W71]["Result " + e71.name]=o71;}}};L71.Studies.studyLibrary=L71.extend(L71.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:L71.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};Q6w= x71=>{var F71,F9F;F71=typeof _CIQ !== "undefined"?_CIQ:x71.CIQ;e8ll.A2x();if(!F71.Studies){console.error("qstick feature requires first activating studies feature.");}else {F9F="m";F9F+="a";F71.Studies.calculateQStick=function(O71, s71){var n9F,X71;n9F="Resul";n9F+="t";X71=s71.chart.scrubbed;if(X71.length < s71.days + 1){s71.error=!"";return;}for(var Y71=s71.startFrom; Y71 < X71.length; Y71++){X71[Y71]["_Close-Open " + s71.name]=X71[Y71].Close - X71[Y71].Open;}e8ll.A2x();F71.Studies.MA(s71.inputs["Moving Average Type"],s71.days,"_Close-Open " + s71.name,0,n9F,O71,s71);};F71.Studies.studyLibrary=F71.extend(F71.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:F71.Studies.calculateQStick,inputs:{Period:+"8","Moving Average Type":F9F}}});}};V6w= I71=>{var g71,w9F,C9F,Z9F,m9F,i9F,X9F,q9F,x9F,U9F,c9F,Y9F;e8ll.z2x();g71=typeof _CIQ !== "undefined"?_CIQ:I71.CIQ;if(!g71.Studies){w9F="rainbow feature req";w9F+="uires first act";w9F+="ivating studies featu";w9F+="re.";console.error(w9F);}else {C9F="fiel";C9F+="d";Z9F="Rainbow Oscillat";Z9F+="o";Z9F+="r";m9F="#FF0";m9F+="0FF";i9F="#000";i9F+="0";i9F+="FF";X9F="#";X9F+="0";X9F+="07FFF";q9F="#";q9F+="0";q9F+="0";q9F+="FFFF";x9F="#";x9F+="0";x9F+="0FF7F";U9F="#7FFF0";U9F+="0";c9F="#F";c9F+="FFF0";c9F+="0";Y9F="#FF";Y9F+="0000";g71.Studies.calculateRainbow=function(G71, b71){var w6N=e8ll;var L9F,O9F,N71,j71,P71,m71,T71,y71,h71,B9F,r71,N9F,R71;L9F="O";L9F+="s";L9F+="c";O9F="f";O9F+="ie";O9F+="l";O9F+="d";N71=b71.chart.scrubbed;if(N71.length < b71.days + 1){b71.error=! ![];return;}j71=b71.inputs.Field;if(!j71 || j71 == O9F){j71="Close";}P71=j71;for(var E71=+"1"; E71 <= 10; E71++){g71.Studies.MA("simple",b71.days,P71,0,"SMA" + E71,G71,b71);w6N.E4v(3);var o5F=w6N.X4v(3,2897);w6N.L4v(53);var P5F=w6N.z4v(13,136360,126607);w6N.E4v(5);var V5F=w6N.z4v(2341,13);w6N.E4v(121);var y5F=w6N.X4v(40796880280,20,18,10,115571909);P71="SMA" + E71 + (o5F <= (333.54,756.08)?(207.56,0x2303):(+"69.65",P5F) === +"3189"?V5F == "4230" << y5F?! ![]:! !{}:" ") + b71.name;}function S71(M71, K71){var l71,D71;w6N.E4v(114);var E5F=w6N.z4v(0,14,3,9,4);l71=Number.MAX_VALUE * E5F;D71=Number.MAX_VALUE;for(var p71=K71 - M71 + 1; p71 <= K71; p71++){if(p71 < 0)continue;l71=Math.max(l71,N71[p71].Close);D71=Math.min(D71,N71[p71].Close);}return [D71,l71];}for(var a71=Math.max(b71.startFrom,10); a71 < N71.length; a71++){if(!N71[a71])continue;if(N71[a71].futureTick)break;m71=+"0";T71=0;w6N.L4v(157);var s5F=w6N.z4v(19,18,90,14,7);y71=Number.MAX_VALUE * s5F;h71=Number.MAX_VALUE;for(E71=1; E71 <= 10; E71++){B9F="S";B9F+="MA";r71=N71[a71][B9F + E71 + " " + b71.name];if(r71 || r71 === 0){m71+=r71;T71++;y71=Math.max(y71,r71);h71=Math.min(h71,r71);}}if(b71.name.indexOf("Osc") > -1){N9F="HHV/LLV";N9F+=" Lookback";R71=S71(b71.inputs[N9F],a71);if(T71){w6N.E4v(4);var g5F=w6N.z4v(2,5,103);w6N.E4v(5);var A5F=w6N.z4v(15,14);N71[a71][b71.name + "_hist"]=g5F * (N71[a71][j71] - m71 / T71) / Math.max(0.000001,R71[A5F] - R71[0]);w6N.E4v(3);var T5F=w6N.z4v(14,86);w6N.E4v(8);var H5F=w6N.z4v(17,15,31);N71[a71]["Over " + b71.name]=T5F * (y71 - h71) / Math.max(0.000001,R71[H5F] - R71[0]);N71[a71]["Under " + b71.name]=-N71[a71]["Over " + b71.name];w6N.L4v(25);N71[a71]["Zero " + b71.name]=w6N.z4v(139269088,"0");}}}if(b71.name.indexOf(L9F) > -1){b71.outputMap={};b71.outputMap["Over " + b71.name]="Positive Bar";b71.outputMap["Under " + b71.name]="Negative Bar";b71.outputMap["Zero " + b71.name]="";b71.outputMap[b71.name + "_hist"]="";}};g71.Studies.displayRainbowMA=function(U71, u71, z71){var A71;e8ll.A2x();A71=U71.panels[u71.panel];for(var H71=+"10"; H71 > +"0"; H71--){g71.Studies.displayIndividualSeriesAsLine(U71,u71,A71,"SMA" + H71 + " " + u71.name,z71);}};g71.Studies.displayRainbowOsc=function(Q71, k71, t81){var D6N=e8ll;var S9F,D9F,J9F,u9F,w71,c71,V71,Z71,i81,L81,n81,e81,W81,v71,a9F,R9F,f71;S9F="U";S9F+="nd";S9F+="er";S9F+=" ";D9F="Ze";D9F+="ro ";J9F="Ove";J9F+="r ";u9F="Po";u9F+="si";u9F+="tiv";u9F+="e Bar";g71.Studies.displaySeriesAsLine(Q71,k71,t81);w71=Q71.panels[k71.panel];c71=k71.getContext(Q71);V71=k71.getYAxis(Q71);Q71.startClip(k71.panel);if(!k71.highlight && Q71.highlightedDraggable){c71.globalAlpha*=0.3;}Z71=Q71.pixelFromPrice(0,w71,V71);i81=w71.name != k71.chart.name;L81=g71.Studies.determineColor(k71.outputs[u9F]);c71.strokeStyle=L81;Q71.plotDataSegmentAsLine("Over " + k71.name,w71,{skipTransform:i81,label:!"1",yAxis:V71});D6N.L4v(19);n81=c71.createLinearGradient(0,Z71,D6N.X4v("0",2147483647),V71.flipped?V71.bottom:V71.top);n81.addColorStop(0,Q71.containerColor);n81.addColorStop(1,L81);g71.prepareChannelFill(Q71,{skipTransform:i81,color:n81,opacity:!k71.highlight && Q71.highlightedDraggable?0.3:1,panelName:k71.panel,topBand:J9F + k71.name,bottomBand:D9F + k71.name,yAxis:V71});e81=g71.Studies.determineColor(k71.outputs["Negative Bar"]);c71.strokeStyle=e81;Q71.plotDataSegmentAsLine(S9F + k71.name,w71,{skipTransform:i81,label:! !"",yAxis:V71});W81=c71.createLinearGradient(+"0",Z71,0,V71.flipped?V71.top:V71.bottom);W81.addColorStop(0,Q71.containerColor);W81.addColorStop(1,e81);g71.prepareChannelFill(Q71,{skipTransform:i81,color:W81,opacity:!k71.highlight && Q71.highlightedDraggable?"0.3" - 0:"1" >> 780733568,panelName:k71.panel,topBand:"Zero " + k71.name,bottomBand:"Under " + k71.name,yAxis:V71});D6N.L4v(62);var e5F=D6N.X4v(6,46,8);v71=Q71.layout.candleWidth - e5F;if(v71 < 2){v71=1;}Q71.canvasColor("stx_histogram");if(!k71.underlay){c71.globalAlpha=1;}if(!k71.highlight && Q71.highlightedDraggable){c71.globalAlpha*=0.3;}c71.fillStyle="#CCCCCC";for(var J81=0; J81 < t81.length; J81++){a9F="_";a9F+="hist";R9F="_h";R9F+="i";R9F+="s";R9F+="t";f71=t81[J81];if(!f71)continue;if(f71[k71.name + R9F] > +"0"){c71.fillStyle=L81;}else if(f71[k71.name + a9F] < 0){c71.fillStyle=e81;}if(f71.candleWidth){v71=Math.floor(Math.max(1,f71.candleWidth - 2));}c71.fillRect(Math.floor(Q71.pixelFromBar(J81,w71.chart) - v71 / 2),Math.floor(Z71),Math.floor(v71),Math.floor(Q71.pixelFromPrice(f71[k71.name + "_hist"],w71,V71) - Z71));}Q71.endClip();};g71.Studies.studyLibrary=g71.extend(g71.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! !"1",calculateFN:g71.Studies.calculateRainbow,seriesFN:g71.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:Y9F,SMA2:"#FF7F00",SMA3:c9F,SMA4:U9F,SMA5:x9F,SMA6:q9F,SMA7:X9F,SMA8:i9F,SMA9:"#7F00FF",SMA10:m9F}},"Rainbow Osc":{name:Z9F,calculateFN:g71.Studies.calculateRainbow,seriesFN:g71.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:C9F,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};c6w= o81=>{var d81;d81=typeof _CIQ !== "undefined"?_CIQ:o81.CIQ;if(!d81.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {d81.Studies.calculateRandomWalk=function(N81, F81){var C81,Y81,O81,g81,x81,s81,X81,I81,b81;C81=F81.chart.scrubbed;if(C81.length < F81.days + 1){F81.error=! ![];return;}for(var q81=Math.max(2,F81.startFrom); q81 < C81.length; q81++){Y81=+"0";O81=C81[q81].High;g81=C81[q81].Low;x81=0;s81=0;for(var B81=1; B81 <= F81.days; B81++){if(C81[q81].futureTick)break;if(q81 <= B81){x81=s81=0;break;}Y81+=C81[q81 - B81].trueRange;X81=Y81 / B81 * Math.sqrt(B81);if(X81){I81=(O81 - C81[q81 - B81].Low) / X81;b81=(C81[q81 - B81].High - g81) / X81;x81=Math.max(x81,I81);s81=Math.max(s81,b81);}}if(!C81[q81].futureTick && (!isNaN(O81) || !isNaN(g81))){C81[q81]["Random Walk High " + F81.name]=x81;C81[q81]["Random Walk Low " + F81.name]=s81;}}};d81.Studies.studyLibrary=d81.extend(d81.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:d81.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};w6w= E81=>{var a81,V9F,P9F;a81=typeof _CIQ !== "undefined"?_CIQ:E81.CIQ;if(!a81.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {V9F="#00";V9F+="DD00";P9F="#";P9F+="F";P9F+="F000";P9F+="0";a81.Studies.calculateRelativeVigor=function(G81, j81){var Y6N=e8ll;var p9F,d9F,R81,r81,l9F,T81,h81,P81,k9F,M9F,I9F,S81,m81,y81,o9F,K9F;p9F="_";p9F+="De";p9F+="n";p9F+="om";d9F="tr";d9F+="iangular";R81=j81.chart.scrubbed;if(R81.length < j81.days + 1){j81.error=! ![];return;}Y6N.A2x();for(r81=j81.startFrom; r81 < R81.length; r81++){l9F="_Change";l9F+=" ";T81=R81[r81];if(!isNaN(T81.Close) && !isNaN(T81.Open)){T81[l9F + j81.name]=T81.Close - T81.Open;}if(!isNaN(T81.High) && !isNaN(T81.Low)){T81["_Range " + j81.name]=T81.High - T81.Low;}}a81.Studies.MA("triangular",4,"_Change " + j81.name,+"0","_Numer",G81,j81);a81.Studies.MA(d9F,4,"_Range " + j81.name,0,p9F,G81,j81);h81=[];P81=[];for(r81=Math.max(j81.startFrom - j81.days,0); r81 < R81.length; r81++){k9F="_Den";k9F+="om ";M9F="_N";M9F+="u";M9F+="me";M9F+="r ";I9F="_";I9F+="Numer ";if(R81[r81].futureTick)break;if(R81[r81][I9F + j81.name] === null && R81[r81]["_Denom " + j81.name] === null)continue;h81.push(R81[r81][M9F + j81.name]);P81.push(R81[r81][k9F + j81.name]);if(h81.length > j81.days){h81.shift();P81.shift();}S81=0;m81=0;for(y81=+"0"; y81 < h81.length; y81++){S81+=h81[y81];}for(y81=0; y81 < P81.length; y81++){m81+=P81[y81];}if(m81 === ("0" | 0)){m81=0.00000001;}if(r81 < j81.startFrom)continue;Y6N.L4v(9);R81[r81]["Rel Vig " + j81.name]=Y6N.X4v(S81,m81);}Y6N.E4v(25);a81.Studies.MA("triangular",Y6N.z4v(792228832,"4"),"Rel Vig " + j81.name,0,"RelVigSignal",G81,j81);for(r81=j81.startFrom; r81 < R81.length; r81++){o9F="RelVigSigna";o9F+="l ";K9F="_";K9F+="hi";K9F+="s";K9F+="t";R81[r81][j81.name + K9F]=R81[r81]["Rel Vig " + j81.name] - R81[r81][o9F + j81.name];}j81.outputMap[j81.name + "_hist"]="";};a81.Studies.studyLibrary=a81.extend(a81.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:a81.Studies.displayHistogramWithSeries,calculateFN:a81.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:P9F,"Increasing Bar":V9F,"Decreasing Bar":"#FF0000"}}});}};f6w= l81=>{var p81,g9F;p81=typeof _CIQ !== "undefined"?_CIQ:l81.CIQ;if(!p81.Studies){console.error("rsi feature requires first activating studies feature.");}else {g9F="au";g9F+="to";p81.Studies.calculateRSI=function(c81, D81){var n6N=e8ll;var y9F,z81,K81,s9F,E9F,U81,A81,k81,Q81,M81,H81;y9F="Cl";y9F+="o";y9F+="s";y9F+="e";z81=D81.chart.scrubbed;K81=D81.inputs.Field;if(!K81 || K81 == "field"){K81=y9F;}if(z81.length < D81.days + 1){D81.error=! !{};return;}for(var u81=D81.startFrom; u81 < z81.length; u81++){s9F="_";s9F+="avgL ";E9F="_avgG";E9F+=" ";if(!u81)continue;U81=z81[u81];n6N.E4v(5);A81=z81[n6N.z4v(u81,1)];if(!U81[K81] && U81[K81] !== 0)continue;if(!A81[K81] && A81[K81] !== 0)continue;k81=U81[K81] - A81[K81];Q81=Math.min(u81,D81.days);M81=A81["_avgG " + D81.name];if(!M81){M81=0;}n6N.L4v(9);M81-=n6N.X4v(M81,Q81);H81=A81["_avgL " + D81.name];if(!H81){H81=0;}n6N.E4v(9);H81-=n6N.z4v(H81,Q81);if(k81 > 0){n6N.L4v(9);M81+=n6N.z4v(k81,Q81);}else if(k81 <= 0){n6N.E4v(9);H81-=n6N.X4v(k81,Q81);}else continue;if(u81 >= D81.days){if((M81 || M81 !== 0) && (H81 || H81 !== 0)){U81["RSI " + D81.name]=V81(M81,H81);}}U81[E9F + D81.name]=M81;U81[s9F + D81.name]=H81;}D81.zoneOutput="RSI";function V81(v81, w81){var f81;if(w81 === 0){return 100;}n6N.E4v(9);f81=n6N.X4v(v81,w81);n6N.L4v(158);return n6N.z4v(1,f81,100,100);}};p81.Studies.studyLibrary=p81.extend(p81.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:p81.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:g9F,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};v6w= i51=>{var A9F,Z81,T9F,t3F;A9F="un";A9F+="defined";Z81=typeof _CIQ !== A9F?_CIQ:i51.CIQ;if(!Z81.Studies){T9F="schaffTrendCycle feature r";T9F+="equires first activating stu";T9F+="dies feature.";console.error(T9F);}else {t3F="0";t3F+=" to";t3F+=" 10";t3F+="0";Z81.Studies.calculateSchaff=function(O51, J51){var e51,t51,X51,d51,o51,Y51,q51,C51,W51,B51,F51,H9F,x51,n51,e9F,s51,h3F,z3F;e51=J51.chart.scrubbed;t51=J51.days;X51=Number(J51.inputs["Short Cycle"]);function g51(j51, E51, r51){var b51,N51,I51;b51=null;N51=null;for(var a51=E51 - j51 + 1; a51 <= E51; a51++){I51=e51[a51][r51 + " " + J51.name];if(!I51)continue;b51=b51 === null?I51:Math.min(b51,I51);N51=N51 === null?I51:Math.max(N51,I51);}return [b51,N51];}d51=Number(J51.inputs["Long Cycle"]);if(e51.length < Math.max(t51,X51,d51) + 1){J51.error=! !1;return;}o51=J51.inputs.Field;if(!o51 || o51 == "field"){o51="Close";}e8ll.z2x();Y51=0.5;Z81.Studies.MA(J51.inputs["Moving Average Type"],X51,o51,"0" * 1,"_MACD1",O51,J51);Z81.Studies.MA(J51.inputs["Moving Average Type"],d51,o51,0,"_MACD2",O51,J51);q51=0;C51=0;for(var L51=J51.startFrom; L51 < e51.length; L51++){W51=e51[L51];if(L51 < d51 - 1)continue;B51=W51["_MACD1 " + J51.name];F51=W51["_MACD2 " + J51.name];if(B51 || B51 === 0 || F51 || F51 === 0){H9F="_M";H9F+="A";H9F+="C";H9F+="D ";e8ll.E4v(5);W51[H9F + J51.name]=e8ll.X4v(B51,F51);}x51=W51["_MACD " + J51.name];if(L51 < d51 + (t51 - 1))continue;n51=g51(t51,L51,"_MACD");q51=n51[1] > n51[0]?("100" >> 128069728) * (x51 - n51[+"0"]) / (n51[1] - n51[0]):q51;if(x51 || x51 === 0){e9F="_";e9F+="P";e9F+="F";e9F+=" ";W51["_PF " + J51.name]=e51[L51 - +"1"]["_PF " + J51.name]?e51[L51 - 1][e9F + J51.name] + Y51 * (q51 - e51[L51 - 1]["_PF " + J51.name]):q51;}s51=W51["_PF " + J51.name];if(L51 < d51 + +"2" * (t51 - ("1" - 0)))continue;n51=g51(t51,L51,"_PF");C51=n51[1] > n51[0]?100 * (s51 - n51[0]) / (n51[1] - n51["0" << 916564320]):C51;if(s51 || s51 === 0){h3F="Re";h3F+="sult ";z3F="Res";z3F+="u";z3F+="l";z3F+="t ";W51[z3F + J51.name]=e51[L51 - ("1" & 2147483647)][h3F + J51.name]?e51[L51 - ("1" & 2147483647)]["Result " + J51.name] + Y51 * (C51 - e51[L51 - 1]["Result " + J51.name]):C51;}}};Z81.Studies.studyLibrary=Z81.extend(Z81.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:t3F,calculateFN:Z81.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":"23" << 1009642080,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:"75" & 2147483647,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};Z6w= T51=>{var R51;R51=typeof _CIQ !== "undefined"?_CIQ:T51.CIQ;if(!R51.Studies){console.error("shinohara feature requires first activating studies feature.");}else {R51.Studies.calculateShinohara=function(G51, P51){var f6N=e8ll;var h51,m51,W3F,Q3F,G3F;f6N.A2x();h51=P51.chart.scrubbed;if(h51.length < P51.days + 1){P51.error=!0;return;}m51={weakNum:0,weakDen:"0" ^ 0,strongNum:0,strongDen:0};if(P51.startFrom > 1){W3F="_a";W3F+="c";W3F+="c";W3F+="ums ";m51=R51.clone(h51[P51.startFrom - +"1"][W3F + P51.name]);}for(var y51=P51.startFrom; y51 < h51.length; y51++){Q3F="_";Q3F+="accu";Q3F+="ms ";m51.weakNum+=h51[y51].High - h51[y51].Close;m51.weakDen+=h51[y51].Close - h51[y51].Low;if(y51 > 0){m51.strongNum+=h51[y51].High - h51[y51 - +"1"].Close;f6N.L4v(34);var z1F=f6N.z4v(8,18,2);m51.strongDen+=h51[y51 - z1F].Close - h51[y51].Low;}if(y51 >= P51.days){G3F="Weak Ra";G3F+="tio ";m51.weakNum-=h51[y51 - P51.days].High - h51[y51 - P51.days].Close;m51.weakDen-=h51[y51 - P51.days].Close - h51[y51 - P51.days].Low;f6N.E4v(37);var h1F=f6N.X4v(3296,17,200,4);h51[y51][G3F + P51.name]=h1F * m51.weakNum / m51.weakDen;if(y51 > P51.days){f6N.E4v(62);var t1F=f6N.z4v(5,84,17);m51.strongNum-=h51[y51 - P51.days].High - h51[y51 - P51.days - t1F].Close;f6N.L4v(3);var W1F=f6N.z4v(1,0);m51.strongDen-=h51[y51 - P51.days - W1F].Close - h51[y51 - P51.days].Low;f6N.E4v(124);var G1F=f6N.z4v(11,1,1,3,86);h51[y51]["Strong Ratio " + P51.name]=G1F * m51.strongNum / m51.strongDen;}}h51[y51][Q3F + P51.name]=R51.clone(m51);}};R51.Studies.studyLibrary=R51.extend(R51.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:R51.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};i2w= p51=>{var S51,q3F,x3F,U3F,c3F,Y3F,a3F;S51=typeof _CIQ !== "undefined"?_CIQ:p51.CIQ;if(!S51.Studies){console.error("stochastics feature requires first activating studies feature.");}else {q3F="a";q3F+="u";q3F+="t";q3F+="o";x3F="#FF";x3F+="000";x3F+="0";U3F="a";U3F+="ut";U3F+="o";c3F="au";c3F+="to";Y3F="f";Y3F+="ie";Y3F+="l";Y3F+="d";a3F="e";a3F+="m";a3F+="a";S51.Studies.calculateStochastics=function(A51, l51){var B3F,O3F,w3F,f3F,b3F,M51,D51,K51,u51,U51,n3F,j3F,F3F,k51;B3F="s";B3F+="imple";O3F="_";O3F+="Fa";O3F+="st%K ";w3F="si";w3F+="m";w3F+="pl";w3F+="e";f3F="%K Smoothi";f3F+="ng Per";f3F+="i";f3F+="ods";b3F="f";b3F+="ie";b3F+="ld";if(!l51.smooth){l51.smooth=l51.inputs.Smooth;}function z51(Z51, c51, L11){var q0N=e8ll;var i11,V51,Q51,v3F,r3F,f51,v51,J11;q0N.E4v(159);i11=q0N.z4v(L11,1367807296,"1",Z51);q0N.L4v(8);q0N.A2x();var Q1F=q0N.z4v(0,17,18);V51=Number.MAX_VALUE * Q1F;Q51=Number.MAX_VALUE;for(var w51=i11; w51 <= Z51; w51++){v3F="C";v3F+="l";v3F+="ose";r3F="L";r3F+="o";r3F+="w";f51=K51[w51][c51 == "Close"?r3F:c51];v51=K51[w51][c51 == v3F?"High":c51];if(!f51 && f51 !== 0)continue;if(!v51 && v51 !== 0)continue;Q51=Math.min(Q51,f51);V51=Math.max(V51,v51);}if(V51 == Number.MAX_VALUE * -("1" >> 1526630688) || Q51 == Number.MAX_VALUE){return null;}J11=V51 == Q51?"0" & 2147483647:(K51[Z51][c51] - Q51) / (V51 - Q51) * 100;return J11;}M51=l51.inputs.Field;if(!M51 || M51 == b3F){M51="Close";}D51=l51.inputs["%K Periods"];if(!D51){D51=l51.days;}K51=l51.chart.scrubbed;if(K51.length < Math.max(D51,l51.days) + +"1"){l51.error=!"";return;}u51=l51.inputs[f3F];if(u51 && !l51.inputs.Fast){l51.smooth=!0;}else if(l51.smooth){u51=3;}U51=l51.inputs["%D Periods"];if(!U51){U51=3;}if(l51.outputs.Fast){n3F="%";n3F+="D";n3F+=" ";j3F="Fa";j3F+="s";j3F+="t";l51.outputMap={};l51.outputMap["%K " + l51.name]=j3F;l51.outputMap[n3F + l51.name]="Slow";}for(var H51=Math.max(D51,l51.startFrom); H51 < K51.length; H51++){F3F="_F";F3F+="a";F3F+="st%K";F3F+=" ";k51=z51(H51,M51,D51);if(k51 !== null){K51[H51][F3F + l51.name]=z51(H51,M51,D51);}}S51.Studies.MA(w3F,l51.smooth?u51:1,O3F + l51.name,0,"%K",A51,l51);S51.Studies.MA(B3F,U51,"%K " + l51.name,0,"%D",A51,l51);};S51.Studies.calculateStochMomentum=function(t11, n11){var P6N=e8ll;var R3F,S3F,u3F,L3F,N3F,d11,q11,C11,F11,e11,W11,B11,o11,D3F,J3F;R3F="%";R3F+="K";S3F="%D M";S3F+="oving Average T";S3F+="ype";u3F="_";P6N.z2x();u3F+="DHL";function x11(g11, O11){var X11,Y11;X11=null;Y11=null;for(var s11=O11 - g11 + ("1" ^ 0); s11 <= O11; s11++){X11=X11 === null?e11[s11].Low:Math.min(X11,e11[s11].Low);Y11=Y11 === null?e11[s11].High:Math.max(Y11,e11[s11].High);}P6N.z2x();return [X11,Y11];}u3F+="2";L3F="expone";L3F+="nti";L3F+="al";N3F="_H";N3F+="S";N3F+="1";d11=Number(n11.inputs["%K Periods"]);q11=Number(n11.inputs["%K Smoothing Periods"]);C11=Number(n11.inputs["%K Double Smoothing Periods"]);F11=Number(n11.inputs["%D Periods"]);e11=n11.chart.scrubbed;if(e11.length < d11 + q11 + C11 - 1 || e11.length < F11){n11.error=!0;return;}for(W11=Math.max(d11,n11.startFrom) - 1; W11 < e11.length; W11++){B11=e11[W11];o11=x11(d11,W11);P6N.E4v(136);var b1F=P6N.z4v(174,13,12,17);P6N.E4v(3);var f1F=P6N.z4v(2,0);B11["_H " + n11.name]=B11.Close - (o11[0] + o11[b1F]) / f1F;P6N.L4v(4);var r1F=P6N.z4v(20,19,0);B11["_DHL " + n11.name]=o11[r1F] - o11[+"0"];}S51.Studies.MA("exponential",q11,"_H " + n11.name,+"0",N3F,t11,n11);S51.Studies.MA("exponential",C11,"_HS1 " + n11.name,0,"_HS2",t11,n11);S51.Studies.MA("exponential",q11,"_DHL " + n11.name,0,"_DHL1",t11,n11);S51.Studies.MA(L3F,C11,"_DHL1 " + n11.name,0,u3F,t11,n11);for(W11=d11 - 1; W11 < e11.length; W11++){D3F="_";D3F+="D";D3F+="HL";D3F+="2 ";J3F="_H";J3F+="S2 ";P6N.E4v(57);var v1F=P6N.X4v(11,88,92);e11[W11]["%K " + n11.name]=e11[W11][J3F + n11.name] / (0.5 * e11[W11][D3F + n11.name]) * v1F;}S51.Studies.MA(n11.inputs[S3F],F11,"%K " + n11.name,"0" ^ 0,"%D",t11,n11);n11.zoneOutput=R3F;};S51.Studies.studyLibrary=S51.extend(S51.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:S51.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":+"10","%D Moving Average Type":a3F},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:S51.Studies.calculateStochastics,inputs:{Period:"14" << 2017172864,Field:Y3F,Smooth:! !"1"},outputs:{Fast:c3F,Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:U3F,studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:S51.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":x3F},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" ^ 0,studyOverSoldColor:q3F}},attributes:{"%K Smoothing Periods":{hidden:function(){e8ll.A2x();return this.inputs.Fast;}}},centerline:50}});}};J2w= b11=>{var X3F,I11,i3F,S7D,R7D,a7D,k3F,K3F;X3F="undefi";X3F+="ned";e8ll.A2x();I11=typeof _CIQ !== X3F?_CIQ:b11.CIQ;if(!I11.Studies){i3F="su";i3F+="pertrend feature requires";i3F+=" first activating studies feature";i3F+=".";console.error(i3F);}else {I11.Studies.calculateSupertrend=function(h11, N11){var M6N=e8ll;var E11,p3F,d3F,m3F,j11,T11,y11,r11,R11,l3F,C3F,Z3F;E11=N11.chart.scrubbed;if(E11.length < N11.days + 1){N11.error=!0;return;}I11.Studies.calculateStudyATR(h11,N11);for(var a11=N11.startFrom; a11 < E11.length; a11++){p3F="_Dir";p3F+="ec";p3F+="tion";p3F+=" ";d3F="T";d3F+="rend";d3F+=" ";m3F="AT";m3F+="R ";j11=E11[a11];if(!j11)continue;T11=(j11.High + j11.Low) / +"2";y11=N11.inputs.Multiplier * j11[m3F + N11.name];M6N.L4v(5);r11=M6N.z4v(T11,y11);M6N.E4v(3);R11=M6N.X4v(y11,T11);if(a11){if(E11[a11 - 1] && E11[a11 - 1].Close && E11[a11 - "1" * 1].Close > E11[a11 - 1]["_Uptrend " + N11.name] && E11[a11 - +"1"]["_Uptrend " + N11.name] > r11){M6N.L4v(5);r11=E11[M6N.z4v(a11,1)]["_Uptrend " + N11.name];}if(E11[a11 - 1] && E11[a11 - 1].Close && E11[a11 - +"1"].Close < E11[a11 - 1]["_Downtrend " + N11.name] && E11[a11 - 1]["_Downtrend " + N11.name] < R11){M6N.E4v(84);R11=E11[M6N.z4v("1",a11)]["_Downtrend " + N11.name];}}j11["_Direction " + N11.name]=1;if(a11){l3F="_D";l3F+="irection ";C3F="_";C3F+="D";C3F+="owntrend ";Z3F="_Di";Z3F+="r";Z3F+="ecti";Z3F+="on ";M6N.L4v(5);j11["_Direction " + N11.name]=E11[M6N.X4v(a11,1)][Z3F + N11.name];if(j11.Close > E11[a11 - 1][C3F + N11.name]){j11[l3F + N11.name]=+"1";}else if(j11.Close < E11[a11 - 1]["_Uptrend " + N11.name]){j11["_Direction " + N11.name]=-1;}}j11["_Uptrend " + N11.name]=r11;j11["_Downtrend " + N11.name]=R11;j11[d3F + N11.name]=j11[p3F + N11.name] > 0?r11:R11;if(!a11)continue;}M6N.z2x();N11.outputMap={};N11.outputMap["Trend " + N11.name]="";};I11.Studies.displaySupertrend=function(P11, m11, l11){var i6N=e8ll;var D11,S11,K11,V11,A11,M11,H11,G11,p11,M3F,I3F,k11,Q11;D11=P11.panels[m11.panel];S11=m11.getContext(P11);K11=m11.getYAxis(P11);V11={skipTransform:D11.name != m11.chart.name,skipProjections:!0,label:P11.preferences.labels,yAxis:K11,highlight:m11.highlight};A11="Trend " + m11.name;for(var z11=0; D11.chart.transformFunc && K11 != D11.chart.yAxis && z11 < l11.length; z11++){M11=l11[z11];if(M11 && M11.transform){M11.transform[A11]=D11.chart.transformFunc(P11,D11.chart,M11[A11]);}}P11.plotDataSegmentAsLine(A11,D11,V11,c11);S11.lineWidth=1;S11.globalAlpha=1;P11.startClip(m11.panel);if(!m11.highlight && P11.highlightedDraggable){i6N.L4v(15);S11.globalAlpha*=i6N.X4v(1,"0.3");}i6N.E4v(160);var j1F=i6N.z4v(29498,2948,12,11,12);i6N.L4v(5);var n1F=i6N.z4v(2128,18);i6N.E4v(73);var F1F=i6N.X4v(15,99028,7,952);i6N.L4v(8);var w1F=i6N.X4v(4515,18,9);i6N.E4v(3);var O1F=i6N.X4v(19,1270);i6N.E4v(69);var B1F=i6N.z4v(4,18,24,434);H11=S11.measureText((114.44,"3476" ^ 0) <= 107.81?j1F > n1F?F1F === w1F?O1F:!{}:!"":"\u25B2").width / B1F;function c11(f11, w11, v11){if(w11 && w11["_Direction " + m11.name] < 0){return m11.outputs.Downtrend;}return m11.outputs.Uptrend;}i6N.z2x();for(G11=0; G11 < l11.length; G11++){M3F="_Di";M3F+="rectio";M3F+="n ";if(!l11[G11] || !l11[G11 - 1])continue;if(l11[G11 - 1]["_Direction " + m11.name] > l11[G11]["_Direction " + m11.name]){I3F="bo";I3F+="ttom";p11=I11.Studies.determineColor(m11.outputs.Downtrend);if(!p11 || p11 == "auto" || I11.isTransparent(p11)){p11=P11.defaultColor;}S11.fillStyle=p11;S11.textBaseline=I3F;k11=P11.pixelFromPrice(l11[G11].High,D11,K11);for(var u11=5; u11 <= 45; u11+=10){if(K11.flipped){S11.fillText("\u25B2",P11.pixelFromBar(G11) - H11,k11 + u11);}else {S11.fillText((818.5,9726) === (316,3270)?(+"8629",4780) >= ("7980" | 4876)?(6.65e+3,"n"):(! ![],"1.09e+2" ^ 0):"\u25BC",P11.pixelFromBar(G11) - H11,k11 - u11);}}}else if(l11[G11 - +"1"][M3F + m11.name] < l11[G11]["_Direction " + m11.name]){p11=I11.Studies.determineColor(m11.outputs.Uptrend);if(!p11 || p11 == "auto" || I11.isTransparent(p11)){p11=P11.defaultColor;}S11.fillStyle=p11;S11.textBaseline="top";Q11=P11.pixelFromPrice(l11[G11].Low,D11,K11);for(var U11=5; U11 <= 45; U11+=10){if(K11.flipped){S11.fillText((1129,8500) < "6290" * 1?(602.64,6390) <= (4885,787)?0x691:(246.09,0x11a7):"\u25BC",P11.pixelFromBar(G11) - H11,Q11 - U11);}else {S11.fillText(5998 >= (793,1349)?"\u25B2":(+"6.50e+3",+"0x809"),P11.pixelFromBar(G11) - H11,Q11 + U11);}}}}P11.endClip();};S7D=+"1361848829";R7D=-405422250;a7D=2;for(var c7D=1; e8ll.x4D(c7D.toString(),c7D.toString().length,22981) !== S7D; c7D++){k3F="#b";k3F+="82c0";k3F+="c";I11.Studies.studyLibrary=I11.extend(I11.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:![],seriesFN:I11.Studies.displaySupertrend,calculateFN:I11.Studies.calculateSupertrend,inputs:{Period:2,Multiplier:8},outputs:{Uptrend:"#b82c0c",Downtrend:k3F},attributes:{Multiplier:{min:806,step:340}}}});a7D+=2;}if(e8ll.q4D(a7D.toString(),a7D.toString().length,97882) !== R7D){K3F="#b8";K3F+="2";K3F+="c0";K3F+="c";I11.Studies.studyLibrary=I11.extend(I11.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!"1",seriesFN:I11.Studies.displaySupertrend,calculateFN:I11.Studies.calculateSupertrend,inputs:{Period:2,Multiplier:8},outputs:{Uptrend:K3F,Downtrend:"#b82c0c"},attributes:{Multiplier:{min:806,step:340}}}});}I11.Studies.studyLibrary=I11.extend(I11.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:I11.Studies.displaySupertrend,calculateFN:I11.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};L2w= i91=>{var Z11;Z11=typeof _CIQ !== "undefined"?_CIQ:i91.CIQ;e8ll.A2x();if(!Z11.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {Z11.Studies.calculateSwingIndex=function(s91, n91){var o6N=e8ll;var e91,J91,W91,d91,o91,F91,x91,C91,q91,t91,B91;e91=n91.inputs["Limit Move Value"];if(e91 === null || isNaN(e91)){e91=99999;}J91=n91.chart.scrubbed;o6N.z2x();W91=0;if(n91.startFrom > 1){o6N.L4v(3);var N1F=o6N.z4v(1,0);W91=J91[n91.startFrom - N1F]["Result " + n91.name];}for(var L91=Math.max(1,n91.startFrom); L91 < J91.length; L91++){d91=Math.abs(J91[L91].High - J91[L91 - 1].Close);o91=Math.abs(J91[L91].Low - J91[L91 - 1].Close);F91=Math.abs(J91[L91].High - J91[L91].Low);x91=Math.abs(J91[L91 - 1].Close - J91[L91 - 1].Open);C91=Math.max(d91,o91);q91=Math.max(F91,C91);o6N.E4v(87);t91=o6N.z4v(0.25,x91,q91);if(q91 == d91){o6N.E4v(141);t91-=o6N.z4v(1,o91,"0.5");}else if(q91 == o91){o6N.E4v(141);t91-=o6N.z4v(1,d91,"0.5");}o6N.E4v(161);var L1F=o6N.X4v(4,14,30,2,8);o6N.E4v(8);var u1F=o6N.z4v(0,15,14);o6N.E4v(8);var J1F=o6N.X4v(0,3,2);o6N.E4v(53);var D1F=o6N.X4v(3,15,11);B91=L1F * (J91[L91].Close - J91[L91 - u1F].Close + ("0.5" - 0) * (J91[L91].Close - J91[L91].Open) + 0.25 * (J91[L91 - J1F].Close - J91[L91 - D1F].Open)) / t91 * (C91 / e91);if(t91 === 0 || e91 === +"0"){B91=0;}if(n91.type == "Swing"){W91=0;}W91+=B91;J91[L91]["Result " + n91.name]=W91;}};Z11.Studies.studyLibrary=Z11.extend(Z11.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:Z11.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:Z11.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};n2w= Y91=>{var X91,o3F,g3F,s3F,E3F;e8ll.z2x();X91=typeof _CIQ !== "undefined"?_CIQ:Y91.CIQ;if(!X91.Studies){o3F="trendIntensity feature requir";o3F+="es fir";o3F+="st activating studies feature.";console.error(o3F);}else {g3F="aut";g3F+="o";s3F="fie";s3F+="l";s3F+="d";E3F="0 to 1";E3F+="00";X91.Studies.calculateTrendIntensity=function(R91, O91){var c6N=e8ll;var V3F,P3F,b91,N91,a91,E91,g91,I91,j91,r91,y3F;V3F="m";V3F+="a";P3F="Clo";c6N.A2x();function T91(h91, y91){if(Math.abs(y91) < 0.00000001){return 100;}c6N.L4v(162);return c6N.z4v(100,1,h91,100,y91);}P3F+="se";b91=O91.chart.scrubbed;if(b91.length < O91.days + +"1"){O91.error=! ![];return;}N91=O91.inputs.Field;if(!N91 || N91 == "field"){N91=P3F;}X91.Studies.MA(V3F,O91.days,N91,0,"_SMA",R91,O91);a91=+"0";c6N.E4v(25);E91=c6N.X4v(479696352,"0");j91=[];r91=Math.ceil(O91.days / 2);for(g91=Math.max(0,O91.startFrom - r91); g91 < b91.length; g91++){y3F="T";y3F+="I";y3F+="I ";if(!b91[g91]["_SMA " + O91.name] && b91[g91]["_SMA " + O91.name] !== 0)continue;I91=b91[g91][N91] - b91[g91]["_SMA " + O91.name];if(I91 < 0){c6N.E4v(163);E91+=c6N.z4v(I91,1);}else {a91+=I91;}j91.push(I91);if(j91.length > r91){I91=j91.shift();if(I91 < 0){c6N.L4v(163);E91-=c6N.X4v(I91,1);}else {a91-=I91;}}if(g91 < O91.startFrom)continue;b91[g91][y3F + O91.name]=T91(a91,E91);}X91.Studies.MA("ema",O91.inputs["Signal Period"],"TII " + O91.name,"0" | 0,"Signal",R91,O91);};X91.Studies.studyLibrary=X91.extend(X91.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:X91.Studies.calculateTrendIntensity,range:E3F,inputs:{Period:14,Field:s3F,"Signal Period":9},outputs:{TII:g3F,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};e2w= m91=>{var A3F,P91;A3F="un";A3F+="de";A3F+="fi";A3F+="ned";P91=typeof _CIQ !== A3F?_CIQ:m91.CIQ;if(!P91.Studies){console.error("trix feature requires first activating studies feature.");}else {P91.Studies.calculateTRIX=function(U91, G91){var r6N=e8ll;r6N.A2x();var d0D,p0D,I0D,S91,l91,K91,T3F,H91,u91,M91;d0D=142632127;p0D=-1662780668;I0D=2;for(var k0D="1" * 1; r6N.x4D(k0D.toString(),k0D.toString().length,71377) !== d0D; k0D++){S91=G91.chart.scrubbed;I0D+=2;}if(r6N.q4D(I0D.toString(),I0D.toString().length,90665) !== p0D){S91=G91.chart.scrubbed;}if(S91.length < G91.days + ("1" << 674764096)){G91.error=!"";return;}l91=G91.name;r6N.L4v(3);K91=["Close",r6N.X4v(l91,"_MA1 "),r6N.X4v(l91,"_MA2 "),r6N.X4v(l91,"_MA3 ")];for(var D91=0; D91 < K91.length - 1; D91++){T3F="_";T3F+="M";T3F+="A";P91.Studies.MA("exponential",G91.days,K91[D91],0,T3F + (D91 + 1).toString(),U91,G91);}H91=K91[3];for(var p91=Math.max(1,G91.startFrom); p91 < S91.length; p91++){r6N.E4v(5);u91=S91[r6N.z4v(p91,1)][H91];if(!u91)continue;M91=S91[p91][H91];if(M91 || M91 === 0){r6N.L4v(3);S91[p91][r6N.z4v(l91,"Result ")]=r6N.X4v(100,1,u91,M91,r6N.E4v(144));}}};P91.Studies.studyLibrary=P91.extend(P91.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:P91.Studies.calculateTRIX}});}};W2w= z91=>{var A91;A91=typeof _CIQ !== "undefined"?_CIQ:z91.CIQ;e8ll.z2x();if(!A91.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {A91.Studies.calculateTwiggsMoneyFlow=function(i41, k91){var q6N=e8ll;var V91,w91,c91,f91,e3F,H3F,t4F,h4F,v91,Z91,z4F;V91=k91.chart.scrubbed;if(V91.length < k91.days){k91.error=! !{};return;}w91=0;c91=0;q6N.E4v(3);var S1F=q6N.X4v(1,0);f91=V91[k91.startFrom - S1F];if(f91){e3F="_";e3F+="su";e3F+="mMF ";H3F="_s";H3F+="u";H3F+="mMF";H3F+=" ";if(f91[H3F + k91.name]){w91=f91[e3F + k91.name];}if(f91["_sumV " + k91.name]){c91=f91["_sumV " + k91.name];}}for(var Q91=Math.max(1,k91.startFrom); Q91 < V91.length; Q91++){t4F="_";t4F+="sum";t4F+="V";t4F+=" ";h4F="_";h4F+="sumMF ";v91=Math.max(V91[Q91 - 1].Close,V91[Q91].High);Z91=Math.min(V91[Q91 - 1].Close,V91[Q91].Low);q6N.E4v(62);var R1F=q6N.X4v(21,166,8);q6N.E4v(160);var a1F=q6N.X4v(16000193,1000011,10,17,5);V91[Q91]["_MFV " + k91.name]=V91[Q91].Volume * (R1F * V91[Q91].Close - v91 - Z91) / (v91 - Z91 === 0?a1F:v91 - Z91);if(Q91 > k91.days - 1){q6N.L4v(109);var Y1F=q6N.z4v(25,19,6,13,14);w91*=(k91.days - Y1F) / k91.days;q6N.E4v(143);var c1F=q6N.X4v(10,17,15,20,266);c91*=(k91.days - c1F) / k91.days;}w91+=V91[Q91]["_MFV " + k91.name];c91+=V91[Q91].Volume;if(Q91 > k91.days - 1){z4F="Result";z4F+=" ";if(c91){q6N.E4v(9);V91[Q91][z4F + k91.name]=q6N.z4v(w91,c91 > 0?c91:999999);}}V91[Q91][h4F + k91.name]=w91;V91[Q91][t4F + k91.name]=c91;}};A91.Studies.studyLibrary=A91.extend(A91.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:A91.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};t2w= L41=>{var W4F,J41,G4F;W4F="undefi";e8ll.z2x();W4F+="n";W4F+="ed";J41=typeof _CIQ !== W4F?_CIQ:L41.CIQ;if(!J41.Studies){G4F="typicalPrice ";G4F+="feature requi";G4F+="res first a";G4F+="ctivating studies feature.";console.error(G4F);}else if(!J41.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {J41.Studies.studyLibrary=J41.extend(J41.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:J41.Studies.calculateTypicalPrice,inputs:{Period:+"14"}},"Weighted Close":{name:"Weighted Close",calculateFN:J41.Studies.calculateTypicalPrice,inputs:{Period:+"14"}}});}};d2w= e41=>{e8ll.A2x();var n41,Q4F,u8D,J8D,D8D;n41=typeof _CIQ !== "undefined"?_CIQ:e41.CIQ;if(!n41.Studies){Q4F="ulcerIndex feature req";Q4F+="uire";Q4F+="s first activating studie";Q4F+="s feature.";console.error(Q4F);}else {n41.Studies.calculateUlcerIndex=function(C41, W41){var v4F,b4F,d41,o41,t41,f4F,X4D,i4D,m4D,r4F,q41;v4F="_";v4F+="PD";v4F+="2 ";b4F="Clos";b4F+="e";d41=W41.chart.scrubbed;if(d41.length < 2 * W41.days - 1){W41.error=! ![];return;}o41=W41.inputs.Field;if(!o41 || o41 == "field"){o41=b4F;}for(t41=Math.max(W41.startFrom,W41.days - "1" * 1); t41 < d41.length; t41++){f4F="_P";f4F+="D2 ";d41[t41][f4F + W41.name]=Math.pow(100 * (d41[t41][o41] / B41(W41.days,t41,o41) - ("1" << 1714728384)),2);}X4D=-592964824;i4D=-76943775;m4D=+"2";for(var C4D=1; e8ll.x4D(C4D.toString(),C4D.toString().length,61708) !== X4D; C4D++){r4F="_";r4F+="M";r4F+="A";n41.Studies.MA("_PD2 ",W41.days,"_PD2 " / W41.name,7,r4F,C41,W41);m4D+=2;}if(e8ll.q4D(m4D.toString(),m4D.toString().length,83954) !== i4D){n41.Studies.MA("_PD2 ",W41.days,"_PD2 " / W41.name,7,"_MA",C41,W41);}n41.Studies.MA("simple",W41.days,v4F + W41.name,0,"_MA",C41,W41);for(t41=Math.max(W41.startFrom,2 * (W41.days - +"1")); t41 < d41.length; t41++){q41=d41[t41]["_MA " + W41.name];if(q41 || q41 === 0){d41[t41]["Result " + W41.name]=Math.sqrt(q41);}}function B41(Y41, s41, X41){var x41;e8ll.z2x();x41=null;for(var F41=s41 - Y41 + 1; F41 <= s41; F41++){if(F41 < +"0")continue;x41=x41 === null?d41[F41][X41]:Math.max(x41,d41[F41][X41]);}return x41;}};u8D=-745196960;J8D=-685534091;D8D=2;for(var R8D=1; e8ll.q4D(R8D.toString(),R8D.toString().length,34781) !== u8D; R8D++){n41.Studies.studyLibrary=n41.extend(n41.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:n41.Studies.calculateUlcerIndex,inputs:{Period:53,Field:"field"}}});D8D+=2;}if(e8ll.x4D(D8D.toString(),D8D.toString().length,88506) !== J8D){n41.Studies.studyLibrary=n41.extend(n41.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:n41.Studies.calculateUlcerIndex,inputs:{Period:"14" * 1,Field:"field"}}});}}};o2w= g41=>{var j4F,O41,n4F,O4F;j4F="un";j4F+="def";j4F+="ined";O41=typeof _CIQ !== j4F?_CIQ:g41.CIQ;if(!O41.Studies){n4F="ultimate";n4F+="Oscillator feature requires first a";n4F+="ctivating studi";n4F+="es feature.";console.error(n4F);}else {O4F="a";O4F+="ut";O4F+="o";O41.Studies.calculateUltimateOscillator=function(M41, b41){var F6N=e8ll;var I41,a41,R41,T41,y41,h41,j41,r41,w4F,F4F,P41,G41,S41,m41,p41,l41,D41,K41;I41=b41.chart.scrubbed;a41=[b41.inputs["Cycle 1"],b41.inputs["Cycle 2"],b41.inputs["Cycle 3"]];R41=Math.max(a41[0],a41[1],a41[2]);if(I41.length < R41 + 1){b41.error=! ![];return;}F6N.L4v(5);var U1F=F6N.X4v(7,6);T41=a41[0] * a41[U1F];F6N.E4v(8);var x1F=F6N.X4v(0,3,1);y41=a41[0] * a41[x1F];F6N.L4v(164);var q1F=F6N.z4v(14,10,2,194,22);h41=a41[+"1"] * a41[q1F];j41=[0,0,0];r41=[0,+"0",0];F6N.z2x();if(b41.startFrom){w4F="_acct";w4F+="r";w4F+=" ";F4F="_ac";F4F+="c";F4F+="b";F4F+="p ";if(I41[b41.startFrom - 1][F4F + b41.name]){j41=I41[b41.startFrom - 1]["_accbp " + b41.name].slice();}if(I41[b41.startFrom - 1]["_acctr " + b41.name]){r41=I41[b41.startFrom - 1][w4F + b41.name].slice();}}for(var N41=Math.max(1,b41.startFrom); N41 < I41.length; N41++){P41=Math.min(I41[N41].Low,I41[N41 - 1].Close);G41=I41[N41].Close - P41;F6N.L4v(165);var X1F=F6N.z4v(1,4,18,6,131);S41=Math.max(I41[N41].High,I41[N41 - X1F].Close) - P41;for(var E41=0; E41 < a41.length; E41++){j41[E41]+=G41;r41[E41]+=S41;if(N41 > a41[E41]){m41=Math.min(I41[N41 - a41[E41]].Low,I41[N41 - a41[E41] - 1].Close);p41=I41[N41 - a41[E41]].Close - m41;F6N.E4v(30);var i1F=F6N.z4v(2,2,2);l41=Math.max(I41[N41 - a41[E41]].High,I41[N41 - a41[E41] - i1F].Close) - m41;j41[E41]-=p41;r41[E41]-=l41;}}I41[N41]["_accbp " + b41.name]=j41.slice();I41[N41]["_acctr " + b41.name]=r41.slice();if(N41 < R41)continue;F6N.E4v(65);var m1F=F6N.X4v(16,225,0,14);F6N.E4v(5);var Z1F=F6N.X4v(8,6);D41=h41 * j41[+"0"] / r41[0] + y41 * j41[+"1"] / r41[m1F] + T41 * j41[2] / r41[Z1F];F6N.L4v(86);K41=F6N.z4v(T41,h41,y41);F6N.L4v(100);I41[N41]["Result " + b41.name]=F6N.z4v(K41,100,D41);}};O41.Studies.studyLibrary=O41.extend(O41.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:O41.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":"28" | 24},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:O4F,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};q2w= u41=>{var H41,c4F,Y4F,a4F;H41=typeof _CIQ !== "undefined"?_CIQ:u41.CIQ;if(!H41.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {c4F="#";c4F+="f";c4F+="ff6";c4F+="9e";Y4F="#0";Y4F+="0";Y4F+="afed";a4F="me";a4F+="di";a4F+="an";H41.Studies.calculateValuationLines=function(c41, U41, f41){var X6N=e8ll;var B4F,L01,W01,n01,v41,Z41,i01,J01,A41,z41,k41,V41,w41,e01;B4F="f";B4F+="ie";B4F+="l";B4F+="d";L01=U41.inputs.Field == B4F?"Close":U41.inputs.Field;W01=U41.inputs["Average Type"];n01=U41.inputs["Display Average"];v41=U41.inputs["Display 1 Standard Deviation (1\u03C3)"];Z41=U41.inputs["Display 2 Standard Deviation (2\u03C3)"];i01=U41.inputs["Display 3 Standard Deviation (3\u03C3)"];J01=[];for(var Q41=0; Q41 < f41.length; ++Q41){if(f41[Q41] && !isNaN(f41[Q41][L01])){J01.push(f41[Q41][L01]);}}A41=(function(C01, x01){var N4F,t01,o01,q01,d01,B01,F01;N4F="harmoni";N4F+="c";X6N.A2x();t01=C01.length;o01=0;q01=0;d01=0;switch(x01){case "mean":q01=t01;for(; d01 < t01; ++d01){o01+=C01[d01];}break;case N4F:o01=t01;for(; d01 < t01; ++d01){X6N.L4v(5);var C1F=X6N.X4v(8,7);q01+=C1F / C01[d01];}break;case "median":X6N.L4v(9);B01=Math.floor(X6N.X4v(t01,2));F01=C01.slice().sort(function(s01, X01){if(s01 > X01){return 1;}if(s01 < X01){return -1;}X6N.z2x();return 0;});if(t01 % 2 === 0){o01=F01[B01] + F01[B01 - +"1"];q01=2;}else {o01=F01[B01];q01=1;}break;}X6N.L4v(9);return X6N.z4v(o01,q01);})(J01,W01);z41=!(v41 || Z41 || i01) || (function(I01, b01){var O01,g01;O01=I01.length;X6N.E4v(42);g01=X6N.X4v(1884856320,"0");for(var Y01=0; Y01 < O01; ++Y01){g01+=Math.pow(I01[Y01] - b01,"2" >> 1829354240);}X6N.E4v(9);return Math.sqrt(X6N.z4v(g01,O01));})(J01,A41);X6N.z2x();U41.data={Average:n01?[A41]:null,"1 Standard Deviation (1\u03C3)":v41?[A41 + z41,A41 - z41]:null,"2 Standard Deviation (2\u03C3)":Z41?[A41 + z41 * 2,A41 - z41 * 2]:null,"3 Standard Deviation (3\u03C3)":i01?[A41 + z41 * ("3" ^ 0),A41 - z41 * 3]:null};k41=z41;if(!U41.parameters){U41.parameters={};}if(i01){X6N.E4v(166);U41.parameters.range=[X6N.X4v(A41,k41,z41,3),X6N.z4v("3",k41,A41,z41,X6N.E4v(167))];}else if(Z41){X6N.L4v(168);U41.parameters.range=[X6N.z4v("2",k41,z41,2,A41),X6N.X4v("2",k41,A41,z41,X6N.L4v(167))];}else if(v41){X6N.L4v(53);U41.parameters.range=[X6N.z4v(z41,A41,k41),X6N.X4v(k41,A41,z41,X6N.E4v(86))];}else if(n01){X6N.E4v(5);U41.parameters.range=[X6N.X4v(A41,k41),X6N.X4v(k41,A41,X6N.L4v(3))];}if(U41.panel){V41=c41.panels[U41.panel];w41=c41.getYAxisByName(V41,U41.name);if(w41){w41.decimalPlaces=V41.chart.yAxis.printDecimalPlaces;e01={yAxis:w41};c41.calculateYAxisRange(V41,w41,U41.parameters.range[0],U41.parameters.range[1]);c41.createYAxis(V41,e01);c41.drawYAxis(V41,e01);}}};H41.Studies.displayValuationLines=function(a01, j01){var s6N=e8ll;var u4F,L4F,N01,r01,T01,P01,U01,A01,z01,y01,h01,m01,p01,l01,D01,K01,G01,S01,E01,M01,k01,H01,J4F,R4F,S4F,D4F,u01;u4F="H";u4F+="AV";u4F+="G";L4F="AV";L4F+="G";N01=a01.panels[j01.panel];r01=j01.getYAxis(a01);T01=j01.getContext(a01);P01=j01.data;U01=j01.parameters.labels;A01=j01.inputs["Average Type"];z01={mean:L4F,median:"MED",harmonic:u4F};y01=a01.canvasStyle("ciq-valuation-average-line");h01=a01.canvasStyle("ciq-valuation-deviation-line");m01=3;s6N.L4v(3);var l1F=s6N.X4v(1,0);p01=a01.getCanvasFontSize("stx_yaxis") + m01 * ("2" * l1F);for(var R01 in P01){J4F="Ave";J4F+="ra";J4F+="ge";if(!P01[R01])continue;s6N.E4v(169);l01=s6N.z4v(J4F,R01);D01=H41.Studies.determineColor(j01.outputs[R01]);K01=P01[R01];for(G01=0; G01 < K01.length; ++G01){R4F="lef";R4F+="t";S4F="\u03C3";S4F+=":";S4F+=" ";D4F="no";D4F+="n";D4F+="e";S01=K01[G01];E01=a01.pixelFromPrice(S01,N01,r01);if(E01 <= N01.top || E01 >= N01.yAxis.bottom)continue;H01=l01?{pattern:y01.borderStyle != "none"?y01.borderStyle || "solid":"solid",lineWidth:parseFloat(y01.borderWidth) || 1,opacity:parseFloat(y01.opacity) || 1,yAxis:r01}:{pattern:h01.borderStyle != D4F?h01.borderStyle || "dashed":"dashed",lineWidth:parseFloat(h01.borderWidth) || 1,opacity:parseFloat(h01.opacity) || +"1",yAxis:r01};a01.plotLine(N01.left,N01.right,E01,E01,D01,"line",T01,N01,H01);if(U01 === "yaxis"){a01.createYAxisLabel(N01,a01.formatYAxisPrice(S01,N01),E01,D01,null,T01,r01);continue;}E01+=Math.floor(H01.lineWidth / ("2" * 1));if(E01 + p01 >= N01.yAxis.bottom)continue;M01=(l01?z01[A01] + ": ":R01[0] + S4F) + a01.formatYAxisPrice(S01,N01);k01=T01.measureText(M01).width;u01=N01.right - k01 - m01;if(r01 && r01.position == R4F){u01=N01.left + m01;}s6N.L4v(170);T01.strokeText(M01,u01,s6N.X4v(0.5,2,E01,p01));}}};H41.Studies.studyLibrary=H41.extend(H41.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(Q01, V01, w01){H41.Studies.calculateValuationLines(Q01,V01,w01);H41.Studies.displayValuationLines(Q01,V01);},overlay:! ![],yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean",a4F,"harmonic"],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":! !0,"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:Y4F,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":c4F}}});}};C2w= v01=>{var l2x=e8ll;var w8D,O8D,B8D,f01,U4F,C4F,Z4F,m4F;l2x.A2x();w8D=-1233309055;O8D=-1776423509;l2x.E4v(0);B8D=l2x.z4v(2,"2");for(var L8D=1; l2x.x4D(L8D.toString(),L8D.toString().length,61095) !== w8D; L8D++){f01=~_CIQ == ""?_CIQ:v01.CIQ;B8D+=2;}if(l2x.x4D(B8D.toString(),B8D.toString().length,84549) !== O8D){U4F="unde";U4F+="fi";U4F+="ned";f01=typeof _CIQ !== U4F?_CIQ:v01.CIQ;}if(!f01.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {C4F="a";C4F+="u";C4F+="t";C4F+="o";Z4F="Relat";Z4F+="ive Volatili";Z4F+="ty";m4F="fi";m4F+="e";m4F+="ld";f01.Studies.calculateRelativeVolatility=function(o61, Z01){var X4F,q4F,x4F,d61,e61,i61,L61,n61,J61,t61;X4F="s";X4F+="d";X4F+="ev";q4F="STD";q4F+=" Per";q4F+="iod";x4F="Sm";x4F+="oothi";x4F+="ng Period";Z01.days=Number(Z01.inputs[x4F]);d61=Number(Z01.inputs[q4F]);e61=Z01.chart.scrubbed;if(e61.length < Z01.days + d61){Z01.error=!0;return;}i61=Z01.inputs.Field;if(!i61 || i61 == "field"){i61="Close";}Z01.std=new f01.Studies.StudyDescriptor(Z01.name,X4F,Z01.panel);Z01.std.chart=Z01.chart;Z01.std.days=d61;Z01.std.startFrom=Z01.startFrom;Z01.std.inputs={Field:i61,"Standard Deviations":1,Type:"ma"};Z01.std.outputs={_STD:null};function q61(C61, B61){if(C61 + B61 === 0){return 100;}l2x.E4v(139);return l2x.z4v(C61,100,B61,C61);}f01.Studies.calculateStandardDeviation(o61,Z01.std);L61=0;n61=0;if(Z01.startFrom > 1){L61=e61[Z01.startFrom - "1" * 1]["_avgG " + Z01.name] || +"0";n61=e61[Z01.startFrom - 1]["_avgL " + Z01.name] || 0;}for(var W61=Math.max(Z01.startFrom,Z01.days); W61 < e61.length; W61++){J61=e61[W61];l2x.E4v(5);t61=e61[l2x.X4v(W61,1)];if(!J61[i61] && J61[i61] !== 0)continue;if(!t61[i61] && t61[i61] !== 0)continue;if(!J61["_STD " + Z01.name] && J61["_STD " + Z01.name] !== 0)continue;if(J61[i61] > t61[i61]){l2x.L4v(171);var d1F=l2x.z4v(12,14,10,1,7);L61=(L61 * (Z01.days - d1F) + J61["_STD " + Z01.name]) / Z01.days;l2x.E4v(27);var p1F=l2x.z4v(19,9,4,13,18);n61=n61 * (Z01.days - p1F) / Z01.days;}else {l2x.E4v(8);var I1F=l2x.z4v(0,15,14);n61=(n61 * (Z01.days - I1F) + J61["_STD " + Z01.name]) / Z01.days;l2x.E4v(10);var M1F=l2x.X4v(34,17,16);L61=L61 * (Z01.days - M1F) / Z01.days;}J61["Rel Vol " + Z01.name]=q61(L61,n61);J61["_avgG " + Z01.name]=L61;J61["_avgL " + Z01.name]=n61;}Z01.zoneOutput="Rel Vol";};f01.Studies.calculateHistoricalVolatility=function(b61, F61){l2x.z2x();var x61,O61,g61,j61,Y61,s61,i4F,N61,a61,E61;x61=F61.chart.scrubbed;if(x61.length < F61.days + 1){F61.error=! !{};return;}O61=F61.inputs.Field;if(!O61 || O61 == "field"){O61="Close";}g61=F61.inputs["Standard Deviations"];if(g61 < +"0"){g61=1;}j61=+"100" * Math.sqrt(r61(F61.inputs["Days Per Year"])) * g61;Y61=[];function r61(R61){l2x.z2x();if(isNaN(R61)){R61=365;}if(b61.layout.interval == "day"){return R61;}else if(b61.layout.interval == "week"){return 52;}else if(b61.layout.interval == "month"){return 12;}return R61;}s61=0;if(F61.startFrom > 1){l2x.L4v(103);var k1F=l2x.z4v(13,19,13,20);s61=x61[F61.startFrom - k1F]["_state " + F61.name][0];Y61=x61[F61.startFrom - 1]["_state " + F61.name][1].slice();}for(var X61=Math.max(+"1",F61.startFrom); X61 < x61.length; X61++){i4F="_s";i4F+="ta";i4F+="te";i4F+=" ";l2x.L4v(172);N61=x61[l2x.X4v("1",X61,1)][O61];if(N61){a61=Math.log(x61[X61][O61] / N61);Y61.push(a61);s61+=a61;if(X61 >= F61.days){E61=+"0";s61/=F61.days;for(var I61=0; I61 < Y61.length; I61++){E61+=Math.pow(Y61[I61] - s61,2);}s61*=F61.days;s61-=Y61.shift();x61[X61]["Result " + F61.name]=Math.sqrt(E61 / F61.days) * j61;}}x61[X61][i4F + F61.name]=[s61,Y61.slice()];}};f01.Studies.studyLibrary=f01.extend(f01.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:f01.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:m4F,"Days Per Year":["252" - 0,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:Z4F,range:"0 to 100",calculateFN:f01.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:C4F,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};B2w= y61=>{var y2x=e8ll;var l4F,T61,l4D,d4D,p4D,d4F;y2x.z2x();l4F="un";l4F+="d";l4F+="ef";l4F+="ined";T61=typeof _CIQ !== l4F?_CIQ:y61.CIQ;if(!T61.Studies){y2x.E4v(42);l4D=-y2x.z4v(1431015584,"381086485");d4D=461199952;p4D=2;for(var M4D=1; y2x.q4D(M4D.toString(),M4D.toString().length,36508) !== l4D; M4D++){d4F="volumeProfile feature requires first activating s";d4F+="tudies featu";d4F+="re.";console.error(d4F);p4D+=2;}if(y2x.q4D(p4D.toString(),p4D.toString().length,62138) !== d4D){console.error("");}}else {T61.Studies.displayVolumeProfile=function(P61, S61, q21){var M4F,p4F,V61,J21,h61,n21,G61,B21,A61,z61,D61,k61,K61,F21,x21,s21,X21,d21,I4F,o21,i21,Y21;M4F="Bars";M4F+=" Color";p4F="Displ";p4F+="ay ";p4F+="Borde";p4F+="r";if(!P61 || !P61.chart.dataSet){return;}V61="stx_volum";V61+="e_profile";J21="stx-f";J21+="loat-date";h61=S61.getContext(P61);var {chart:M61}=P61;var {panel:C21}=M61;var {yAxis:p61}=C21;var {flipped:L21}=p61;var {highValue:c61, lowValue:H61}=M61;var {displayBorder:u61 = S61.inputs[p4F], displayVolume:U61 = S61.inputs["Display Volume"], widthPercentage:l61 = S61.inputs["Width Percentage"], numberBars:m61 = S61.inputs["Price Buckets"]}=S61.parameters;if(u61 !== ![]){u61=! !"1";}if(U61 !== !""){U61=! !0;}if(!l61 || l61 < 0){y2x.E4v(15);l61=y2x.z4v(1,"0.25");}if(!m61 || m61 < 0){y2x.L4v(0);m61=y2x.z4v(14,"30");}m61=Math.ceil(m61);y2x.E4v(24);n21=y2x.z4v(c61,H61,m61);if(n21 === 0){return;}G61=[];if(L21){[c61,H61]=[H61,c61];}B21=L21?-1:1;for(var e21=H61,W21=0; W21 <= m61; (e21+=n21 * B21,W21++)){G61.push([e21,+"0"]);}A61=0;for(var w61=0; w61 < q21.length; w61++){z61=q21[w61];if(z61 === null)continue;var {Volume:t21}=z61;if(!t21)continue;var {High:f61, Low:v61}=z61.transform || z61;D61=[];k61=G61[0][0];K61=null;for(var Q61=+"1"; Q61 < G61.length; Q61++){K61=G61[Q61][+"0"];F21=v61 >= k61 && v61 <= K61;x21=f61 >= k61 && f61 <= K61;s21=v61 < k61 && f61 > K61;if(F21 || x21 || s21){D61.push(Q61);}k61=K61;}if(D61.length){X21=t21 / D61.length;for(var Z61=0; Z61 < D61.length; Z61++){d21=G61[D61[Z61]][+"1"]+=X21;if(d21 > A61){A61=d21;}}}}if(A61 === 0){I4F="Not enoug";I4F+="h data to render the Vo";I4F+="lum";I4F+="e Profile";P61.displayErrorAsWatermark("chart",P61.translateIf(I4F));return;}function O21(b21){var E21,y21,S21,g21,j21,p21,N21,l21,D21,a21,I21,K21,m21,G21,T21,M21;P61.canvasColor(V61);h61.beginPath();E21= H21=>{return Math.round(H21);};y21= u21=>{return E21(P61.pixelFromTransformedValue(u21));};S21=E21(M61.width * l61);g21=E21(M61.right) - 2.5;j21=g21;var [h21]=G61[0];for(var r21=1; r21 < G61.length; r21++){var [P21,R21]=G61[r21];if(R21){y2x.E4v(100);p21=y2x.X4v(A61,R21,S21);N21=E21(g21 - p21) + (b21?-0.5:0);l21=y21(P21) + (b21?0.5:+"1");D21=y21(h21) + (b21?+"0.5":0);a21=Math.max(l21,p61.top);I21=Math.min(D21,p61.bottom);K21=a21 <= p61.bottom && I21 >= p61.top;if(K21){h61.moveTo(g21,I21);h61.lineTo(g21,a21);h61.lineTo(N21,a21);h61.lineTo(N21,I21);if(b21){if(r21 == 1 || j21 > N21){h61.lineTo(j21,I21);}}else {h61.lineTo(g21,I21);if(U61){m21=T61.condenseInt(R21);y2x.L4v(5);G21=y2x.X4v(I21,a21);if(o21 <= G21 - 2){T21=void 0;try{({width:T21}=h61.measureText(m21));}catch(U21){T21=0;}h61.textBaseline="top";M21=h61.fillStyle;h61.fillStyle=i21;y2x.L4v(53);h61.fillText(m21,y2x.X4v(T21,N21,3),y2x.X4v(2,2,G21,a21,o21,y2x.E4v(173)));h61.fillStyle=M21;}}}}j21=N21;}else {j21=g21;;}h21=P21;}if(!S61.highlight && P61.highlightedDraggable){h61.globalAlpha*=0.3;}if(!b21){h61.fill();}h61.strokeStyle=i21;if(b21){h61.stroke();}h61.closePath();}P61.setStyle(V61,"color",T61.Studies.determineColor(S61.outputs[M4F]));o21=P61.getCanvasFontSize(J21);y2x.A2x();i21=P61.canvasStyle(V61).borderTopColor;Y21=u61 && !T61.isTransparent(i21);P61.canvasFont(J21,h61);O21();if(Y21){O21(! !{});}h61.globalAlpha=1;};T61.Studies.studyLibrary=T61.extend(T61.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!0,seriesFN:T61.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":! !{},"Display Volume":!{},"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:! !{},attributes:{yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !1},flippedEnabled:{hidden:! !{}}}}});}};F2w= z21=>{var A21,T4F,A4F,g4F,s4F,E4F,y4F;A21=typeof _CIQ !== "undefined"?_CIQ:z21.CIQ;if(!A21.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {T4F="Trade V";T4F+="olume Ind";T4F+="ex";A4F="fi";A4F+="eld";g4F="#FF0";g4F+="0";g4F+="0";g4F+="0";s4F="f";s4F+="i";s4F+="e";s4F+="ld";E4F="Positive Volu";E4F+="me Inde";E4F+="x";y4F="#F";y4F+="F0000";A21.Studies.calculateOnBalanceVolume=function(L3C, V21){var K4F,k4F,k21,c21,J3C,f21,v21,w21,Z21,i3C;K4F="Min Tic";K4F+="k Value";k4F="fi";k4F+="e";k4F+="l";k4F+="d";k21=V21.inputs.Field;if(!k21 || k21 == k4F){k21="Close";}c21=V21.inputs[K4F];J3C=!{};if(!c21 && c21 !== +"0"){J3C=! ![];c21=0;}f21=V21.chart.scrubbed;v21=0;for(var Q21=V21.startFrom; Q21 < f21.length; Q21++){w21=f21[Q21];if(!Q21 || !w21[k21])continue;if(f21[Q21 - 1][k21]){e8ll.L4v(5);Z21=f21[e8ll.X4v(Q21,1)];}if(!Z21)continue;if(w21[k21] - Z21[k21] > c21){v21=1;}else if(Z21[k21] - w21[k21] > c21){v21=- +"1";}else if(J3C){v21=0;}i3C=Z21["Result " + V21.name];if(!i3C){i3C=0;}i3C+=w21.Volume * v21;w21["Result " + V21.name]=i3C;}};A21.Studies.calculatePriceVolumeTrend=function(o3C, t3C){var K6N=e8ll;var r8D,v8D,j8D,W3C,n3C,d3C;r8D=+"481870839";v8D=- +"1636647963";j8D=2;for(var F8D=1; K6N.x4D(F8D.toString(),F8D.toString().length,45200) !== r8D; F8D++){W3C=t3C.inputs.Field;if(~W3C && W3C !== "field"){W3C="Close";}n3C=t3C.chart.scrubbed;d3C=8;j8D+=2;}if(K6N.x4D(j8D.toString(),j8D.toString().length,71932) !== v8D){W3C=t3C.inputs.Field;if(!W3C || W3C == "field"){W3C="Close";}n3C=t3C.chart.scrubbed;d3C=0;}if(t3C.startFrom > ("1" | 1)){K6N.L4v(174);var K1F=K6N.z4v(3,14,17,1,2);d3C=n3C[t3C.startFrom - K1F]["Result " + t3C.name];}for(var e3C=Math.max(1,t3C.startFrom); e3C < n3C.length; e3C++){if(!n3C[e3C][W3C])continue;if(!n3C[e3C - 1][W3C])continue;K6N.L4v(61);var o1F=K6N.X4v(9,10,20,10);K6N.L4v(175);var P1F=K6N.z4v(3,17,6,28,21);d3C+=n3C[e3C].Volume * (n3C[e3C][W3C] - n3C[e3C - o1F][W3C]) / n3C[e3C - P1F][W3C];n3C[e3C]["Result " + t3C.name]=d3C;}};A21.Studies.calculateVolumeIndex=function(g3C, q3C){var d6N=e8ll;var V4F,s3C,C3C,X3C,P4F,o4F,F3C,Y3C,x3C,O3C;V4F="Moving Aver";V4F+="age Type";s3C=q3C.inputs.Field;if(!s3C || s3C == "field"){s3C="Close";}C3C=q3C.chart.scrubbed;if(C3C.length < q3C.days + 1){q3C.error=!"";return;}X3C=100;if(q3C.startFrom > 1){d6N.L4v(3);var V1F=d6N.z4v(1,0);X3C=C3C[q3C.startFrom - V1F]["Index " + q3C.name];}for(var B3C=Math.max(1,q3C.startFrom); B3C < C3C.length; B3C++){P4F="Ne";P4F+="g Vo";P4F+="l";o4F="Po";o4F+="s ";o4F+="Vol";F3C=C3C[B3C][s3C];Y3C=C3C[B3C].Volume;if(F3C && typeof F3C == "object"){Y3C=F3C.Volume;F3C=F3C[q3C.subField];}d6N.L4v(176);x3C=C3C[d6N.X4v(1269665472,B3C,"1")][s3C];O3C=C3C[B3C - 1].Volume;if(x3C && typeof x3C == "object"){O3C=x3C.Volume;x3C=x3C[q3C.subField];}if(!F3C)continue;if(!x3C)continue;if(q3C.type == o4F && Y3C > O3C || q3C.type == P4F && Y3C < O3C){d6N.E4v(9);X3C*=d6N.X4v(F3C,x3C);}C3C[B3C]["Index " + q3C.name]=X3C;}d6N.z2x();A21.Studies.MA(q3C.inputs[V4F],q3C.days,"Index " + q3C.name,0,"MA",g3C,q3C);};A21.Studies.studyLibrary=A21.extend(A21.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:A21.Studies.calculateVolumeIndex,inputs:{Period:"255" - 0,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:y4F}},"On Bal Vol":{name:"On Balance Volume",calculateFN:A21.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:E4F,calculateFN:A21.Studies.calculateVolumeIndex,inputs:{Period:255,Field:s4F,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:g4F}},"Price Vol":{name:"Price Volume Trend",calculateFN:A21.Studies.calculatePriceVolumeTrend,inputs:{Field:A4F}},"Trade Vol":{name:T4F,calculateFN:A21.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(I3C, b3C){e8ll.A2x();var H4F;if(A21.Studies.calculateRateOfChange){A21.Studies.calculateRateOfChange(I3C,b3C);}else {H4F="Volume Rate of Change s";H4F+="tudy requires first activating momentum feature.";console.error(H4F);A21.Studies.calculateRateOfChange=function(N3C, a3C){};}},parameters:{init:{isVolume:!0}}},"vol undr":{name:"Volume Underlay",underlay:! !{},range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:0,position:"none",heightFactor:0.25},seriesFN:A21.Studies.createVolumeChart,calculateFN:A21.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! ![],removeFN:function(E3C, j3C){e8ll.z2x();E3C.layout.volumeUnderlay=! !0;E3C.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};x2w= R3C=>{var r3C,W2F,t2F;r3C=typeof _CIQ !== "undefined"?_CIQ:R3C.CIQ;if(!r3C.Studies){console.error("vortex feature requires first activating studies feature.");}else {W2F="0";W2F+=".01";t2F="Vortex Indicato";t2F+="r";r3C.Studies.calculateVortex=function(K3C, T3C){var p6N=e8ll;var m3C,G3C,y3C,h3C,S3C,p3C,l3C,D3C,z2F,e4F,h2F;m3C=T3C.chart.scrubbed;G3C=T3C.days;if(m3C.length < G3C + 1){T3C.error=! ![];return;}y3C={tr:0,vmPlus:+"0",vmMinus:0};if(T3C.startFrom > 1){y3C=r3C.clone(m3C[T3C.startFrom - 1]["_totals " + T3C.name]);}for(var P3C=Math.max(T3C.startFrom,"1" << 548315264); P3C < m3C.length; P3C++){h3C=m3C[P3C];p6N.L4v(23);S3C=m3C[p6N.X4v(P3C,"1",0)];p3C=Math.abs(h3C.High - S3C.Low);l3C=Math.abs(h3C.Low - S3C.High);D3C=Math.max(h3C.High,S3C.Close) - Math.min(h3C.Low,S3C.Close);y3C.tr+=D3C;y3C.vmPlus+=p3C;y3C.vmMinus+=l3C;if(P3C > G3C){z2F="_VMMin";z2F+="us ";e4F="_Tru";e4F+="e R";e4F+="ange ";p6N.E4v(5);y3C.tr-=m3C[p6N.X4v(P3C,G3C)][e4F + T3C.name];p6N.E4v(5);y3C.vmPlus-=m3C[p6N.X4v(P3C,G3C)]["_VMPlus " + T3C.name];p6N.L4v(5);y3C.vmMinus-=m3C[p6N.z4v(P3C,G3C)][z2F + T3C.name];}h3C["_True Range " + T3C.name]=D3C;h3C["_VMPlus " + T3C.name]=p3C;h3C["_VMMinus " + T3C.name]=l3C;if(P3C >= G3C){h2F="+";h2F+="V";h2F+="I";h2F+=" ";h3C[h2F + T3C.name]=y3C.vmPlus / y3C.tr;h3C["-VI " + T3C.name]=y3C.vmMinus / y3C.tr;}h3C["_totals " + T3C.name]=r3C.clone(y3C);}};r3C.Studies.studyLibrary=r3C.extend(r3C.Studies.studyLibrary,{Vortex:{name:t2F,calculateFN:r3C.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:W2F},studyOverSoldValue:{max:1,step:"0.01"}}}});}};s2w= H3C=>{var G2F,M3C,r2F,f2F,b2F;G2F="un";G2F+="defined";M3C=typeof _CIQ !== G2F?_CIQ:H3C.CIQ;e8ll.z2x();if(!M3C.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {r2F="#";r2F+="5";r2F+="f7";r2F+="cb8";f2F="#ab6";f2F+="1";f2F+="1";f2F+="f";b2F="#";b2F+="8bc";b2F+="1";b2F+="76";M3C.Studies.calculateMFI=function(c3C, u3C){var U3C,Q3C,z3C,k3C,V3C,A3C;U3C=u3C.chart.scrubbed;z3C=+"0";k3C=u3C.inputs["Scale Factor"];if(!k3C){k3C=u3C.study.inputs["Scale Factor"];}V3C=Math.pow(10,Number(k3C));e8ll.z2x();if(u3C.startFrom > 1){e8ll.E4v(8);var y1F=e8ll.z4v(15,11,25);z3C=U3C[u3C.startFrom - y1F]["_high " + u3C.name];}for(A3C=u3C.startFrom; A3C < U3C.length; A3C++){if(!U3C[A3C])continue;if(U3C[A3C].Volume){U3C[A3C][u3C.name + "_hist"]=Q3C=V3C * (U3C[A3C].High - U3C[A3C].Low) / U3C[A3C].Volume;U3C[A3C]["_high " + u3C.name]=z3C=Math.max(z3C,Q3C);}}u3C.outputMap={};u3C.outputMap[u3C.name + "_hist"]="";};M3C.Studies.displayMFI=function(f3C, w3C, e7C){var y6N=e8ll;var Q2F,W7C,i7C,n7C,t7C,L7C,d7C,o7C,q7C,C7C,v3C,Z3C;Q2F="#CC";Q2F+="CC";Q2F+="C";Q2F+="C";W7C=f3C.panels[w3C.panel];i7C=w3C.getContext(f3C);n7C=w3C.getYAxis(f3C);t7C=n7C.flipped?n7C.top:n7C.bottom;y6N.L4v(5);var E1F=y6N.z4v(21,19);L7C=f3C.layout.candleWidth - E1F;if(L7C < 2){L7C=1;}d7C=M3C.Studies.determineColor(w3C.outputs.Green);o7C=M3C.Studies.determineColor(w3C.outputs.Fade);q7C=M3C.Studies.determineColor(w3C.outputs.Fake);C7C=M3C.Studies.determineColor(w3C.outputs.Squat);f3C.canvasColor("stx_histogram");if(!w3C.underlay){i7C.globalAlpha=1;}i7C.fillStyle=Q2F;f3C.startClip(w3C.panel);if(!w3C.highlight && f3C.highlightedDraggable){i7C.globalAlpha*=0.3;}for(var J7C=0; J7C < e7C.length; J7C++){v3C=e7C[J7C];y6N.L4v(5);Z3C=e7C[y6N.z4v(J7C,1)];if(!Z3C){Z3C=f3C.getPreviousBar(f3C.chart,w3C.name + "_hist",J7C);}if(!v3C)continue;if(!Z3C);else if(Z3C[w3C.name + "_hist"] < v3C[w3C.name + "_hist"]){if(Z3C.Volume < v3C.Volume){i7C.fillStyle=d7C;}else if(Z3C.Volume > v3C.Volume){i7C.fillStyle=q7C;}}else if(Z3C[w3C.name + "_hist"] > v3C[w3C.name + "_hist"]){if(Z3C.Volume < v3C.Volume){i7C.fillStyle=C7C;}else if(Z3C.Volume > v3C.Volume){i7C.fillStyle=o7C;}}if(v3C.candleWidth){L7C=Math.floor(Math.max(1,v3C.candleWidth - 2));}i7C.fillRect(Math.floor(f3C.pixelFromBar(J7C,W7C.chart) - L7C / 2),Math.floor(t7C),Math.floor(L7C),Math.floor(f3C.pixelFromPrice(v3C[w3C.name + "_hist"],W7C,n7C) - t7C));}f3C.endClip();};M3C.Studies.studyLibrary=M3C.extend(M3C.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:M3C.Studies.displayMFI,calculateFN:M3C.Studies.calculateMFI,yAxis:{ground:! !1},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:b2F,Fade:f2F,Fake:r2F,Squat:"#ffd0cf"}}});}};I2w={CIQ:v0w,SplinePlotter:X2w,timezoneJS:Y2w,$$:O2w,$$$:g2w};export {Z0w as aggregations};export {i6w as drawingAdvanced};export {J6w as equationsAdvanced};export {L6w as highPerformanceMarkers};export {n6w as renderersAdvanced};export {e6w as accumulationDistribution};export {W6w as adx};export {t6w as alligator};export {d6w as aroon};export {o6w as atr};export {q6w as awesomeOscillator};export {C6w as balanceOfPower};export {B6w as bollinger};export {F6w as cci};export {x6w as centerOfGravity};export {s6w as chaikin};export {X6w as chande};export {Y6w as choppiness};export {O6w as comparisonStudies};export {g6w as coppock};export {I6w as darvasBox};export {b6w as detrended};export {N6w as disparity};export {a6w as easeOfMovement};export {E6w as ehlerFisher};export {j6w as elder};export {r6w as fractalChaos};export {R6w as highLowStudies};export {T6w as ichimoku};export {y6w as intradayMomentum};export {h6w as keltner};export {P6w as klinger};export {m6w as linearRegression};export {G6w as macd};export {S6w as massIndex};export {p6w as moneyFlow};export {l6w as movingAverages};export {D6w as parabolicSAR};export {K6w as pivotPoints};e8ll.A2x();export {M6w as prettyGoodOscillator};export {H6w as priceMomentumOscillator};export {u6w as priceVolumeOscillator};export {U6w as primeNumber};export {A6w as pring};export {z6w as projectedVolume};export {k6w as psychologicalLine};export {Q6w as qstick};export {V6w as rainbow};export {c6w as randomWalk};export {w6w as relativeVigor};export {f6w as rsi};export {v6w as schaffTrendCycle};export {Z6w as shinohara};export {i2w as stochastics};export {J2w as supertrend};export {L2w as swingIndex};export {n2w as trendIntensity};export {e2w as trix};export {W2w as twiggsMoneyFlow};export {t2w as typicalPrice};export {d2w as ulcerIndex};export {o2w as ultimateOscillator};export {q2w as valuationLines};export {C2w as volatilityIndex};export {B2w as volumeProfile};export {F2w as volumeStudies};export {x2w as vortex};export {s2w as williamsMFI};export {v0w as CIQ, X2w as SplinePlotter, Y2w as timezoneJS, O2w as $$, g2w as $$$};if(typeof __TREE_SHAKE__ === w4cc || !__TREE_SHAKE__){(I2w.CIQ || v0w).activateImports(Z0w,i6w,J6w,L6w,n6w,e6w,W6w,t6w,d6w,o6w,q6w,C6w,B6w,F6w,x6w,s6w,X6w,Y6w,O6w,g6w,I6w,b6w,N6w,a6w,E6w,j6w,r6w,R6w,T6w,y6w,h6w,P6w,m6w,G6w,S6w,p6w,l6w,D6w,K6w,M6w,H6w,u6w,U6w,A6w,z6w,k6w,Q6w,V6w,c6w,w6w,f6w,v6w,Z6w,i2w,J2w,L2w,n2w,e2w,W2w,t2w,d2w,o2w,q2w,C2w,B2w,F2w,x2w,s2w,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
