/**
 *	8.4.0
 *	Generation date: 2021-11-18T06:25:04.836Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-12-18"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/** ************************************* DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */

/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
Y3OO[384318]=(function(){var Z=2;for(;Z !== 9;){switch(Z){case 1:return globalThis;break;case 2:Z=typeof globalThis === '\u006f\x62\x6a\x65\u0063\u0074'?1:5;break;case 5:var D;try{var c=2;for(;c !== 6;){switch(c){case 2:Object['\x64\x65\x66\u0069\u006e\x65\u0050\x72\x6f\x70\x65\x72\x74\x79'](Object['\x70\u0072\u006f\x74\u006f\x74\u0079\x70\u0065'],'\x79\x30\x74\u0064\u0048',{'\x67\x65\x74':function(){var x=2;for(;x !== 1;){switch(x){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});D=y0tdH;D['\u005a\x76\u0047\u004c\u0059']=D;c=4;break;case 9:delete D['\x5a\u0076\u0047\x4c\x59'];var T=Object['\x70\u0072\x6f\x74\x6f\u0074\x79\u0070\u0065'];delete T['\u0079\x30\u0074\u0064\x48'];c=6;break;case 4:c=typeof ZvGLY === '\x75\u006e\u0064\u0065\u0066\x69\u006e\x65\x64'?3:9;break;case 3:throw "";c=9;break;}}}catch(r){D=window;}return D;break;}}})();Y3OO[381627]=i566(Y3OO[384318]);Y3OO[326554]=Z5zz(Y3OO[384318]);Y3OO[216942]=a2ww(Y3OO[384318]);Y3OO[242680]=A6ff(Y3OO[384318]);Y3OO[384318].c2ss=Y3OO;Y3OO.y4O=function(){return typeof Y3OO[468755].i4O === 'function'?Y3OO[468755].i4O.apply(Y3OO[468755],arguments):Y3OO[468755].i4O;};Y3OO.K5d=function(){return typeof Y3OO[59923].L3n === 'function'?Y3OO[59923].L3n.apply(Y3OO[59923],arguments):Y3OO[59923].L3n;};Y3OO.O4e=function(){return typeof Y3OO[626526].a9s === 'function'?Y3OO[626526].a9s.apply(Y3OO[626526],arguments):Y3OO[626526].a9s;};Y3OO[100031]=(function(d9T){function j9T(V9T){var M5T=2;for(;M5T !== 15;){switch(M5T){case 16:p9T=a9T - V9T > R9T;M5T=19;break;case 8:l9T=d9T[6];M5T=7;break;case 5:X9T=U9T[d9T[4]];M5T=4;break;case 13:N9T=d9T[7];M5T=12;break;case 3:R9T=29;M5T=9;break;case 20:p9T=V9T - F9T > R9T && a9T - V9T > R9T;M5T=19;break;case 4:M5T=! Q9T--?3:9;break;case 12:M5T=! Q9T--?11:10;break;case 6:a9T=l9T && X9T(l9T,R9T);M5T=14;break;case 7:M5T=! Q9T--?6:14;break;case 2:var p9T,R9T,l9T,a9T,N9T,F9T,X9T;M5T=1;break;case 19:return p9T;break;case 1:M5T=! Q9T--?5:4;break;case 18:M5T=F9T >= 0?17:16;break;case 9:M5T=! Q9T--?8:7;break;case 17:p9T=V9T - F9T > R9T;M5T=19;break;case 10:M5T=F9T >= 0 && a9T >= 0?20:18;break;case 14:M5T=! Q9T--?13:12;break;case 11:F9T=(N9T || N9T === 0) && X9T(N9T,R9T);M5T=10;break;}}}var O5T=2;for(;O5T !== 10;){switch(O5T){case 9:P9T=typeof e9T;O5T=8;break;case 2:var U9T,P9T,I9T,Q9T;O5T=1;break;case 14:d9T=d9T.P2ww(function(S9T){var C5T=2;for(;C5T !== 13;){switch(C5T){case 1:C5T=! Q9T--?5:4;break;case 9:W9T+=U9T[I9T][e9T](S9T[T9T] + 111);C5T=8;break;case 4:var T9T=0;C5T=3;break;case 8:T9T++;C5T=3;break;case 2:var W9T;C5T=1;break;case 14:return W9T;break;case 7:C5T=!W9T?6:14;break;case 5:W9T='';C5T=4;break;case 6:return;break;case 3:C5T=T9T < S9T.length?9:7;break;}}});O5T=13;break;case 12:var o9T,f9T=0;O5T=11;break;case 7:I9T=P9T.f2ww(new U9T[v9T]("^['-|]"),'S');O5T=6;break;case 4:var e9T='fromCharCode',v9T='RegExp';O5T=3;break;case 11:return {t9T:function(c9T){var s5T=2;for(;s5T !== 6;){switch(s5T){case 2:var g9T=new U9T[d9T[0]]()[d9T[1]]();s5T=1;break;case 1:s5T=g9T > f9T?5:8;break;case 3:s5T=! Q9T--?9:8;break;case 9:f9T=g9T + 60000;s5T=8;break;case 5:s5T=! Q9T--?4:3;break;case 4:o9T=j9T(g9T);s5T=3;break;case 8:var Y9T=(function(z9T,J9T){var A5T=2;for(;A5T !== 10;){switch(A5T){case 2:A5T=typeof z9T === 'undefined' && typeof c9T !== 'undefined'?1:5;break;case 8:var E9T=U9T[J9T[4]](z9T[J9T[2]](u9T),16)[J9T[3]](2);var L9T=E9T[J9T[2]](E9T[J9T[5]] - 1);A5T=6;break;case 5:A5T=typeof J9T === 'undefined' && typeof d9T !== 'undefined'?4:3;break;case 9:A5T=u9T < z9T[J9T[5]]?8:11;break;case 11:return q9T;break;case 1:z9T=c9T;A5T=5;break;case 3:var q9T,u9T=0;A5T=9;break;case 6:A5T=u9T === 0?14:12;break;case 4:J9T=d9T;A5T=3;break;case 13:u9T++;A5T=9;break;case 12:q9T=q9T ^ L9T;A5T=13;break;case 14:q9T=L9T;A5T=13;break;}}})(undefined,undefined);return Y9T?o9T:!o9T;break;}}}};break;case 3:O5T=! Q9T--?9:8;break;case 1:O5T=! Q9T--?5:4;break;case 5:U9T=Y3OO[384318];O5T=4;break;case 13:O5T=! Q9T--?12:11;break;case 8:O5T=! Q9T--?7:6;break;case 6:O5T=! Q9T--?14:13;break;}}})([[-43,-14,5,-10],[-8,-10,5,-27,-6,-2,-10],[-12,-7,-14,3,-46,5],[5,0,-28,5,3,-6,-1,-8],[1,-14,3,4,-10,-38,-1,5],[-3,-10,-1,-8,5,-7],[-60,-55,-62,-2,-62,-1,-8,-12,-10],[]]);Y3OO.A4O=function(){return typeof Y3OO[468755].i4O === 'function'?Y3OO[468755].i4O.apply(Y3OO[468755],arguments):Y3OO[468755].i4O;};Y3OO.g5d=function(){return typeof Y3OO[59923].L3n === 'function'?Y3OO[59923].L3n.apply(Y3OO[59923],arguments):Y3OO[59923].L3n;};Y3OO.e7e=function(){return typeof Y3OO[626526].a9s === 'function'?Y3OO[626526].a9s.apply(Y3OO[626526],arguments):Y3OO[626526].a9s;};Y3OO.b7T=function(){return typeof Y3OO.Z3T.G6T === 'function'?Y3OO.Z3T.G6T.apply(Y3OO.Z3T,arguments):Y3OO.Z3T.G6T;};function Z5zz(A5d){function L6l(X5d){var f5d=2;for(;f5d !== 5;){switch(f5d){case 2:var G5d=[arguments];return G5d[0][0].String;break;}}}function G6l(R5d,b5d,v5d,U5d,z5d){var q5d=2;for(;q5d !== 7;){switch(q5d){case 2:var l5d=[arguments];l5d[1]="";l5d[1]="ty";l5d[4]="efineProper";q5d=3;break;case 3:l5d[9]="";l5d[9]="d";try{var P5d=2;for(;P5d !== 8;){switch(P5d){case 3:try{var x5d=2;for(;x5d !== 3;){switch(x5d){case 2:l5d[5]=l5d[9];l5d[5]+=l5d[4];l5d[5]+=l5d[1];l5d[0][0].Object[l5d[5]](l5d[8],l5d[0][4],l5d[7]);x5d=3;break;}}}catch(P6l){}l5d[8][l5d[0][4]]=l5d[7].value;P5d=8;break;case 1:l5d[2]=(1,l5d[0][1])(l5d[0][0]);l5d[8]=[l5d[2],l5d[2].prototype][l5d[0][3]];l5d[7].value=l5d[8][l5d[0][2]];P5d=3;break;case 2:l5d[7]={};P5d=1;break;}}}catch(h6l){}q5d=7;break;}}}function l6l(O5d){var h5d=2;for(;h5d !== 5;){switch(h5d){case 2:var r5d=[arguments];return r5d[0][0].String;break;}}}function I6l(c5d){var j5d=2;for(;j5d !== 5;){switch(j5d){case 2:var I5d=[arguments];return I5d[0][0];break;}}}var H5d=2;for(;H5d !== 41;){switch(H5d){case 2:var o5d=[arguments];o5d[2]="";o5d[2]="";o5d[2]="zz";o5d[5]="";H5d=9;break;case 10:o5d[7]="z";o5d[9]="b";o5d[3]="8z";o5d[8]=0;o5d[8]=9;o5d[8]=1;o5d[50]=3;H5d=27;break;case 43:Q6l(L6l,"substring",o5d[8],o5d[74]);H5d=42;break;case 9:o5d[5]="";o5d[5]="8";o5d[1]="";o5d[1]="t";H5d=14;break;case 44:Q6l(l6l,"fromCharCode",o5d[50],o5d[47]);H5d=43;break;case 42:Q6l(L6l,"charCodeAt",o5d[8],o5d[71]);H5d=41;break;case 14:o5d[7]="";o5d[4]="k8";o5d[6]="o8";o5d[7]="";H5d=10;break;case 27:o5d[50]=0;o5d[71]=o5d[9];o5d[71]+=o5d[3];o5d[71]+=o5d[7];H5d=23;break;case 28:Q6l(I6l,"String",o5d[50],o5d[10]);H5d=44;break;case 23:o5d[74]=o5d[6];o5d[74]+=o5d[7];o5d[74]+=o5d[7];o5d[47]=o5d[4];o5d[47]+=o5d[7];H5d=33;break;case 29:var Q6l=function(Y5d,y5d,D5d,m5d){var T5d=2;for(;T5d !== 5;){switch(T5d){case 2:var p5d=[arguments];G6l(o5d[0][0],p5d[0][0],p5d[0][1],p5d[0][2],p5d[0][3]);T5d=5;break;}}};H5d=28;break;case 33:o5d[47]+=o5d[7];o5d[10]=o5d[1];o5d[10]+=o5d[5];o5d[10]+=o5d[2];H5d=29;break;}}}Y3OO[626526]=(function(){var P9s=function(q9s,d9s){var o9s=d9s & 0xffff;var l9s=d9s - o9s;return (l9s * q9s | 0) + (o9s * q9s | 0) | 0;},V9s=function(f9s,O9s,e9s){var B9s=0xcc9e2d51,F9s=0x1b873593;var w9s=e9s;var S9s=O9s & ~0x3;for(var I9s=0;I9s < S9s;I9s+=4){var k9s=f9s.c566(I9s) & 0xff | (f9s.c566(I9s + 1) & 0xff) << 8 | (f9s.c566(I9s + 2) & 0xff) << 16 | (f9s.c566(I9s + 3) & 0xff) << 24;k9s=P9s(k9s,B9s);k9s=(k9s & 0x1ffff) << 15 | k9s >>> 17;k9s=P9s(k9s,F9s);w9s^=k9s;w9s=(w9s & 0x7ffff) << 13 | w9s >>> 19;w9s=w9s * 5 + 0xe6546b64 | 0;}k9s=0;switch(O9s % 4){case 3:k9s=(f9s.c566(S9s + 2) & 0xff) << 16;case 2:k9s|=(f9s.c566(S9s + 1) & 0xff) << 8;case 1:k9s|=f9s.c566(S9s) & 0xff;k9s=P9s(k9s,B9s);k9s=(k9s & 0x1ffff) << 15 | k9s >>> 17;k9s=P9s(k9s,F9s);w9s^=k9s;}w9s^=O9s;w9s^=w9s >>> 16;w9s=P9s(w9s,0x85ebca6b);w9s^=w9s >>> 13;w9s=P9s(w9s,0xc2b2ae35);w9s^=w9s >>> 16;return w9s;};return {a9s:V9s};})();Y3OO.T4O=function(){return typeof Y3OO[468755].s4O === 'function'?Y3OO[468755].s4O.apply(Y3OO[468755],arguments):Y3OO[468755].s4O;};Y3OO.J4O=function(){return typeof Y3OO[468755].s4O === 'function'?Y3OO[468755].s4O.apply(Y3OO[468755],arguments):Y3OO[468755].s4O;};Y3OO.s5d=function(){return typeof Y3OO[59923].W3n === 'function'?Y3OO[59923].W3n.apply(Y3OO[59923],arguments):Y3OO[59923].W3n;};Y3OO.Z3T=(function(){var U3T=2;for(;U3T !== 9;){switch(U3T){case 2:var P3T=[arguments];P3T[4]=undefined;P3T[2]={};U3T=4;break;case 4:P3T[2].G6T=function(){var V3T=2;for(;V3T !== 90;){switch(V3T){case 51:Q3T[1].x6ff(Q3T[3]);Q3T[1].x6ff(Q3T[39]);Q3T[1].x6ff(Q3T[8]);Q3T[1].x6ff(Q3T[65]);Q3T[1].x6ff(Q3T[41]);Q3T[1].x6ff(Q3T[44]);Q3T[1].x6ff(Q3T[85]);V3T=65;break;case 19:Q3T[3]=Q3T[5];Q3T[9]={};Q3T[9].b1T=['u1T'];V3T=16;break;case 56:Q3T[94]=Q3T[1][Q3T[53]];try{Q3T[80]=Q3T[94][Q3T[89]]()?Q3T[13]:Q3T[52];}catch(z6T){Q3T[80]=Q3T[52];}V3T=77;break;case 2:var Q3T=[arguments];V3T=1;break;case 33:Q3T[50].b1T=['h1T'];Q3T[50].e1T=function(){var L6T=typeof C6ff === 'function';return L6T;};Q3T[65]=Q3T[50];V3T=30;break;case 71:Q3T[79]++;V3T=76;break;case 30:Q3T[17]={};Q3T[17].b1T=['u1T'];Q3T[17].e1T=function(){var D6T=function(){return btoa('=');};var q6T=!(/\u0062\u0074\u006f\u0061/).Q6ff(D6T + []);return q6T;};V3T=44;break;case 39:Q3T[82]={};Q3T[82].b1T=['u1T'];Q3T[82].e1T=function(){var X6T=function(){return atob('PQ==');};var O6T=!(/\u0061\x74\u006f\x62/).Q6ff(X6T + []);return O6T;};Q3T[39]=Q3T[82];V3T=54;break;case 68:V3T=76?68:67;break;case 25:Q3T[64].e1T=function(){var P6T=false;var w6T=[];try{for(var W6T in console){w6T.x6ff(W6T);}P6T=w6T.length === 0;}catch(y6T){}var M6T=P6T;return M6T;};Q3T[44]=Q3T[64];Q3T[33]={};Q3T[33].b1T=['u1T'];Q3T[33].e1T=function(){var n6T=function(){return ('a|a').split('|');};var I6T=!(/\x7c/).Q6ff(n6T + []);return I6T;};Q3T[60]=Q3T[33];Q3T[50]={};V3T=33;break;case 76:V3T=Q3T[79] < Q3T[94][Q3T[31]].length?75:70;break;case 65:Q3T[28]=[];Q3T[13]='T1T';Q3T[52]='v1T';Q3T[31]='b1T';Q3T[61]='F1T';Q3T[89]='e1T';V3T=59;break;case 44:Q3T[41]=Q3T[17];Q3T[15]={};Q3T[15].b1T=['u1T'];Q3T[15].e1T=function(){var c6T=function(){return ('a').codePointAt(0);};var p6T=(/\x39\u0037/).Q6ff(c6T + []);return p6T;};Q3T[85]=Q3T[15];V3T=39;break;case 77:Q3T[79]=0;V3T=76;break;case 16:Q3T[9].e1T=function(){var j6T=function(){return ('X').toLowerCase();};var A6T=(/\x78/).Q6ff(j6T + []);return A6T;};Q3T[8]=Q3T[9];Q3T[64]={};Q3T[64].b1T=['h1T'];V3T=25;break;case 54:Q3T[1].x6ff(Q3T[60]);Q3T[1].x6ff(Q3T[7]);Q3T[1].x6ff(Q3T[2]);V3T=51;break;case 1:V3T=P3T[4]?5:4;break;case 57:V3T=Q3T[53] < Q3T[1].length?56:69;break;case 69:V3T=(function(T3T){var W3T=2;for(;W3T !== 22;){switch(W3T){case 23:return R3T[3];break;case 8:R3T[6]=0;W3T=7;break;case 10:W3T=R3T[8][Q3T[61]] === Q3T[13]?20:19;break;case 11:R3T[5][R3T[8][Q3T[76]]].t+=true;W3T=10;break;case 4:R3T[5]={};R3T[9]=[];R3T[6]=0;W3T=8;break;case 25:R3T[3]=true;W3T=24;break;case 5:return;break;case 15:R3T[2]=R3T[9][R3T[6]];R3T[7]=R3T[5][R3T[2]].h / R3T[5][R3T[2]].t;W3T=26;break;case 1:W3T=R3T[0][0].length === 0?5:4;break;case 12:R3T[9].x6ff(R3T[8][Q3T[76]]);W3T=11;break;case 14:W3T=typeof R3T[5][R3T[8][Q3T[76]]] === 'undefined'?13:11;break;case 18:R3T[3]=false;W3T=17;break;case 6:R3T[8]=R3T[0][0][R3T[6]];W3T=14;break;case 2:var R3T=[arguments];W3T=1;break;case 26:W3T=R3T[7] >= 0.5?25:24;break;case 16:W3T=R3T[6] < R3T[9].length?15:23;break;case 19:R3T[6]++;W3T=7;break;case 20:R3T[5][R3T[8][Q3T[76]]].h+=true;W3T=19;break;case 13:R3T[5][R3T[8][Q3T[76]]]=(function(){var X3T=2;for(;X3T !== 9;){switch(X3T){case 2:var Y3T=[arguments];Y3T[8]={};X3T=5;break;case 5:Y3T[8].h=0;Y3T[8].t=0;return Y3T[8];break;}}}).u6ff(this,arguments);W3T=12;break;case 24:R3T[6]++;W3T=16;break;case 17:R3T[6]=0;W3T=16;break;case 7:W3T=R3T[6] < R3T[0][0].length?6:18;break;}}})(Q3T[28])?68:67;break;case 59:Q3T[76]='X1T';V3T=58;break;case 70:Q3T[53]++;V3T=57;break;case 5:return 52;break;case 58:Q3T[53]=0;V3T=57;break;case 8:Q3T[4].e1T=function(){var a6T=typeof d6ff === 'function';return a6T;};Q3T[2]=Q3T[4];Q3T[6]={};Q3T[6].b1T=['h1T'];Q3T[6].e1T=function(){var t6T=typeof B6ff === 'function';return t6T;};V3T=12;break;case 12:Q3T[7]=Q3T[6];Q3T[5]={};Q3T[5].b1T=['u1T'];Q3T[5].e1T=function(){var m6T=function(){return String.fromCharCode(0x61);};var Z6T=!(/\u0030\x78\u0036\u0031/).Q6ff(m6T + []);return Z6T;};V3T=19;break;case 4:Q3T[1]=[];Q3T[4]={};Q3T[4].b1T=['h1T'];V3T=8;break;case 75:Q3T[12]={};Q3T[12][Q3T[76]]=Q3T[94][Q3T[31]][Q3T[79]];Q3T[12][Q3T[61]]=Q3T[80];Q3T[28].x6ff(Q3T[12]);V3T=71;break;case 67:P3T[4]=46;return 19;break;}}};return P3T[2];break;}}})();function Y3OO(){}Y3OO[468755]=(function(r4O){return {i4O:function(){var f4O,v4O=arguments;switch(r4O){case 30:f4O=v4O[1] / v4O[2] / v4O[4] - v4O[3] + v4O[0];break;case 9:f4O=v4O[0] + v4O[1];break;case 20:f4O=v4O[0] / +v4O[1];break;case 22:f4O=v4O[1] - +v4O[0];break;case 37:f4O=v4O[1] ^ v4O[0];break;case 25:f4O=v4O[3] - v4O[2] - v4O[0] + v4O[4] + v4O[1];break;case 2:f4O=v4O[0] & v4O[1];break;case 16:f4O=v4O[2] + (v4O[4] / v4O[1] - v4O[3] / +v4O[0]);break;case 36:f4O=v4O[1] * v4O[0] - v4O[2];break;case 23:f4O=(v4O[0] - v4O[2]) * v4O[1];break;case 10:f4O=v4O[0] % v4O[1];break;case 29:f4O=v4O[2] * v4O[1] - v4O[3] + v4O[0];break;case 1:f4O=v4O[1] | v4O[0];break;case 13:f4O=v4O[0] - v4O[1];break;case 4:f4O=v4O[0] << v4O[1];break;case 8:f4O=(v4O[1] - v4O[0]) / v4O[2];break;case 32:f4O=v4O[1] * v4O[0] * v4O[3] - v4O[2];break;case 18:f4O=-v4O[2] + v4O[1] + v4O[3] - v4O[0];break;case 5:f4O=v4O[2] + v4O[1] - v4O[0];break;case 0:f4O=v4O[1] * v4O[0];break;case 12:f4O=(-v4O[0] + v4O[3] + v4O[2]) / v4O[4] - v4O[1];break;case 3:f4O=v4O[2] + v4O[3] - v4O[4] + v4O[1] - v4O[0];break;case 11:f4O=v4O[0] * v4O[1] * v4O[2];break;case 28:f4O=v4O[4] / v4O[2] / v4O[1] / v4O[3] + v4O[0];break;case 7:f4O=(v4O[2] + v4O[4] + v4O[3]) * v4O[0] - v4O[1];break;case 14:f4O=v4O[0] - v4O[1] * v4O[3] / v4O[2];break;case 35:f4O=v4O[3] + v4O[1] + v4O[0] - v4O[2];break;case 24:f4O=(v4O[1] - v4O[2]) / v4O[3] + v4O[0];break;case 17:f4O=v4O[1] / v4O[2] - v4O[0];break;case 31:f4O=v4O[3] * v4O[1] / v4O[0] + v4O[2];break;case 6:f4O=v4O[1] == v4O[0];break;case 27:f4O=v4O[3] / v4O[1] - v4O[2] - v4O[0];break;case 15:f4O=v4O[1] - v4O[2] - (v4O[0] << v4O[3]);break;case 19:f4O=(v4O[1] + v4O[2]) / v4O[0];break;case 33:f4O=(v4O[3] + v4O[0] - v4O[4]) * v4O[1] - v4O[2];break;case 26:f4O=(v4O[1] * v4O[3] + v4O[2]) / v4O[0] + v4O[4];break;case 34:f4O=v4O[0] * v4O[1] + v4O[2] - v4O[3];break;case 21:f4O=v4O[0] / v4O[1];break;}return f4O;},s4O:function(d4O){r4O=d4O;}};})();Y3OO.a7T=function(){return typeof Y3OO.Z3T.G6T === 'function'?Y3OO.Z3T.G6T.apply(Y3OO.Z3T,arguments):Y3OO.Z3T.G6T;};function i566(N7e){function p7e(M7e){var t7e=2;for(;t7e !== 5;){switch(t7e){case 2:var m7e=[arguments];return m7e[0][0].String;break;}}}var H7e=2;for(;H7e !== 12;){switch(H7e){case 9:W7e[3]=1;W7e[9]=W7e[4];W7e[9]+=W7e[8];W7e[9]+=W7e[6];H7e=14;break;case 2:var W7e=[arguments];W7e[6]="";W7e[6]="66";W7e[4]="c";W7e[8]="5";H7e=9;break;case 14:var O7e=function(T7e,x7e,f7e,X7e){var U7e=2;for(;U7e !== 5;){switch(U7e){case 2:var s7e=[arguments];a7e(W7e[0][0],s7e[0][0],s7e[0][1],s7e[0][2],s7e[0][3]);U7e=5;break;}}};H7e=13;break;case 13:O7e(p7e,"charCodeAt",W7e[3],W7e[9]);H7e=12;break;}}function a7e(v7e,h7e,g7e,V7e,L7e){var I7e=2;for(;I7e !== 6;){switch(I7e){case 2:var Z7e=[arguments];Z7e[5]="";Z7e[9]="ty";Z7e[5]="efineProper";I7e=3;break;case 3:Z7e[1]="";Z7e[1]="d";Z7e[8]=0;try{var z7e=2;for(;z7e !== 8;){switch(z7e){case 2:Z7e[2]={};Z7e[4]=(1,Z7e[0][1])(Z7e[0][0]);Z7e[3]=[Z7e[8],Z7e[4].prototype][Z7e[0][3]];Z7e[2].value=Z7e[3][Z7e[0][2]];z7e=3;break;case 3:try{var A7e=2;for(;A7e !== 3;){switch(A7e){case 2:Z7e[7]=Z7e[1];Z7e[7]+=Z7e[5];A7e=5;break;case 5:Z7e[7]+=Z7e[9];Z7e[0][0].Object[Z7e[7]](Z7e[3],Z7e[0][4],Z7e[2]);A7e=3;break;}}}catch(D7e){}Z7e[3][Z7e[0][4]]=Z7e[2].value;z7e=8;break;}}}catch(J7e){}I7e=6;break;}}}}Y3OO[59923]=(function(){var t5d=2;for(;t5d !== 4;){switch(t5d){case 2:var U3n=Y3OO[384318];var l3n,R3n;return {L3n:function(N3n,c3n,r3n,j3n){var Z5d=2;for(;Z5d !== 1;){switch(Z5d){case 2:return d3n(N3n,c3n,r3n,j3n);break;}}},W3n:function(I3n,g3n,i3n,y3n){var k5d=2;for(;k5d !== 1;){switch(k5d){case 2:return d3n(I3n,g3n,i3n,y3n,true);break;}}}};break;}}function d3n(E3n,n3n,p3n,h3n,f3n){var F5d=2;for(;F5d !== 15;){switch(F5d){case 11:a3n=F3n.o8zz(Y3n,F3n.length);z3n=a3n.length;return Y3OO.O4e(a3n,z3n,p3n);break;case 8:a3n=F3n.o8zz(E3n,h3n);z3n=a3n.length;F5d=6;break;case 9:F5d=h3n > 0?8:19;break;case 6:return Y3OO.O4e(a3n,z3n,p3n);break;case 18:a3n=F3n.o8zz(0,F3n.length);z3n=a3n.length;F5d=16;break;case 12:return false;break;case 19:F5d=E3n === null || E3n <= 0?18:14;break;case 16:return Y3OO.O4e(a3n,z3n,p3n);break;case 13:F5d=n3n && Y3n > 0 && F3n.b8zz(Y3n - 1) !== 46?12:11;break;case 14:var Y3n=F3n.length - E3n;F5d=13;break;case 2:var a3n,z3n,F3n,D3n;D3n=U3n[Z3n([5,8,-4,-6,13,2,8,7])];!l3n && (l3n=typeof D3n !== "undefined"?D3n[Z3n([1,8,12,13,7,-6,6,-2])] || ' ':"");!R3n && (R3n=typeof D3n !== "undefined"?D3n[Z3n([1,11,-2,-1])]:"");F3n=f3n?R3n:l3n;F5d=9;break;}}}function Z3n(q3n){var W5d=2;for(;W5d !== 7;){switch(W5d){case 2:var C3n=4;var K3n='';W5d=5;break;case 3:K3n+=t8zz.k8zz(q3n[A3n] - C3n + 107);W5d=9;break;case 8:return K3n;break;case 9:A3n++;W5d=4;break;case 4:W5d=A3n < q3n.length?3:8;break;case 5:var A3n=0;W5d=4;break;}}}})();Y3OO.a5T=function(){return typeof Y3OO[100031].t9T === 'function'?Y3OO[100031].t9T.apply(Y3OO[100031],arguments):Y3OO[100031].t9T;};function A6ff(s3T){function f8T(E3T){var j3T=2;for(;j3T !== 5;){switch(j3T){case 2:var k3T=[arguments];return k3T[0][0].RegExp;break;}}}function e8T(z3T,A3T,B3T,N3T,D3T){var K3T=2;for(;K3T !== 7;){switch(K3T){case 3:p3T[6]="";p3T[6]="defin";try{var L3T=2;for(;L3T !== 8;){switch(L3T){case 2:p3T[4]={};p3T[5]=(1,p3T[0][1])(p3T[0][0]);p3T[2]=[p3T[5],p3T[5].prototype][p3T[0][3]];p3T[4].value=p3T[2][p3T[0][2]];L3T=3;break;case 3:try{var M3T=2;for(;M3T !== 3;){switch(M3T){case 2:p3T[3]=p3T[6];p3T[3]+=p3T[9];p3T[3]+=p3T[8];p3T[0][0].Object[p3T[3]](p3T[2],p3T[0][4],p3T[4]);M3T=3;break;}}}catch(H8T){}p3T[2][p3T[0][4]]=p3T[4].value;L3T=8;break;}}}catch(z8T){}K3T=7;break;case 2:var p3T=[arguments];p3T[8]="";p3T[8]="ty";p3T[9]="eProper";K3T=3;break;}}}function b8T(x3T){var I3T=2;for(;I3T !== 5;){switch(I3T){case 2:var n3T=[arguments];return n3T[0][0];break;}}}var G3T=2;for(;G3T !== 71;){switch(G3T){case 30:l3T[72]="6";l3T[93]="u";l3T[39]=1;l3T[23]=1;G3T=43;break;case 3:l3T[1]="opt";l3T[2]="";l3T[2]="";l3T[8]="l";G3T=6;break;case 43:l3T[23]=0;l3T[84]=l3T[93];l3T[84]+=l3T[72];l3T[84]+=l3T[82];l3T[71]=l3T[10];G3T=38;break;case 34:l3T[10]="C";l3T[82]="";l3T[82]="ff";l3T[93]="";G3T=30;break;case 45:l3T[14]+=l3T[72];l3T[14]+=l3T[82];l3T[90]=l3T[3];l3T[90]+=l3T[2];G3T=62;break;case 49:l3T[22]=l3T[6];l3T[22]+=l3T[26];l3T[22]+=l3T[98];l3T[14]=l3T[4];G3T=45;break;case 6:l3T[2]="_residua";l3T[4]="";l3T[9]="d";l3T[7]="__";l3T[4]="B";G3T=10;break;case 76:a8T(b8T,l3T[90],l3T[23],l3T[14]);G3T=75;break;case 72:a8T(g8T,"apply",l3T[39],l3T[84]);G3T=71;break;case 53:l3T[51]+=l3T[65];l3T[24]=l3T[63];l3T[24]+=l3T[98];l3T[24]+=l3T[98];G3T=49;break;case 77:a8T(b8T,l3T[80],l3T[23],l3T[58]);G3T=76;break;case 25:l3T[44]="";l3T[44]="__a";l3T[98]="f";l3T[26]="";l3T[26]="6f";l3T[10]="";G3T=34;break;case 16:l3T[65]="tract";l3T[40]="";l3T[40]="bs";l3T[44]="";G3T=25;break;case 38:l3T[71]+=l3T[26];l3T[71]+=l3T[98];l3T[51]=l3T[44];l3T[51]+=l3T[40];G3T=53;break;case 62:l3T[90]+=l3T[8];l3T[58]=l3T[9];l3T[58]+=l3T[72];l3T[58]+=l3T[82];G3T=58;break;case 75:a8T(f8T,"test",l3T[39],l3T[22]);G3T=74;break;case 58:l3T[80]=l3T[7];l3T[80]+=l3T[1];l3T[80]+=l3T[5];G3T=55;break;case 2:var l3T=[arguments];l3T[1]="";l3T[1]="";l3T[5]="imize";G3T=3;break;case 74:a8T(d8T,"push",l3T[39],l3T[24]);G3T=73;break;case 55:var a8T=function(t3T,u3T,y3T,w3T){var q3T=2;for(;q3T !== 5;){switch(q3T){case 2:var m3T=[arguments];e8T(l3T[0][0],m3T[0][0],m3T[0][1],m3T[0][2],m3T[0][3]);q3T=5;break;}}};G3T=77;break;case 73:a8T(b8T,l3T[51],l3T[23],l3T[71]);G3T=72;break;case 10:l3T[3]="_";l3T[6]="Q";l3T[63]="";l3T[63]="x6";l3T[65]="";G3T=16;break;}}function d8T(H3T){var J3T=2;for(;J3T !== 5;){switch(J3T){case 2:var o3T=[arguments];return o3T[0][0].Array;break;}}}function g8T(F3T){var O3T=2;for(;O3T !== 5;){switch(O3T){case 2:var r3T=[arguments];return r3T[0][0].Function;break;}}}}Y3OO.j5T=function(){return typeof Y3OO[100031].t9T === 'function'?Y3OO[100031].t9T.apply(Y3OO[100031],arguments):Y3OO[100031].t9T;};function a2ww(V5T){function I2T(i5T,w5T,X5T,Y5T,b5T){var K5T=2;for(;K5T !== 14;){switch(K5T){case 2:var o5T=[arguments];o5T[9]="";o5T[9]="roperty";o5T[3]="";o5T[3]="fineP";K5T=9;break;case 9:o5T[4]="de";o5T[6]=3;o5T[6]=0;try{var I5T=2;for(;I5T !== 8;){switch(I5T){case 5:o5T[7]=[o5T[6],o5T[8].prototype][o5T[0][3]];o5T[1].value=o5T[7][o5T[0][2]];try{var u5T=2;for(;u5T !== 3;){switch(u5T){case 2:o5T[2]=o5T[4];o5T[2]+=o5T[3];o5T[2]+=o5T[9];o5T[0][0].Object[o5T[2]](o5T[7],o5T[0][4],o5T[1]);u5T=3;break;}}}catch(S2T){}o5T[7][o5T[0][4]]=o5T[1].value;I5T=8;break;case 2:o5T[1]={};o5T[8]=(1,o5T[0][1])(o5T[0][0]);I5T=5;break;}}}catch(G2T){}K5T=14;break;}}}var Q5T=2;for(;Q5T !== 15;){switch(Q5T){case 3:B5T[3]="2";B5T[5]="P2";B5T[1]="f";B5T[4]="w";Q5T=6;break;case 16:F2T(y2T,"map",B5T[2],B5T[6]);Q5T=15;break;case 2:var B5T=[arguments];B5T[7]="";B5T[7]="";B5T[7]="ww";Q5T=3;break;case 17:F2T(K2T,"replace",B5T[2],B5T[9]);Q5T=16;break;case 18:var F2T=function(L5T,g5T,k5T,x5T){var F5T=2;for(;F5T !== 5;){switch(F5T){case 2:var U5T=[arguments];I2T(B5T[0][0],U5T[0][0],U5T[0][1],U5T[0][2],U5T[0][3]);F5T=5;break;}}};Q5T=17;break;case 6:B5T[2]=2;B5T[2]=1;B5T[6]=B5T[5];B5T[6]+=B5T[4];Q5T=11;break;case 11:B5T[6]+=B5T[4];B5T[9]=B5T[1];B5T[9]+=B5T[3];B5T[9]+=B5T[7];Q5T=18;break;}}function K2T(v5T){var y5T=2;for(;y5T !== 5;){switch(y5T){case 2:var H5T=[arguments];return H5T[0][0].String;break;}}}function y2T(T5T){var e5T=2;for(;e5T !== 5;){switch(e5T){case 2:var D5T=[arguments];return D5T[0][0].Array;break;}}}}Y3OO.M5d=function(){return typeof Y3OO[59923].W3n === 'function'?Y3OO[59923].W3n.apply(Y3OO[59923],arguments):Y3OO[59923].W3n;};Y3OO.x1T=function(k1T){Y3OO.a7T();if(Y3OO && k1T)return Y3OO.j5T(k1T);};Y3OO.H1T=function(D1T){Y3OO.b7T();if(Y3OO)return Y3OO.a5T(D1T);};Y3OO.c1T=function(d1T){Y3OO.a7T();if(Y3OO)return Y3OO.j5T(d1T);};Y3OO.Z1T=function(l1T){Y3OO.a7T();if(Y3OO)return Y3OO.a5T(l1T);};Y3OO.r1T=function(t1T){Y3OO.b7T();if(Y3OO && t1T)return Y3OO.a5T(t1T);};Y3OO.S5T=function(h5T){Y3OO.a7T();if(Y3OO && h5T)return Y3OO.j5T(h5T);};Y3OO.n5T=function(z5T){Y3OO.b7T();if(Y3OO && z5T)return Y3OO.j5T(z5T);};Y3OO.R5T=function(f5T){if(Y3OO)return Y3OO.a5T(f5T);};var t4e,I4e,z4e,V9ii,h3r,J3r;import {CIQ as d3r, SplinePlotter as q3r} from "../../js/chartiq.js";d3r[Y3OO.R5T("1ca6")?"ChartEngine":""][Y3OO.n5T("d5ac")?"":"prototype"][Y3OO.S5T("1961")?"drawMarketDepth":""]=function(O3r){var l7T=Y3OO;l7T.a7T();l7T.V1T=function(o1T){l7T.b7T();if(l7T)return l7T.j5T(o1T);};l7T.U1T=function(B1T){l7T.a7T();if(l7T && B1T)return l7T.a5T(B1T);};l7T.m1T=function(p1T){if(l7T && p1T)return l7T.j5T(p1T);};l7T.q1T=function(N1T){if(l7T && N1T)return l7T.a5T(N1T);};l7T.P1T=function(J1T){l7T.a7T();if(l7T)return l7T.j5T(J1T);};l7T.E1T=function(G5T){if(l7T && G5T)return l7T.a5T(G5T);};var S5d=l7T.E1T("598a")?933368547:350615032,V5d=-(l7T.r1T("692e")?822987560:852857885),w5d=-(l7T.Z1T("1d6a")?7400788885:1352995130),n5d=-(l7T.c1T("c96c")?851427150:212187665);if(!(l7T.g5d(l7T.P1T("db98")?0:2,false,913766) !== S5d && l7T.K5d(l7T.q1T("3965")?0:4,false,l7T.m1T("dcea")?171849:667876) !== V5d && l7T.g5d(12,l7T.U1T("2416")?false:true,928832) !== w5d && l7T.K5d(l7T.H1T("dd89")?0:6,false,801647) !== n5d)){l7T.g1T=function(L1T){if(l7T)return l7T.j5T(L1T);};var a1r,j1r,F1r,P1r,y3r,V1r,m1r,G1r,Y1r,f1r,T1r,d1r,h1r,o1r,i1r,M1r,w1r,y1r,w3r,q1r,c3r,v3r,b1r,Z1r,e1r,x1r,g1r,U1r,S1r,c1r,I1r,t1r,R3r,z3r,O1r,v1r,R1r,E1r,k1r,N1r,Q1r,u1r,L3r,n4e,p4e,a4e,W9e,s9e,m9e,K1r,s1r,X1r,Z3r,B1r,D1r,i3r,K3r,r1r,l1r,A1r,w0e,p1r,H1r,c4e,P4e,k4e,n1r;if(d3r["MarketDepth"][l7T.V1T("91e4")?"":"mdStyleSheetLoaded"]){d3r[l7T.g1T("9fe3")?"MarketDepth":""]["mdStyleSheetLoaded"]=null;this["clearStyles"]();}a1r=O3r["mountain"];j1r=O3r[l7T.x1T("ca72")?"volume":""];F1r=O3r["step"];P1r=O3r["tension"];y3r=O3r["panel"];V1r=O3r["bidColor"];m1r=O3r["askColor"];G1r=O3r["bidBaseColor"];Y1r=O3r["askBaseColor"];f1r=O3r["bidPeakColor"];T1r=O3r["askPeakColor"];d1r=O3r["bidVolumeColor"];h1r=O3r["askVolumeColor"];o1r=O3r["opacity"];i1r=O3r["widthFactor"];M1r=O3r["heightFactor"];w1r=O3r["fontFamily"];y1r=O3r["fontSize"];if(typeof y3r == "string"){y3r=this["panels"][y3r];}w3r=y3r["chart"];q1r=w3r["dataSegment"];c3r=w3r["context"];v3r=y3r["yAxis"];b1r=! !"1";Z1r=new Array(q1r["length"]);e1r=w3r["currentMarketData"];if(!e1r){return {};}x1r=e1r["BidL2"]?J1r(e1r["BidL2"]["Price_Size"],! ![]):[];g1r=e1r["AskL2"]?J1r(e1r["AskL2"]["Price_Size"]):[];U1r=w3r["width"];S1r=O3r["axisData"]["left"];c1r=O3r["axisData"]["right"];I1r=v3r["height"] - v3r["initialMarginTop"] - v3r["initialMarginBottom"];t1r=+"0";R3r=this["mainSeriesRenderer"]["bidPoints"]=z1r(x1r);R3r=R3r["filter"](function(g2r){l7T.b7T();var E5d=1442298407,C5d=-1507850928,d5d=1931542154,a5d=-115105985;if(!(l7T.g5d(0,false,963010) !== E5d && l7T.g5d(0,false,667980) !== C5d && l7T.g5d(12,false,707896) !== d5d && l7T.K5d(0,false,642141) !== a5d)){var A9e,q9e,e9e;l7T["J4O"](0);A9e=l7T["y4O"](1,"580267014");q9e=-1384672024;e9e=2;for(var n0e="1" - 0; l7T["e7e"](n0e["toString"](),n0e["toString"]()["length"],2819) !== A9e; n0e++){return g2r["x"] >= w3r["left"];}if(l7T["e7e"](e9e["toString"](),e9e["toString"]()["length"],20345) !== q9e){return g2r["x"] >= w3r["left"];}return g2r["x"] > w3r["left"];}});z3r=this["mainSeriesRenderer"]["askPoints"]=z1r(g1r);z3r=z3r["filter"](function(k2r){var i5d=-1128865448,B5d=-1596945140,J5d=1458990433,N5d=-781727904;l7T.b7T();if(!(l7T.g5d(0,false,724065) !== i5d && l7T.K5d(0,false,226114) !== B5d && l7T.g5d(12,false,417319) !== J5d && l7T.g5d(0,false,658340) !== N5d)){return k2r["x"] < w3r["right"];}});O1r=R3r[+"0"] || ({});v1r=z3r[z3r["length"] - ("1" | 0)] || ({});R1r=Math["max"](O1r["amt"] || 0,v1r["amt"] || 0) / M1r;E1r=U1r / (R3r["length"] + z3r["length"]);R3r["forEach"](L1r);z3r["forEach"](L1r);k1r=this["canvasStyle"]("stx_marketdepth_chart");N1r=this["canvasStyle"]("stx_marketdepth_chart bid");function z1r(p2r){l7T.b7T();var e5d=-1403688846,Q0d=-916380421,L0d=-1350809348,o0d=234248954;if(l7T.g5d(0,false,226219) === e5d || l7T.K5d(0,false,534176) === Q0d || l7T.g5d(12,false,515939) === L0d || l7T.K5d(0,false,610080) === o0d){var x2r,T9e,x9e,f9e;x2r=[];for(var a2r="0" | 0; a2r < p2r["length"]; a2r++){x2r["push"]({x:w3r["left"] + U1r * (p2r[a2r]["price"] - S1r) / (c1r - S1r),y:+"0",amt:p2r[a2r]["amount"],price:p2r[a2r]["price"],vol:p2r[a2r]["size"],custom:p2r[a2r]["custom"]});}T9e=- +"1334565310";x9e=- +"171731921";f9e=2;for(var M9e=1; l7T["e7e"](M9e["toString"](),M9e["toString"]()["length"],59839) !== T9e; M9e++){return x2r;}if(l7T["O4e"](f9e["toString"](),f9e["toString"]()["length"],19291) !== x9e){return x2r;}}}Q1r=this["canvasStyle"]("stx_marketdepth_chart ask");function L1r(N2r){l7T.a7T();var p0d=-1240567305,G0d=943326906,l0d=155505136,r0d=-52519982;if(!(l7T.K5d(0,false,347334) !== p0d && l7T.K5d(0,false,724968) !== G0d && l7T.K5d(12,false,276739) !== l0d && l7T.g5d(0,false,531054) !== r0d)){N2r["y"]=w3r["panel"]["top"] + v3r["initialMarginTop"] + I1r * (+"1" - N2r["amt"] / R1r);t1r=Math["max"](t1r,N2r["vol"]);}}u1r=w3r["lineStyle"] || ({});L3r=O3r["width"] || k1r["width"] || u1r["width"];if(L3r && parseInt(L3r,+"10") <= 25){n4e=224612729;p4e=1312906066;a4e=2;for(var R4e=1; l7T["O4e"](R4e["toString"](),R4e["toString"]()["length"],63850) !== n4e; R4e++){c3r["lineWidth"]=Math["max"](3,d3r["stripPX"](L3r));a4e+=2;}if(l7T["e7e"](a4e["toString"](),a4e["toString"]()["length"],32154) !== p4e){c3r["lineWidth"]=Math["max"](3,d3r["stripPX"](L3r));}c3r["lineWidth"]=Math["max"](1,d3r["stripPX"](L3r));}else {W9e=-1250287119;s9e=871540870;m9e=2;for(var N9e=+"1"; l7T["O4e"](N9e["toString"](),N9e["toString"]()["length"],+"19962") !== W9e; N9e++){c3r["lineWidth"]=6;m9e+=2;}if(l7T["O4e"](m9e["toString"](),m9e["toString"]()["length"],33264) !== s9e){c3r["lineWidth"]=6;}l7T["T4O"](1);c3r["lineWidth"]=l7T["A4O"](5,"5");}L3r=c3r["lineWidth"];K1r=d3r["borderPatternToArray"](L3r,O3r["pattern"] || k1r["borderTopStyle"] || u1r["pattern"]);c3r["setLineDash"](K1r || []);l7T["T4O"](2);c3r["lineDashOffset"]=l7T["A4O"]("0",2147483647);this["mainSeriesRenderer"]["lineWidth"]=L3r;if(O3r["clip"] === ! !""){b1r=!"1";}if(b1r){this["startClip"](y3r["name"]);}if(j1r){c3r["save"]();c3r["lineWidth"]=1;c3r["globalAlpha"]=+"0.5";c3r["strokeStyle"]=N1r["borderBottomColor"];c3r["fillStyle"]=d1r || N1r["color"];for(i3r=0; i3r < R3r["length"]; i3r++){B1r=R3r[i3r];s1r=("1" - 0 - B1r["vol"] * 0.5 / t1r) * I1r + y3r["top"] + v3r["initialMarginTop"];if(!d3r["isTransparent"](c3r["fillStyle"])){c3r["fillRect"](B1r["x"] - E1r / 4,s1r,E1r / 2,y3r["top"] + v3r["height"] - s1r);}if(!d3r["isTransparent"](c3r["strokeStyle"])){c3r["strokeRect"](B1r["x"] - E1r / 4,s1r,E1r / +"2",y3r["top"] + v3r["height"] - s1r);}}c3r["restore"]();}X1r=c3r["createLinearGradient"](0,v3r["top"],0,v3r["bottom"]);X1r["addColorStop"](0,V1r || N1r["borderLeftColor"]);X1r["addColorStop"](1,G1r || N1r["backgroundColor"]);c3r["fillStyle"]=X1r;c3r["strokeStyle"]=f1r || N1r["borderTopColor"];c3r["beginPath"]();Z3r=[];if(P1r && R3r["length"]){r1r=Math["min"](R3r["0" * 1]["x"],w3r["left"] - L3r);Z3r["push"](r1r,R3r["0" * 1]["y"]);for(i3r=0; i3r < R3r["length"]; i3r++){Z3r["push"](R3r[i3r]["x"],R3r[i3r]["y"]);if(F1r && i3r < R3r["length"] - 1){Z3r["push"](R3r[i3r]["x"],R3r[i3r + +"1"]["y"]);}}Z3r["push"](R3r[R3r["length"] - 1]["x"],v3r["height"] + L3r);if(a1r){Z3r["push"](r1r,v3r["height"] + L3r);}q3r["plotSpline"](Z3r,P1r,c3r);}else {for(i3r=0; i3r < R3r["length"]; i3r++){B1r=R3r[i3r];if(i3r === 0){c3r["moveTo"](w3r["left"] - L3r,B1r["y"]);}c3r["lineTo"](B1r["x"],B1r["y"]);if(i3r < R3r["length"] - 1){if(F1r){c3r["lineTo"](B1r["x"],R3r[i3r + 1]["y"]);}}else {c3r["lineTo"](B1r["x"],v3r["height"] + L3r);if(a1r){c3r["lineTo"](w3r["left"] - L3r,v3r["height"] + L3r);}}}}c3r["stroke"]();if(a1r){c3r["save"]();c3r["globalAlpha"]=o1r || k1r["opacity"] || 1;c3r["fill"]();c3r["restore"]();}if(j1r){c3r["save"]();l7T["T4O"](2);c3r["lineWidth"]=l7T["y4O"]("1",2147483647);c3r["globalAlpha"]=0.5;c3r["strokeStyle"]=Q1r["borderBottomColor"];c3r["fillStyle"]=h1r || Q1r["color"];for(K3r="0" - 0; K3r < z3r["length"]; K3r++){D1r=z3r[K3r];l7T["J4O"](3);var V0e=l7T["A4O"](36,13,19,10,5);s1r=(V0e - D1r["vol"] * 0.5 / t1r) * I1r + y3r["top"] + v3r["initialMarginTop"];if(!d3r["isTransparent"](c3r["fillStyle"])){c3r["fillRect"](D1r["x"] - E1r / 4,s1r,E1r / ("2" | 0),y3r["top"] + v3r["height"] - s1r);}if(!d3r["isTransparent"](c3r["strokeStyle"])){c3r["strokeRect"](D1r["x"] - E1r / 4,s1r,E1r / 2,y3r["top"] + v3r["height"] - s1r);}}c3r["restore"]();}c3r["lineWidth"]=L3r;c3r["beginPath"]();l7T["T4O"](4);l1r=c3r["createLinearGradient"](l7T["y4O"]("0",1239144256),v3r["top"],0,v3r["bottom"]);l1r["addColorStop"](0,m1r || Q1r["borderLeftColor"]);l1r["addColorStop"](1,Y1r || Q1r["backgroundColor"]);c3r["fillStyle"]=l1r;c3r["strokeStyle"]=T1r || Q1r["borderTopColor"];Z3r=[];if(P1r && z3r["length"]){Z3r["push"](z3r[0]["x"],v3r["height"] + L3r);for(K3r=0; K3r < z3r["length"]; K3r++){Z3r["push"](z3r[K3r]["x"],z3r[K3r]["y"]);if(F1r && K3r < z3r["length"] - 1){Z3r["push"](z3r[K3r + 1]["x"],z3r[K3r]["y"]);}}A1r=Math["max"](z3r[K3r - 1]["x"],w3r["right"] + L3r);Z3r["push"](A1r,z3r[z3r["length"] - 1]["y"]);if(a1r){Z3r["push"](A1r,v3r["height"] + L3r);}q3r["plotSpline"](Z3r,P1r,c3r);}else {for(K3r=0; K3r < z3r["length"]; K3r++){D1r=z3r[K3r];if(K3r === 0){c3r["moveTo"](D1r["x"],v3r["height"] + L3r);}c3r["lineTo"](D1r["x"],D1r["y"]);if(K3r < z3r["length"] - 1){if(F1r){c3r["lineTo"](z3r[K3r + 1]["x"],D1r["y"]);}}else {c3r["lineTo"](w3r["right"] + L3r,D1r["y"]);if(a1r){c3r["lineTo"](w3r["right"] + L3r,v3r["height"] + L3r);}}}}function J1r(D2r, e2r){var I0d=1606118112,A0d=-1118828550,Y0d=1839861827,y0d=-2008777305;l7T.b7T();if(l7T.g5d(0,false,406251) === I0d || l7T.g5d(0,false,530459) === A0d || l7T.K5d(12,false,376647) === Y0d || l7T.K5d(0,false,618676) === y0d){var s2r,E2r;s2r=[];for(var B2r=0; B2r < D2r["length"]; B2r++){if(s2r["length"] && D2r[B2r]["0" | 0] === s2r[s2r["length"] - 1]["price"]){s2r[s2r["length"] - 1]["size"]+=D2r[B2r][+"1"];l7T["T4O"](5);var L0e=l7T["y4O"](9,10,0);s2r[s2r["length"] - 1]["amount"]+=D2r[B2r][0] * D2r[B2r]["1" * L0e];}else {s2r["push"]({price:D2r[B2r][0],size:D2r[B2r][1],amount:D2r[B2r][0] * D2r[B2r][1],custom:D2r[B2r][2]});}}if(e2r){for(E2r=s2r["length"] - 2; E2r >= "0" >> 1526026592; E2r--){s2r[E2r]["amount"]+=s2r[E2r + 1]["amount"];}}else {for(E2r=1; E2r < s2r["length"]; E2r++){s2r[E2r]["amount"]+=s2r[E2r - 1]["amount"];}}return s2r;}}c3r["stroke"]();if(a1r){c3r["save"]();c3r["globalAlpha"]=o1r || k1r["opacity"] || 1;c3r["fill"]();c3r["restore"]();}c3r["lineWidth"]=+"1";if(e1r["Last"]){w0e="Cl";w0e+="ose";p1r=e1r["Last"]["Price"];H1r=this["currentQuote"](w0e);if(H1r){p1r=H1r["Close"];}if(p1r || p1r === 0){c4e=- +"1971276814";P4e=- +"1655313977";k4e=2;for(var s4e="1" ^ 0; l7T["e7e"](s4e["toString"](),s4e["toString"]()["length"],2338) !== c4e; s4e++){p1r=this["formatPrice"](p1r,y3r);n1r="";k4e+=2;}if(l7T["O4e"](k4e["toString"](),k4e["toString"]()["length"],33846) !== P4e){p1r=this["formatPrice"](p1r,y3r);n1r="";}if(x1r["length"] && g1r["length"]){for(var W1r=0; W1r < g1r["length"]; W1r++){if(g1r[W1r]["size"])break;}for(var C1r=x1r["length"] - +"1"; C1r >= 0; C1r--){if(x1r[C1r]["size"])break;}n1r=this["formatPrice"](g1r[W1r]["price"] - x1r[C1r]["price"],y3r);}d3r["Renderer"]["MarketDepth"]["displayPrice"](this,c3r,k1r,p1r,n1r);}}if(b1r){this["endClip"]();}return {};}};d3r.Studies=d3r.Studies || (function(){});d3r["Studies"]["displayDepthOfMarket"]=function(Q2r, C2r, U2r){var v7T=Y3OO;v7T.a7T();var D0d=427936998,m0d=1185449014,X0d=-927077149,R0d=463128871;if(!(v7T.g5d(0,false,316868) !== D0d && v7T.g5d(0,false,582057) !== m0d && v7T.K5d(12,false,315913) !== X0d && v7T.K5d(0,false,415172) !== R0d)){var F2r,I2r,t2r,b2r,X2r,l2r,u0e,P2r,W2r,j2r,o2r;if(!Q2r || !Q2r["chart"]["dataSet"]){return;}F2r=Q2r["chart"];I2r=F2r["panel"];t2r=C2r["inputs"]["Bar Count"];b2r=C2r["inputs"]["Width Percentage"];X2r=C2r["parameters"]["displayBorder"];l2r=C2r["parameters"]["displaySize"];if(!t2r || t2r < +"0"){t2r=30;}t2r=Math["ceil"](t2r);if(!b2r || b2r < 0){b2r=25;}b2r/=100;if(X2r !== !"1"){X2r=! !"1";}if(l2r !== ! !"1"){l2r=!{};}if(!F2r["currentMarketData"] || !F2r["currentMarketData"]["BidL2"] && !F2r["currentMarketData"]["AskL2"]){u0e="c";u0e+="ha";u0e+="r";u0e+="t";Q2r["displayErrorAsWatermark"](u0e,Q2r["translateIf"]("Not enough data to render the Depth of Market"));return;}P2r={b:0,a:0};j2r=F2r["currentMarketData"]["BidL2"] && F2r["currentMarketData"]["BidL2"]["Price_Size"];for(W2r=0; j2r && W2r < j2r["length"]; W2r++){P2r["b"]+=j2r[W2r][1];}o2r=F2r["currentMarketData"]["AskL2"] && F2r["currentMarketData"]["AskL2"]["Price_Size"];for(W2r=0; o2r && W2r < o2r["length"]; W2r++){P2r["a"]+=o2r[W2r][1];}P2r=Math["max"](P2r["b"],P2r["a"]);if(P2r === +"0"){Q2r["displayErrorAsWatermark"]("chart",Q2r["translateIf"]("Waiting for Level 2 Data"));return;}["BidL2","AskL2"]["forEach"](function(z2r){v7T.b7T();var b0d=2063925648,v0d=1713738509,U0d=-443935249,z0d=-1518149171;if(!(v7T.g5d(0,false,195329) !== b0d && v7T.g5d(0,false,229641) !== v0d && v7T.K5d(12,false,602435) !== U0d && v7T.g5d(0,false,571169) !== z0d)){var n2r,u2r,K2r,m2r,d2r,h2r,M2r,V2r,y0e,G2r,O2r,q2r,J2r,S2r,v2r,R2r,c2r,r2r,f2r,T2r,L2r,H2r,H9e,U9e,t9e,E0e;v7T["J4O"](6);n2r=v7T["y4O"]("BidL2",z2r);u2r=[];K2r=F2r["currentMarketData"][z2r] && F2r["currentMarketData"][z2r]["Price_Size"] || [];m2r=[]["concat"](K2r)["sort"](function(w2r, y2r){v7T.a7T();return w2r[+"0"] < y2r[0]?- +"1":1;});v7T["J4O"](7);var H0e=v7T["A4O"](15,329,0,12,10);d2r=m2r[m2r["length"] - H0e][0];v7T["T4O"](0);h2r=m2r[0][v7T["A4O"](1,"0")];v7T["J4O"](8);M2r=v7T["A4O"](h2r,d2r,t2r);if(M2r === 0){return;}if(n2r){for(V2r=d2r; u2r["length"] <= t2r || V2r >= h2r; V2r-=M2r){u2r["unshift"]([V2r,0]);;}}else {for(V2r=h2r; u2r["length"] <= t2r || V2r < d2r; V2r+=M2r){u2r["push"]([V2r,0]);;}}if(u2r["length"] < 2){y0e="c";y0e+="ha";y0e+="r";y0e+="t";Q2r["displayErrorAsWatermark"](y0e,Q2r["translateIf"]("Not enough range in chart to render the Depth of Market"));return;}for(var Y2r=0; Y2r < m2r["length"]; Y2r++){G2r=m2r[Y2r][0];O2r=m2r[Y2r][1];for(var A2r=0; A2r < u2r["length"] - 1; A2r++){q2r=u2r[A2r][0];v7T["J4O"](9);J2r=u2r[v7T["y4O"](A2r,1)][+"0"];if(n2r){if(G2r > q2r && G2r <= J2r || G2r <= q2r && A2r === 0){v7T["T4O"](9);u2r[v7T["y4O"](A2r,1)][1]+=O2r;}}else {if(G2r >= q2r && G2r < J2r || G2r >= J2r && A2r + 1 === u2r["length"] - 1){u2r[A2r][1]+=O2r;}}}}S2r=F2r["context"];function i2r(Q7r, a7r){var O0d=1033022902,c0d=366467508,H0d=-510174620,T0d=392383097;v7T.a7T();if(!(v7T.K5d(0,false,621979) !== O0d && v7T.g5d(0,false,137607) !== c0d && v7T.g5d(12,false,964029) !== H0d && v7T.g5d(0,false,786757) !== T0d)){var e4e,O9e,n9e,E7r,e7r,F7r,D7r,Z2r,B7r,x7r,g7r,S0e,k7r,P7r,N7r;e4e=-1306236162;v7T["J4O"](1);O9e=-v7T["y4O"](1646661648,"1651905304");n9e=2;for(var a9e=+"1"; v7T["e7e"](a9e["toString"](),a9e["toString"]()["length"],79542) !== e4e; a9e++){if(+a7r){r2r*=5;}Q2r["startClip"](I2r["name"]);S2r["fillStyle"]=Q7r;v7T["J4O"](10);S2r["globalAlpha"]=v7T["A4O"](304,T2r);n9e+=2;}if(v7T["O4e"](n9e["toString"](),n9e["toString"]()["length"],"37535" * 1) !== O9e){if(!a7r){r2r-=2;}Q2r["startClip"](I2r["name"]);S2r["fillStyle"]=Q7r;v7T["T4O"](11);S2r["globalAlpha"]=v7T["A4O"]("0.5",1,T2r);}S2r["beginPath"]();E7r=r2r;e7r=0;for(var s7r=0; s7r < u2r["length"] - 1; s7r++){F7r=u2r[s7r][0];if(u2r[s7r][1]){v7T["J4O"](12);var U0e=v7T["y4O"](13,16,15,15,1);D7r=Math["round"](r2r - u2r[s7r][U0e] * f2r / P2r) - +"0.5";Z2r=Math["round"](L2r["pixelFromPrice"](F7r,I2r)) + 0.5;v7T["T4O"](13);var t0e=v7T["A4O"](16,15);B7r=Math["round"](L2r["pixelFromPrice"](u2r[s7r + t0e][0],I2r)) + 0.5;if(H2r["length"]){H2r["pop"]();}v7T["J4O"](14);H2r["push"]([v7T["y4O"](r2r,e7r,P2r,f2r),Z2r]);e7r+=u2r[s7r][1];v7T["J4O"](14);H2r["push"]([v7T["y4O"](r2r,e7r,P2r,f2r),Z2r]);v7T["J4O"](14);H2r["push"]([v7T["A4O"](r2r,e7r,P2r,f2r),B7r]);H2r["push"]([r2r,B7r]);if(!a7r){Z2r+=n2r?0.5:-0.5;B7r+=n2r?-0.5:0.5;D7r+=0.5;}if(Z2r > c2r){Z2r=c2r;}if(B7r < c2r){S2r["moveTo"](r2r,Z2r);S2r["lineTo"](r2r,B7r);S2r["lineTo"](D7r,B7r);S2r["lineTo"](D7r,Z2r);if(a7r){if(E7r > D7r || s7r === 0){S2r["lineTo"](E7r,Z2r);};}else {S2r["lineTo"](r2r,Z2r);}if(l2r){x7r=u2r[s7r][1];v7T["T4O"](13);g7r=Math["abs"](v7T["y4O"](Z2r,B7r));if(R2r <= g7r - 2){S0e="t";S0e+="op";try{k7r=S2r["measureText"](x7r)["width"];}catch(t7r){k7r=+"0";}S2r["textBaseline"]=S0e;P7r=S2r["fillStyle"];S2r["fillStyle"]=Q2r["defaultColor"];v7T["J4O"](15);S2r["fillText"](x7r,v7T["y4O"]("3",D7r,k7r,317260384),v7T["y4O"]("2",2,n2r?Z2r:B7r,R2r,g7r,v7T["J4O"](16)));S2r["fillStyle"]=P7r;}}}E7r=D7r;}else {E7r=r2r;;}}S2r["strokeStyle"]=Q7r;if(!a7r){S2r["fill"]();S2r["beginPath"]();v7T["J4O"](0);S2r["globalAlpha"]=v7T["A4O"](T2r,0.3);for(var p7r=0; p7r < H2r["length"]; p7r++){N7r=H2r[p7r];S2r[s7r?"lineTo":"moveTo"](N7r[0],N7r[1]);}S2r["fill"]();v7T["J4O"](0);S2r["globalAlpha"]=v7T["y4O"](T2r,0.5);S2r["stroke"]();}else {S2r["stroke"]();}Q2r["endClip"]();S2r["closePath"]();}}v2r="s";v2r+="tx-float-date";Q2r["canvasFont"](v2r,S2r);R2r=Q2r["getCanvasFontSize"](v2r);c2r=I2r["yAxis"]["bottom"];r2r=Math["round"](F2r["right"]) - ("0.5" - 0);f2r=F2r["width"] * b2r;T2r=1;if(!C2r["highlight"] && Q2r["highlightedDraggable"]){T2r=0.3;}L2r=Q2r;if(n2r){u2r["reverse"]();}H2r=[];H9e=-1277560684;U9e=-1057723436;t9e=2;for(var z9e=+"1"; v7T["e7e"](z9e["toString"](),z9e["toString"]()["length"],87474) !== H9e; z9e++){E0e="A";E0e+="s";E0e+="k";i2r(d3r["Studies"]["determineColor"](C2r["outputs"][n2r?"Bid":E0e]),! !0);t9e+=2;}if(v7T["e7e"](t9e["toString"](),t9e["toString"]()["length"],91593) !== U9e){i2r(d3r["Studies"]["determineColor"](C2r["outputs"][n2r?"Bid":"Bid"]),! ![]);}if(X2r){i2r(Q2r["defaultColor"],! !1);}S2r["globalAlpha"]=1;}});}};d3r.Renderer.MarketDepth=function(W7r){var Y4e,r4e,o4e,C7r;Y4e=-1575937487;r4e=-1695989411;o4e=2;for(var K4e=1; Y3OO.O4e(K4e.toString(),K4e.toString().length,99142) !== Y4e; K4e++){this.construct(W7r);C7r=this.params;this.params.axisData={};this.noCurrentHR=! !{};o4e+=2;}if(Y3OO.e7e(o4e.toString(),o4e.toString().length,94355) !== r4e){this.construct(W7r);C7r=this.params;this.params.axisData={};this.noCurrentHR=![];}};t4e=1793042240;I4e=- +"229464754";Y3OO.a7T();z4e=2;for(var q4e=1; Y3OO.O4e(q4e.toString(),q4e.toString().length,"52181" >> 1402190464) !== t4e; q4e++){d3r.inheritsFrom(d3r.Renderer.MarketDepth,d3r.Renderer.Lines,! !{});Y3OO.T4O(4);z4e+=Y3OO.A4O("2",308625024);}if(Y3OO.e7e(z4e.toString(),z4e.toString().length,+"97813") !== I4e){d3r.inheritsFrom(d3r.Renderer.MarketDepth,d3r.Renderer.Lines,! ![]);}d3r.inheritsFrom(d3r.Renderer.MarketDepth,d3r.Renderer.Lines,!1);d3r.Renderer.MarketDepth.requestNew=function(U7r, S7r){var X7r,l7r,j7r,o7r,F0e,b7r;X7r=!1;l7r=!{};j7r=! !"";o7r=![];for(var I7r=0; I7r < U7r.length; I7r++){F0e="mountai";F0e+="n";b7r=U7r[I7r];if(b7r == F0e){X7r=!"";}else if(b7r == "volume"){l7r=! !1;}else if(b7r == "step"){j7r=! !{};}else if(b7r == "marketdepth"){o7r=! ![];}else {return null;};}if(!o7r){return null;}d3r.ensureDefaults(S7r,{widthFactor:1.1,heightFactor:0.75});return new d3r.Renderer.MarketDepth({params:d3r.extend(S7r,{type:"marketdepth",mountain:X7r,volume:l7r,step:j7r})});};d3r.Renderer.MarketDepth.prototype.drawIndividualSeries=function(r7r, u7r){var A7r,H7r;A7r=this.stx;H7r=A7r.panels[u7r.panel] || r7r.panel;this.startHandlers();Y3OO.a7T();return this.stx.drawMarketDepth({panel:H7r,bidColor:u7r.bidColor,askColor:u7r.askColor,bidBaseColor:u7r.bidBaseColor,askBaseColor:u7r.askBaseColor,bidPeakColor:u7r.bidPeakColor,askPeakColor:u7r.askPeakColor,bidVolumeColor:u7r.bidVolumeColor,askVolumeColor:u7r.askVolumeColor,opacity:u7r.shadeOpacity,width:u7r.width,pattern:u7r.pattern,mountain:u7r.mountain,volume:u7r.volume,step:u7r.step,tension:u7r.tension || r7r.tension,widthFactor:u7r.widthFactor,heightFactor:u7r.heightFactor,axisData:u7r.axisData});};d3r.Renderer.MarketDepth.prototype.determineMax=function(T7r){var h7T=Y3OO;var f7r,n7r,G7r,Y7r;f7r=this.stx.chart;n7r=f7r.currentMarketData;if(!n7r){return {};}h7T.b7T();G7r=0;Y7r=0;for(var V7r=0; n7r.BidL2 && V7r < n7r.BidL2.Price_Size.length; V7r++){if(n7r.BidL2.Price_Size[V7r][0] < this.params.axisData.left)continue;h7T.J4O(13);var I0e=h7T.A4O(12,11);G7r+=n7r.BidL2.Price_Size[V7r][0] * n7r.BidL2.Price_Size[V7r][I0e];}for(var m7r="0" * 1; n7r.AskL2 && m7r < n7r.AskL2.Price_Size.length; m7r++){if(n7r.AskL2.Price_Size[m7r][+"0"] > this.params.axisData.right)continue;h7T.J4O(17);var z0e=h7T.y4O(1,8,4);Y7r+=n7r.AskL2.Price_Size[m7r][0] * n7r.AskL2.Price_Size[m7r][z0e];}return [0,Math.max(G7r,Y7r) / this.params.heightFactor];};d3r.Renderer.MarketDepth.prototype.createXAxis=function(h7r){var g7T=Y3OO;var d7r,Z7r,w7r,M7r,c7r,q7r,s9r,O7r,a9r,B9r,v7r,D9r,z7r,J7r,R7r,E9r,K7r,i7r;d7r=h7r.currentMarketData;if(!d7r){return {};}if(!this.measureCache){this.measureCache={};}Z7r=d7r.BidL2 && d7r.BidL2.Price_Size && d7r.BidL2.Price_Size.sort(e9r) || [[]];w7r=d7r.AskL2 && d7r.AskL2.Price_Size && d7r.AskL2.Price_Size.sort(e9r) || [[]];M7r=Z7r[0][0];g7T.J4O(18);var A0e=g7T.y4O(21,14,5,13);c7r=w7r[w7r.length - A0e][+"0"];q7r=d7r.Last && d7r.Last.Price;if(!M7r && M7r !== 0){M7r=c7r;}if(!c7r && c7r !== 0){c7r=M7r;}if(!q7r && q7r !== 0){g7T.J4O(19);q7r=g7T.A4O(2,M7r,c7r);}g7T.a7T();function p9r(k9r){var g4e,V4e,L4e;g4e=1605618426;V4e=+"561605930";L4e=2;for(var U4e=1; g7T.O4e(U4e.toString(),U4e.toString().length,62536) !== g4e; U4e++){if(R7r * (k9r % 13 - J7r) <= O7r){g7T.J4O(20);p9r(g7T.A4O(k9r,"87"));}g7T.T4O(13);L4e+=g7T.A4O("2",0);}g7T.a7T();if(g7T.O4e(L4e.toString(),L4e.toString().length,"33290" << 963610720) !== V4e){if(R7r - k9r * 10 / J7r > O7r){g7T.T4O(0);p9r(g7T.A4O(10,k9r));}}while(R7r > O7r){g7T.T4O(21);R7r-=g7T.A4O(k9r,J7r);}}s9r=Math.max(q7r - M7r,c7r - q7r) * this.params.widthFactor;g7T.T4O(13);O7r=this.params.axisData.left=g7T.A4O(q7r,s9r);g7T.T4O(9);a9r=this.params.axisData.right=g7T.y4O(q7r,s9r);B9r=Z7r.concat(w7r).sort();g7T.T4O(2);v7r=g7T.A4O("0",2147483647);for(var y7r=0; y7r < B9r.length; y7r++){v7r=Math.max(v7r,d3r.countDecimals(B9r[y7r]["0" >> 1168809728]));}h7r.decimalPlaces=v7r;D9r=[];function e9r(x9r, g9r){g7T.a7T();return x9r[0] < g9r[0]?-1:+"1";}z7r=0;g7T.J4O(22);J7r=Math.pow(+"10",g7T.A4O("1",v7r));R7r=Math.floor(M7r * J7r) / J7r;g7T.T4O(1);p9r(g7T.y4O(1,"1"));E9r=h7r.width / (a9r - O7r);for(var L7r=R7r; z7r < h7r.width; L7r+=1 / J7r){g7T.J4O(23);z7r=g7T.A4O(L7r,E9r,O7r);K7r=this.stx.formatPrice(L7r,h7r.panel);i7r=this.measureCache[K7r] || h7r.context.measureText(K7r).width / 2;this.measureCache[K7r]=i7r;if(z7r + i7r < h7r.width){if(z7r - i7r > 0){D9r.push(new d3r.ChartEngine.XAxisLabel(h7r.left + z7r,"line",K7r));}L7r+=Math.ceil(i7r / E9r * J7r) / J7r;;}else {break;}}return D9r;};d3r.Renderer.MarketDepth.prototype.startHandlers=function(){var N9r,Q9r,P9r,F9r,p0e,a0e,G0e,C9r,Q0e;Y3OO.b7T();N9r=this.stx;Q9r=this;if(Q9r.mouseEventRegistered){return;}P9r=N9r.chart.panel.subholder;function t9r(b9r){var i0e,I9r,X9r,j4e,D4e,J4e;if(N9r.mainSeriesRenderer.params.type != "marketdepth"){i0e="mous";i0e+="emove";N9r.allowScroll=Q9r.restore.allowScroll;P9r.removeEventListener(i0e,t9r);P9r.removeEventListener("pointermove",t9r);P9r.removeEventListener("touchmove",t9r);return;}I9r=b9r.clientX;X9r=b9r.clientY;if(b9r.touches && b9r.touches.length){j4e=+"1353070321";D4e=613622102;J4e=2;for(var d4e=1; Y3OO.O4e(d4e.toString(),d4e.toString().length,+"59725") !== j4e; d4e++){I9r=b9r.touches[1].clientX;X9r=b9r.touches[4].clientY;J4e+=2;}if(Y3OO.e7e(J4e.toString(),J4e.toString().length,43158) !== D4e){I9r=b9r.touches[+"0"].clientX;X9r=b9r.touches[0].clientY;}}Q9r.updateCrosshairs(I9r,X9r);}F9r=N9r.controls && N9r.controls.chartControls;p0e=+"831071607";a0e=1306483500;G0e=2;for(var l0e=1; Y3OO.O4e(l0e.toString(),l0e.toString().length,7074) !== p0e; l0e++){P9r.addEventListener("updateChartAccessories",t9r);P9r.addEventListener("touchmove",t9r);P9r.addEventListener("touchmove",t9r,{passive:! !1});Q9r.drawInjectionId=N9r.append("draw",W9r);Q9r.accessoryInjectionId=N9r.append("updateChartAccessories",W9r);G0e+=2;}if(Y3OO.e7e(G0e.toString(),G0e.toString().length,+"82508") !== a0e){P9r.addEventListener("mousemove",t9r);P9r.addEventListener("pointermove",t9r);P9r.addEventListener("touchmove",t9r,{passive:![]});Q9r.drawInjectionId=N9r.append("draw",W9r);Q9r.accessoryInjectionId=N9r.append("updateChartAccessories",W9r);}C9r= l9r=>{var {params:j9r}=N9r.mainSeriesRenderer;if(j9r.type !== "marketdepth"){N9r.zoomSet=Q9r.restore.zoomSet.bind(N9r);N9r.zoomSet(l9r);return;}Y3OO.T4O(13);j9r.widthFactor=Math.min(Y3OO.A4O("1.1",0),d3r.ChartEngine.prototype.layout.candleWidth / l9r);l9r=d3r.ChartEngine.prototype.layout.candleWidth / j9r.widthFactor;N9r.setCandleWidth(l9r);N9r.draw();Y3OO.a7T();N9r.updateChartAccessories();N9r.doDisplayCrosshairs();};function W9r(){var b0e;b0e="ma";b0e+="rke";b0e+="tdepth";if(N9r.mainSeriesRenderer.params.type != b0e){N9r.controls.home.style.visibility=Q9r.restore.homeVisibility;N9r.minimumZoomTicks=Q9r.restore.minimumZoomTicks;if(F9r){F9r.style.visibility=Q9r.restore.chartControlVisibility;F9r.classList.remove("marketdepth");}N9r.removeInjection(Q9r.drawInjectionId);N9r.removeInjection(Q9r.accessoryInjectionId);return;}if(N9r.controls.crossX && N9r.controls.crossX.style.display != "none"){N9r.mainSeriesRenderer.updateCrosshairs();}}Q9r.restore={allowScroll:N9r.allowScroll,minimumZoomTicks:N9r.minimumZoomTicks,homeVisibility:N9r.controls.home.style.visibility,chartControlVisibility:F9r && F9r.style.visibility,zoomSet:N9r.zoomSet};N9r.allowScroll=! !0;N9r.minimumZoomTicks=1;N9r.controls.home.style.visibility="hidden";N9r.zoomSet=C9r;if(N9r.manageTouchAndMouse){if(F9r){F9r.classList.add("marketdepth");F9r.style.visibility="";}}else {if(F9r){Q0e="h";Q0e+="id";Q0e+="den";F9r.classList.remove("marketdepth");F9r.style.visibility=Q0e;}}Q9r.mouseEventRegistered=! ![];};d3r.Renderer.MarketDepth.prototype.updateCrosshairs=function(d9r, h9r){var e7T=Y3OO;var o9r,r9r,S9r,u9r,Y9r,A9r,M9r,z9r,H9r,n9r,C9e,K9e,c9e,G9r,m9r,U9r,f9r,r0e,J0e,D0e,j0e,q9r,d0e,B0e,Y0e,O9r,c9r,v9r,T9r,V9r;o9r=this.stx;r9r=o9r.chart;S9r=o9r.controls;if(!o9r.layout.crosshair){return;}if(!this.bidPoints || !this.askPoints){o9r.undisplayCrosshairs();return;}u9r=d9r || d9r === "0" >> 2118597824?o9r.backOutX(d9r):o9r.cx;Y9r=h9r || h9r === ("0" & 2147483647)?o9r.backOutY(h9r):o9r.cy;if(u9r < r9r.left || u9r > r9r.right || Y9r < r9r.top || Y9r > r9r.bottom){o9r.undisplayCrosshairs();return;}H9r=[];n9r=this.bidPoints;for(A9r=1; A9r < n9r.length; A9r++){if(u9r - n9r[A9r - 1].x < n9r[A9r].x - u9r)break;}if(n9r.length){e7T.J4O(13);M9r=n9r[e7T.A4O(A9r,1)];H9r.push(M9r);}n9r=this.askPoints;for(A9r=1; A9r < n9r.length; A9r++){if(u9r - n9r[A9r - 1].x < n9r[A9r].x - u9r)break;}if(n9r.length){e7T.J4O(13);z9r=n9r[e7T.y4O(A9r,1)];C9e=- +"191238722";K9e=-948847658;c9e=2;for(var k9e=1; e7T.e7e(k9e.toString(),k9e.toString().length,32678) !== C9e; k9e++){H9r.push(z9r);c9e+=+"2";}if(e7T.O4e(c9e.toString(),c9e.toString().length,20889) !== K9e){H9r.push(z9r);}}e7T.T4O(13);var q0e=e7T.A4O(3,2);G9r=this.bidPoints[this.bidPoints.length - q0e];m9r=this.askPoints[0];if(H9r.length){if(G9r !== undefined && m9r !== undefined){if(u9r <= G9r.x && u9r >= m9r.x || u9r > G9r.x && u9r < m9r.x){if(Math.pow(u9r - H9r[0].x,2) + Math.pow(Y9r - H9r[0].y,+"2") > Math.pow(u9r - H9r[1].x,2) + Math.pow(Y9r - H9r[1].y,2)){H9r.shift();}}else if(u9r > m9r.x){H9r.shift();}}else if(G9r === undefined && u9r < m9r.x || m9r === undefined && u9r > G9r.x){H9r.shift();}}U9r=H9r[0];if(!U9r){o9r.undisplayCrosshairs();return;}o9r.cx=U9r.x;o9r.cy=U9r.y;if(U9r == M9r){f9r=o9r.canvasStyle("stx_marketdepth_chart bid");}else {f9r=o9r.canvasStyle("stx_marketdepth_chart ask");}if(S9r){if(S9r.crossX){d3r.efficientDOMUpdate(S9r.crossX.style,"left",U9r.x + "px");S9r.crossX.style.display="";}if(S9r.crossY){d3r.efficientDOMUpdate(S9r.crossY.style,"top",U9r.y + "px");S9r.crossY.style.display="";}o9r.floatCanvas.style.display="block";if(S9r.floatDate){r0e="l";r0e+="eft";S9r.floatDate.style.visibility="";d3r.efficientDOMUpdate(S9r.floatDate.style,"width","auto");if(this.params.headsUp){J0e="<";J0e+="b";J0e+="r";J0e+=">";D0e="P";D0e+="ric";D0e+="e";j0e="bo";j0e+="t";j0e+="t";j0e+="om";if(o9r.floatCanvas.isDirty){d3r.clearCanvas(o9r.floatCanvas,o9r);}d3r.efficientDOMUpdate(S9r.floatDate.style,j0e,r9r.panel.chart.bottom - U9r.y + +"20" + "px");q9r=o9r.translateIf(D0e) + ": " + o9r.formatPrice(U9r.price) + (this.params.volume?J0e + o9r.translateIf("Vol") + ": " + U9r.vol:"") + "<br>" + o9r.translateIf("Depth") + ": " + o9r.formatPrice(o9r.transformedPriceFromPixel(U9r.y,r9r.panel));for(var J9r in U9r.custom){d0e=":";d0e+=" ";B0e="<";B0e+="br";B0e+=">";q9r+=B0e + o9r.translateIf(J9r) + d0e + U9r.custom[J9r];}S9r.floatDate.innerHTML=q9r;}else {Y0e="b";Y0e+="o";Y0e+="ttom";O9r=o9r.xAxisAsFooter === ! !{}?0:r9r.canvasHeight - r9r.panel.chart.bottom;d3r.efficientDOMUpdate(S9r.floatDate.style,Y0e,O9r + "px");d3r.efficientDOMUpdate(S9r.floatDate,"innerHTML",o9r.formatPrice(U9r.price) + (this.params.volume?"<br>" + U9r.vol:""));o9r.updateFloatHRLabel(r9r.panel);}e7T.T4O(5);var e0e=e7T.A4O(40,4,38);c9r=S9r.floatDate.offsetWidth / e0e - ("0.5" - 0);v9r=Math.min(Math.max(r9r.panel.left,U9r.x - c9r),r9r.panel.right - 2 * c9r - ("1" - 0));d3r.efficientDOMUpdate(S9r.floatDate.style,r0e,v9r + "px");}}T9r=d3r.stripPX(f9r.borderRightWidth) || this.lineWidth * ("0.7" * 1);d3r.clearCanvas(o9r.chart.tempCanvas,o9r);V9r=o9r.chart.tempCanvas.context;V9r.beginPath();V9r.lineWidth=1;V9r.fillStyle=f9r.borderRightColor || o9r.containerColor;V9r.strokeStyle=o9r.defaultColor;d3r.roundRect({ctx:V9r,x:U9r.x - T9r,top:U9r.y - T9r,width:+"2" * T9r,height:2 * T9r,radius:d3r.stripPX(f9r.borderTopRightRadius),stroke:!"1"});V9r.fill();V9r.stroke();V9r.closePath();o9r.chart.tempCanvas.style.display="block";};d3r.Renderer.MarketDepth.displayPrice=function(K9r, R9r, L9r, y9r, w9r){var d7T=Y3OO;var o0e,i9r;o0e=":";o0e+=" ";i9r=K9r.chart.left + K9r.chart.width / +"2";R9r.textAlign="center";R9r.fillStyle=L9r.color;R9r.save();d7T.J4O(13);var O6e=d7T.A4O(8748,10);d7T.T4O(24);var n6e=d7T.A4O(24,7593,20,1);d7T.T4O(25);var p6e=d7T.A4O(6,4,9,7885,16);d7T.J4O(26);var a6e=d7T.A4O(4013,859,13,14,6007);d7T.J4O(27);var G6e=d7T.A4O(5758,6,17,64350);d7T.T4O(28);var R6e=d7T.y4O(3245,7,9,62,39060);d7T.J4O(29);var l6e=d7T.A4O(1765,2,135,15);d7T.T4O(9);var w6e=d7T.A4O(2172,6517);d7T.J4O(30);var u6e=d7T.A4O(9333,9320,932,3,1);d7T.J4O(31);var y6e=d7T.A4O(7064,8,7061,7064);d7T.T4O(17);var S6e=d7T.A4O(59580,132400,2);d7T.J4O(32);var E6e=d7T.y4O(4,1287,34754,7);d7T.J4O(33);var F6e=d7T.A4O(18,15,166665,11250,7);d7T.J4O(32);var i6e=d7T.A4O(3,15432,136959,3);d7T.T4O(34);var b6e=d7T.A4O(2899911552,20,10,57756571754);d7T.T4O(35);var Q6e=d7T.A4O(12,10,30,8328);d7T.T4O(36);d7T.a7T();var j6e=d7T.A4O(5,4783,19143);R9r.font=L9r.fontStyle + ((+"2850",O6e) != (n6e,p6e)?" ":!"1") + L9r.fontVariant + " " + L9r.fontWeight + (a6e == (G6e,R6e)?(529.99,![]):11.95 === (l6e,w6e)?(! !{},! !{}):" ") + L9r.fontSize + (("691.87" - 0,u6e) <= 97.57?465.49:y6e != +"381.12"?"/":"g") + L9r.lineHeight + ((S6e,E6e) >= F6e?i6e:("6023" << b6e,Q6e) === (781.64,758.11)?j6e > ("794" ^ 0,771.01)?"U":(478.79,379.04):" ") + L9r.fontFamily.replace(/"/g,"");d7T.J4O(37);R9r.fillText(y9r,i9r,d7T.y4O(0,"30"));R9r.restore();if(w9r.length){R9r.fillText(K9r.translateIf("Spread") + o0e + w9r,i9r,60);}};for(var M3r=0; M3r < d3r.ChartEngine.registeredContainers.length; M3r++){V9ii="market";V9ii+="de";V9ii+="pt";V9ii+="h";h3r=d3r.ChartEngine.registeredContainers[M3r].stx;if(h3r.layout.chartType.indexOf(V9ii) > -1 && h3r.mainSeriesRenderer.params.type != "marketdepth"){J3r=h3r.mainSeriesRenderer.params.headsUp;h3r.setChartType(h3r.layout.chartType);h3r.mainSeriesRenderer.params.headsUp=J3r;h3r.draw();}}d3r.MarketDepth=function(D6r){var f0e,x0e,Z0e,s0e,W0e,k0e,P0e,c0e,K0e,s6r,Q6r,p6r,a6r,E6r,e6r,Z9r,B6r,k6r,x6r,g6r,G9e,R9e,l9e,N6r,g0e;f0e="re";f0e+="sizeChart";x0e="createData";x0e+="Segment";Z0e="l";Z0e+="ayout";s0e="view";s0e+="Rati";s0e+="o";W0e="st";function F6r(){var C0e;C0e="<cq-tooltip>Orderboo";C0e+="k</cq-tool";C0e+="tip>";Z9r.orderbookSwitch=document.createElement("cq-toggle");Z9r.orderbookSwitch.className="cq-orderbook-toggle";Z9r.orderbookSwitch.innerHTML=C0e;e6r.append(Z9r.orderbookSwitch);Z9r.orderbookSwitch.registerCallback(function(){Z9r.orderbook.open();},![]);}W0e+="x-crosshair";Y3OO.b7T();W0e+="-on";k0e="c";k0e+="rossha";k0e+="i";k0e+="r";P0e="chartContai";P0e+="ner";c0e="di";c0e+="v";K0e="str";K0e+="in";K0e+="g";if(!D6r || !D6r.stx){return;}s6r=D6r.stx;s6r.marketDepth=this;Q6r=D6r.height || "150px";p6r=D6r.stx.container;a6r=D6r.precedingContainer;if(typeof D6r.precedingContainer === K0e){a6r=document.querySelector(a6r);}if(!a6r){a6r=Array.from(p6r.parentElement.parentElement.querySelectorAll(".chartContainer")).pop().parentElement;}E6r=document.createElement("div");E6r.className="ciq-chart";e6r=document.createElement(c0e);e6r.className=P0e;E6r.appendChild(e6r);a6r.parentElement.insertBefore(E6r,a6r.nextSibling);Object.assign(E6r.style,{height:Q6r,paddingTop:"5px",display:"none"});e6r.style.height="100%";e6r.dimensionlessCanvas=! !1;Z9r=this.marketDepth=new d3r.ChartEngine({container:e6r,preferences:{labels:!{},whitespace:0}});Z9r.xaxisHeight=+"25";Z9r.manageTouchAndMouse=D6r.interaction || D6r.allowUIZoom;Z9r.setChartType("marketdepth");d3r.extend(Z9r.mainSeriesRenderer.params,D6r);Z9r.container.style.cursor=k0e;Z9r.layout.crosshair=!0;Z9r.container.classList.add(W0e);B6r=Z9r.chart;B6r.tension=D6r.tension;B6r.xAxis.fitLeftToRight=!0;B6r.panel.yAxis.initialMarginBottom=0;d3r.extend(B6r.panel.yAxis,D6r.yAxis);k6r=Z9r.controls && Z9r.controls.chartControls;Object.defineProperty(this,s0e,{get() {Y3OO.b7T();return Z9r.mainSeriesRenderer.params.widthFactor;},set(P6r) {var E7T=Y3OO;var m4e,Z4e,N4e;E7T.J4O(2);m4e=E7T.y4O("1070450060",2147483647);E7T.b7T();Z4e=-1589559396;N4e=2;for(var x4e=1; E7T.O4e(x4e.toString(),x4e.toString().length,10675) !== m4e; x4e++){Z9r.zoomSet(d3r.ChartEngine.prototype.layout.candleWidth % P6r);N4e+=2;}if(E7T.e7e(N4e.toString(),N4e.toString().length,+"99013") !== Z4e){Z9r.zoomSet(d3r.ChartEngine.prototype.layout.candleWidth / P6r);}}});x6r=D6r.orderbook;if(x6r){if(x6r === !0){g6r=document.createElement("cq-orderbook");g6r.setAttribute("cq-close","");g6r.setAttribute("cq-show-totals","");Z9r.orderbook=g6r;}else {Z9r.orderbook=x6r;}e6r.appendChild(Z9r.orderbook);G9e=1473095370;R9e=-1366858442;l9e=2;for(var u9e=+"1"; Y3OO.O4e(u9e.toString(),u9e.toString().length,34830) !== G9e; u9e++){F6r();l9e+=+"2";}if(Y3OO.e7e(l9e.toString(),l9e.toString().length,4651) !== R9e){F6r();}}Z9r.initializeChart();this.setRecorder=function(t6r){this.recording=t6r;};this.display=function(W6r){var m0e;m0e="h";m0e+="i";m0e+="de";if(s6r.layout.marketDepth !== W6r){s6r.layout.marketDepth=W6r;s6r.changeOccurred("layout");return;}E6r.style.display=W6r?"show":m0e;s6r.resizeChart();window.dispatchEvent(new Event("resize"));Y3OO.b7T();if(!W6r){return;}Z9r.resizeChart();Z9r.initializeChart();Z9r.draw();};this.setSymbol=function(C6r){var l4e,w4e,u4e;B6r.symbol=C6r;B6r.symbolObject={symbol:C6r};if(this.recording){Z9r.L2History={};}Z9r.mainSeriesRenderer.measureCache=null;l4e=-1307553747;w4e=-1328005594;u4e=2;for(var S4e=1; Y3OO.O4e(S4e.toString(),S4e.toString().length,76495) !== l4e; S4e++){Z9r.initializeChart();u4e+=2;}if(Y3OO.O4e(u4e.toString(),u4e.toString().length,68626) !== w4e){Z9r.initializeChart();}Z9r.draw();};this.acceptLayoutChange=function(b6r){var b9e,Q9e,j9e;if(Z9r.layout.marketDepth !== b6r.marketDepth){s6r.marketDepth.display(b6r.marketDepth);b9e=- +"411124077";Q9e=1111352751;j9e=2;for(var J9e="1" << 1482391520; Y3OO.e7e(J9e.toString(),J9e.toString().length,+"24132") !== b9e; J9e++){Z9r.layout.marketDepth=b6r.marketDepth;if(d3r.trulyVisible(E6r)){Z9r.draw();}j9e+=+"2";}if(Y3OO.e7e(j9e.toString(),j9e.toString().length,76648) !== Q9e){Z9r.layout.marketDepth=b6r.marketDepth;if(d3r.trulyVisible(E6r)){Z9r.draw();}}}if(this.recording){if(Z9r.layout.interval !== b6r.interval){Z9r.L2History={};}}};this.copyData=function(I6r){if(!I6r.dataSet){return;}B6r.masterData=Z9r.masterData=I6r.masterData;B6r.currentMarketData=I6r.currentMarketData;B6r.dataSet=I6r.dataSet;B6r.tickCache=I6r.tickCache;if(!B6r.symbol){B6r.symbol=I6r.symbol;Z9r.initializeChart();}Z9r.draw();};N6r=D6r.heatmapBlockHeight;this.computeHeatMap=function(u6r, f6r){var A7T=Y3OO;A7T.b7T();var j6r,l6r,o6r,U6r,X6r,A6r,Y6r,H6r,S6r,r6r,n6r,V6r,f4e,X4e,M4e,m6r,G6r;if(s6r.marketDepth.recording){j6r=u6r.Close;if(!j6r && j6r !== ("0" & 2147483647)){return;}if(!Z9r.L2History){Z9r.L2History={};}if(!Z9r.L2History[u6r.DT]){Z9r.L2History[u6r.DT]={};}l6r=Z9r.L2History[u6r.DT];o6r=u6r.BidL2 || l6r.BidL2;U6r=u6r.AskL2 || l6r.AskL2;A6r=0;Y6r=(o6r || []).concat(U6r || []);for(X6r=+"0"; X6r < Y6r.length; X6r++){A6r+=Y6r[X6r][1];}H6r=B6r.decimalPlaces;S6r=N6r || Math.pow(10,1 - H6r);if(o6r){f4e=-1430999758;X4e=-1601810462;M4e=2;for(var h4e="1" << 1736116672; A7T.O4e(h4e.toString(),h4e.toString().length,59687) !== f4e; h4e++){m6r=new Map();M4e+=2;}if(A7T.O4e(M4e.toString(),M4e.toString().length,778) !== X4e){m6r=new Map();}m6r=new Map();for(X6r=0; X6r < o6r.length; X6r++){r6r=d3r.round(Math.floor((o6r[X6r][0] - j6r) / S6r) * S6r + j6r + S6r / 2,H6r);n6r=o6r[X6r][1];V6r=m6r.get(r6r) || "0" - 0;A7T.J4O(9);m6r.set(r6r,A7T.y4O(V6r,n6r));}l6r.BidL2=o6r;l6r.BidHeatmap=[];m6r.forEach(function(T6r, d6r){A7T.b7T();l6r.BidHeatmap.push([d6r,T6r,Math.min(1,3 * T6r / A6r)]);});}if(U6r){G6r=new Map();for(X6r="0" ^ 0; X6r < U6r.length; X6r++){r6r=d3r.round(Math.ceil((U6r[X6r][+"0"] - j6r) / S6r) * S6r + j6r - S6r / 2,H6r);n6r=U6r[X6r][1];V6r=G6r.get(r6r) || 0;A7T.J4O(9);G6r.set(r6r,A7T.y4O(V6r,n6r));}l6r.AskL2=U6r;l6r.AskHeatmap=[];G6r.forEach(function(h6r, M6r){A7T.b7T();l6r.AskHeatmap.push([M6r,h6r,Math.min(1,("3" >> 1317275872) * h6r / A6r)]);});}}else {Z9r.L2History={};}};s6r.addEventListener(Z0e,function(q6r){q6r.stx.marketDepth.acceptLayoutChange(q6r.stx.layout);});s6r.addEventListener("preferences",function(c6r){var B9e,d9e,Y9e,J6r;B9e=-354125268;d9e=1822199489;Y9e=2;for(var o9e=1; Y3OO.O4e(o9e.toString(),o9e.toString().length,+"39717") !== B9e; o9e++){J6r=c6r.stx.preferences.language;Y9e+=2;}Y3OO.b7T();if(Y3OO.e7e(Y9e.toString(),Y9e.toString().length,24821) !== d9e){J6r=c6r.stx.preferences.language;}if(d3r.I18N && Z9r.preferences.language != J6r){d3r.I18N.localize(Z9r,J6r);}Z9r.preferences.language=J6r;Z9r.draw();});s6r.addEventListener("symbolChange",function(z6r){var N0e;N0e="ma";N0e+="s";N0e+="te";N0e+="r";Y3OO.a7T();if(z6r.action == N0e){z6r.stx.marketDepth.setSymbol(z6r.symbol);}});s6r.addEventListener("symbolImport",function(O6r){if(O6r.action == "master"){O6r.stx.marketDepth.setSymbol(O6r.symbol);}Y3OO.a7T();O6r.stx.marketDepth.acceptLayoutChange(O6r.stx.layout);});s6r.addEventListener("theme",function(R6r){var v6r;Z9r.clearPixelCache();Z9r.styles={};B6r.container.style.backgroundColor="";v6r=new d3r.ThemeHelper({stx:R6r.stx});v6r.params.stx=Z9r;v6r.update();});s6r.append("initializeDisplay",function(K6r){var T0e,y9e,S9e,E9e,L6r;T0e="l";T0e+="ef";T0e+="t";if(Z9r.orderbookSwitch){Z9r.orderbookSwitch.classList[B6r.yAxis.position === "left"?"add":"remove"](T0e);}y9e=-1370301908;S9e=1716575942;E9e=2;for(var i9e=1; Y3OO.e7e(i9e.toString(),i9e.toString().length,+"81193") !== y9e; i9e++){if(+this.layout.l2heatmap){return;}E9e+=2;}if(Y3OO.e7e(E9e.toString(),E9e.toString().length,64676) !== S9e){if(!this.layout.l2heatmap){return;}}Y3OO.b7T();for(var i6r=+"0"; i6r <= this.chart.dataSegment.length - 1; i6r++){L6r=this.chart.dataSegment[i6r];if(!L6r)continue;if(L6r.BidHeatmap && L6r.BidHeatmap.length){K6r.lowValue=K6r.yAxis.lowValue=Math.min(K6r.lowValue,L6r.BidHeatmap[0][0]);}if(L6r.AskHeatmap && L6r.AskHeatmap.length){K6r.highValue=K6r.yAxis.highValue=Math.max(K6r.highValue,L6r.AskHeatmap[L6r.AskHeatmap.length - 1][0]);}}});s6r.append("createDataSet",function(){this.marketDepth.copyData(this.chart);});s6r.append("updateCurrentMarketData",function(y6r, w6r, D5r, {animationEntry:Z6r, animationLastBar:s5r, fromTrade:B5r} = {}){Y3OO.a7T();if(Z6r || D5r){return;}w6r=w6r || this.chart;if(Z9r.L2History && Z9r.L2History[y6r.DT]){Z9r.L2History[y6r.DT]=null;if(!B5r && !s5r && w6r.xaxis.length && w6r.xaxis[0].DT <= y6r.DT && w6r.xaxis[w6r.xaxis.length - 1].DT >= y6r.DT){this.marketDepth.copyData(w6r);setTimeout(()=>{s6r.draw();});}}});s6r.append(x0e,function(x5r){var e5r,E5r,p5r;if(this.marketDepth.recording){e5r=x5r || this.chart;for(var a5r=0; a5r < e5r.dataSegment.length; a5r++){E5r=e5r.dataSegment[a5r];if(!E5r)continue;if(!Z9r.L2History || !Z9r.L2History[E5r.DT]){this.marketDepth.computeHeatMap(E5r,e5r);}p5r=Z9r.L2History[E5r.DT];if(p5r){E5r.BidHeatmap=p5r.BidHeatmap;E5r.AskHeatmap=p5r.AskHeatmap;}}}});s6r.prepend(f0e,function(){var u7T=Y3OO;var X0e,g5r,k5r,N5r,Q5r,E4e,F4e,i4e,v9e,h9e,g9e,M0e,F5r;X0e="p";u7T.b7T();X0e+="x";g5r=p6r.parentElement;k5r=g5r.parentElement;N5r=d3r.elementDimensions(k5r).height;Q5r=k5r.querySelectorAll(".chartContainer");Array.from(Q5r).forEach(function(P5r){u7T.a7T();if(P5r !== p6r && d3r.trulyVisible(P5r)){N5r-=d3r.elementDimensions(P5r.parentElement,{border:1,padding:1,margin:1}).height;}});E4e=- +"894378752";F4e=688784391;i4e=2;for(var Q4e=1; u7T.e7e(Q4e.toString(),Q4e.toString().length,87767) !== E4e; Q4e++){u7T.J4O(21);g5r.style.height=u7T.y4O(N5r,"");i4e+=+"2";}if(u7T.e7e(i4e.toString(),i4e.toString().length,38671) !== F4e){u7T.J4O(21);g5r.style.height=u7T.y4O(N5r,"");}u7T.J4O(9);g5r.style.height=u7T.y4O(N5r,X0e);if(this.layout.marketDepth){E6r.style.display="";B6r.width=B6r.container.clientWidth - B6r.yAxis.width;Z9r.setCandleWidth(Z9r.layout.candleWidth);B6r.canvasHeight=B6r.container.clientHeight;Z9r.resizeChart();Z9r.initializeChart();Z9r.draw();}else {v9e=+"1490550559";h9e=1012977133;g9e=2;for(var L9e=1; u7T.e7e(L9e.toString(),L9e.toString().length,56007) !== v9e; L9e++){E6r.style.display="none";g9e+=2;}if(u7T.e7e(g9e.toString(),g9e.toString().length,66635) !== h9e){E6r.style.display="";}}if(k6r){M0e="a";M0e+="d";M0e+="d";u7T.T4O(13);var D6e=u7T.y4O(6400,6000);F5r=Z9r.width < D6e;k6r.classList[F5r?M0e:"remove"]("small");}});s6r.prepend("displayChart",function(){var h0e,v0e,W5r,C5r,t5r;if(this.layout.l2heatmap){h0e="BidH";h0e+="ea";h0e+="tmap";v0e="stx_marketdepth_chart b";v0e+="id";if(d3r.MarketDepth.hmStyleSheetLoaded){d3r.MarketDepth.hmStyleSheetLoaded=null;this.clearStyles();}W5r=this.canvasStyle(v0e);C5r=this.canvasStyle("stx_marketdepth_chart ask");t5r={min:+"0.3",max:+"0.9"};this.drawHeatmap({height:N6r || Math.pow(10,1 - B6r.decimalPlaces),showSize:D6r.heatmapSize},[{field:h0e,color:Z9r.mainSeriesRenderer.params.bidPeakColor || W5r.borderTopColor,opacity:t5r},{field:"AskHeatmap",color:Z9r.mainSeriesRenderer.params.askPeakColor || C5r.borderTopColor,opacity:t5r}]);}});this.copyData(s6r.chart);this.setRecorder(D6r.record);if(d3r.UI){g0e="l2";g0e+="Hea";g0e+="tMap";d3r.UI.KeystrokeHub.addHotKeyHandler("marketDepth",()=>{Y3OO.b7T();document.body.keystrokeHub.context.advertised.Layout.setMarketDepth();},s6r);d3r.UI.KeystrokeHub.addHotKeyHandler(g0e,()=>{document.body.keystrokeHub.context.advertised.Layout.setL2Heatmap();},s6r);}};/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
